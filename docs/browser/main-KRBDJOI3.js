import{A as qt,a as $,b as de,c as QD,d as eg,e as P,f as YD,g as nd,h as ZD,i as JD,j as XD,k as tg,l as eC,m as Pl,n as ng,o as rd,p as tC,q as nC,r as rg,s as Xe,t as cs,u as Xn,v as id,w as kl,x as rC,y as iC,z as mi}from"./chunk-DA3O343V.js";function sC(n,e){return Object.is(n,e)}var wt=null,sd=!1,od=1,xr=Symbol("SIGNAL");function Re(n){let e=wt;return wt=n,e}function oC(){return wt}var Fl={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function og(n){if(sd)throw new Error("");if(wt===null)return;wt.consumerOnSignalRead(n);let e=wt.nextProducerIndex++;if(cd(wt),e<wt.producerNode.length&&wt.producerNode[e]!==n&&Ol(wt)){let t=wt.producerNode[e];ud(t,wt.producerIndexOfThis[e])}wt.producerNode[e]!==n&&(wt.producerNode[e]=n,wt.producerIndexOfThis[e]=Ol(wt)?cC(n,wt,e):0),wt.producerLastReadVersion[e]=n.version}function _k(){od++}function aC(n){if(!(Ol(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===od)){if(!n.producerMustRecompute(n)&&!lg(n)){n.dirty=!1,n.lastCleanEpoch=od;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=od}}function lC(n){if(n.liveConsumerNode===void 0)return;let e=sd;sd=!0;try{for(let t of n.liveConsumerNode)t.dirty||wk(t)}finally{sd=e}}function uC(){return wt?.consumerAllowSignalWrites!==!1}function wk(n){n.dirty=!0,lC(n),n.consumerMarkedDirty?.(n)}function ld(n){return n&&(n.nextProducerIndex=0),Re(n)}function ag(n,e){if(Re(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Ol(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)ud(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function lg(n){cd(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(aC(t),r!==t.version))return!0}return!1}function ug(n){if(cd(n),Ol(n))for(let e=0;e<n.producerNode.length;e++)ud(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function cC(n,e,t){if(dC(n),n.liveConsumerNode.length===0&&hC(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=cC(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function ud(n,e){if(dC(n),n.liveConsumerNode.length===1&&hC(n))for(let r=0;r<n.producerNode.length;r++)ud(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];cd(i),i.producerIndexOfThis[r]=e}}function Ol(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function cd(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function dC(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function hC(n){return n.producerNode!==void 0}function fC(n){let e=Object.create(Ek);e.computation=n;let t=()=>{if(aC(e),og(e),e.value===ad)throw e.error;return e.value};return t[xr]=e,t}var ig=Symbol("UNSET"),sg=Symbol("COMPUTING"),ad=Symbol("ERRORED"),Ek=de($({},Fl),{value:ig,dirty:!0,error:null,equal:sC,producerMustRecompute(n){return n.value===ig||n.value===sg},producerRecomputeValue(n){if(n.value===sg)throw new Error("Detected cycle in computations.");let e=n.value;n.value=sg;let t=ld(n),r;try{r=n.computation()}catch(i){r=ad,n.error=i}finally{ag(n,t)}if(e!==ig&&e!==ad&&r!==ad&&n.equal(e,r)){n.value=e;return}n.value=r,n.version++}});function Ik(){throw new Error}var pC=Ik;function mC(){pC()}function gC(n){pC=n}var Dk=null;function yC(n){let e=Object.create(_C);e.value=n;let t=()=>(og(e),e.value);return t[xr]=e,t}function cg(n,e){uC()||mC(),n.equal(n.value,e)||(n.value=e,Ck(n))}function vC(n,e){uC()||mC(),cg(n,e(n.value))}var _C=de($({},Fl),{equal:sC,value:void 0});function Ck(n){n.version++,_k(),lC(n),Dk?.()}function ce(n){return typeof n=="function"}function To(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var dd=To(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function ds(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var st=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let s of t)s.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(ce(r))try{r()}catch(s){e=s instanceof dd?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{wC(s)}catch(o){e=e??[],o instanceof dd?e=[...e,...o.errors]:e.push(o)}}if(e)throw new dd(e)}}add(e){var t;if(e&&e!==this)if(this.closed)wC(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&ds(t,e)}remove(e){let{_finalizers:t}=this;t&&ds(t,e),e instanceof n&&e._removeParent(this)}};st.EMPTY=(()=>{let n=new st;return n.closed=!0,n})();var dg=st.EMPTY;function hd(n){return n instanceof st||n&&"closed"in n&&ce(n.remove)&&ce(n.add)&&ce(n.unsubscribe)}function wC(n){ce(n)?n():n.unsubscribe()}var Fn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var So={setTimeout(n,e,...t){let{delegate:r}=So;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=So;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function fd(n){So.setTimeout(()=>{let{onUnhandledError:e}=Fn;if(e)e(n);else throw n})}function Vl(){}var EC=hg("C",void 0,void 0);function IC(n){return hg("E",void 0,n)}function DC(n){return hg("N",n,void 0)}function hg(n,e,t){return{kind:n,value:e,error:t}}var hs=null;function Ao(n){if(Fn.useDeprecatedSynchronousErrorHandling){let e=!hs;if(e&&(hs={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=hs;if(hs=null,t)throw r}}else n()}function CC(n){Fn.useDeprecatedSynchronousErrorHandling&&hs&&(hs.errorThrown=!0,hs.error=n)}var fs=class extends st{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,hd(e)&&e.add(this)):this.destination=Sk}static create(e,t,r){return new Rr(e,t,r)}next(e){this.isStopped?pg(DC(e),this):this._next(e)}error(e){this.isStopped?pg(IC(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?pg(EC,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},bk=Function.prototype.bind;function fg(n,e){return bk.call(n,e)}var mg=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){pd(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){pd(r)}else pd(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){pd(t)}}},Rr=class extends fs{constructor(e,t,r){super();let i;if(ce(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&Fn.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&fg(e.next,s),error:e.error&&fg(e.error,s),complete:e.complete&&fg(e.complete,s)}):i=e}this.destination=new mg(i)}};function pd(n){Fn.useDeprecatedSynchronousErrorHandling?CC(n):fd(n)}function Tk(n){throw n}function pg(n,e){let{onStoppedNotification:t}=Fn;t&&So.setTimeout(()=>t(n,e))}var Sk={closed:!0,next:Vl,error:Tk,complete:Vl};var Mo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function zt(n){return n}function gg(...n){return yg(n)}function yg(n){return n.length===0?zt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var Ce=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let s=Mk(t)?t:new Rr(t,r,i);return Ao(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=bC(r),new r((i,s)=>{let o=new Rr({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Mo](){return this}pipe(...t){return yg(t)(this)}toPromise(t){return t=bC(t),new t((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function bC(n){var e;return(e=n??Fn.Promise)!==null&&e!==void 0?e:Promise}function Ak(n){return n&&ce(n.next)&&ce(n.error)&&ce(n.complete)}function Mk(n){return n&&n instanceof fs||Ak(n)&&hd(n)}function vg(n){return ce(n?.lift)}function ye(n){return e=>{if(vg(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ve(n,e,t,r,i){return new _g(n,e,t,r,i)}var _g=class extends fs{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function xo(){return ye((n,e)=>{let t=null;n._refCount++;let r=ve(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Ro=class extends Ce{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,vg(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new st;let t=this.getSubject();e.add(this.source.subscribe(ve(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=st.EMPTY)}return e}refCount(){return xo()(this)}};var TC=To(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ke=(()=>{class n extends Ce{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new md(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new TC}next(t){Ao(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Ao(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Ao(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:s}=this;return r||i?dg:(this.currentObservers=null,s.push(t),new st(()=>{this.currentObservers=null,ds(s,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){let t=new Ce;return t.source=this,t}}return n.create=(e,t)=>new md(e,t),n})(),md=class extends ke{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:dg}};var St=class extends ke{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Ll={now(){return(Ll.delegate||Date).now()},delegate:void 0};var gd=class extends ke{constructor(e=1/0,t=1/0,r=Ll){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){let{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;t||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){let{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){let o=t.now(),a=0;for(let l=1;l<r.length&&r[l]<=o;l+=2)a=l;a&&r.splice(0,a+1)}}};var yd=class extends st{constructor(e,t){super()}schedule(e,t=0){return this}};var jl={setInterval(n,e,...t){let{delegate:r}=jl;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=jl;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var No=class extends yd{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return jl.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&jl.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,ds(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Po=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Po.now=Ll.now;var ko=class extends Po{constructor(e,t=Po.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Bl=new ko(No);var vd=class extends No{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var _d=class extends ko{};var wg=new _d(vd);var Gt=new Ce(n=>n.complete());function SC(n){return n&&ce(n.schedule)}function Eg(n){return n[n.length-1]}function wd(n){return ce(Eg(n))?n.pop():void 0}function er(n){return SC(Eg(n))?n.pop():void 0}function AC(n,e){return typeof Eg(n)=="number"?n.pop():e}var Ed=n=>n&&typeof n.length=="number"&&typeof n!="function";function Id(n){return ce(n?.then)}function Dd(n){return ce(n[Mo])}function Cd(n){return Symbol.asyncIterator&&ce(n?.[Symbol.asyncIterator])}function bd(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function xk(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Td=xk();function Sd(n){return ce(n?.[Td])}function Ad(n){return ZD(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield nd(t.read());if(i)return yield nd(void 0);yield yield nd(r)}}finally{t.releaseLock()}})}function Md(n){return ce(n?.getReader)}function We(n){if(n instanceof Ce)return n;if(n!=null){if(Dd(n))return Rk(n);if(Ed(n))return Nk(n);if(Id(n))return Pk(n);if(Cd(n))return MC(n);if(Sd(n))return kk(n);if(Md(n))return Ok(n)}throw bd(n)}function Rk(n){return new Ce(e=>{let t=n[Mo]();if(ce(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Nk(n){return new Ce(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function Pk(n){return new Ce(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,fd)})}function kk(n){return new Ce(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function MC(n){return new Ce(e=>{Fk(n,e).catch(t=>e.error(t))})}function Ok(n){return MC(Ad(n))}function Fk(n,e){var t,r,i,s;return YD(this,void 0,void 0,function*(){try{for(t=JD(n);r=yield t.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})}function en(n,e,t,r=0,i=!1){let s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function En(n,e=0){return ye((t,r)=>{t.subscribe(ve(r,i=>en(r,n,()=>r.next(i),e),()=>en(r,n,()=>r.complete(),e),i=>en(r,n,()=>r.error(i),e)))})}function Vn(n,e=0){return ye((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function xC(n,e){return We(n).pipe(Vn(e),En(e))}function RC(n,e){return We(n).pipe(Vn(e),En(e))}function NC(n,e){return new Ce(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function PC(n,e){return new Ce(t=>{let r;return en(t,e,()=>{r=n[Td](),en(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){t.error(o);return}s?t.complete():t.next(i)},0,!0)}),()=>ce(r?.return)&&r.return()})}function xd(n,e){if(!n)throw new Error("Iterable cannot be null");return new Ce(t=>{en(t,e,()=>{let r=n[Symbol.asyncIterator]();en(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function kC(n,e){return xd(Ad(n),e)}function OC(n,e){if(n!=null){if(Dd(n))return xC(n,e);if(Ed(n))return NC(n,e);if(Id(n))return RC(n,e);if(Cd(n))return xd(n,e);if(Sd(n))return PC(n,e);if(Md(n))return kC(n,e)}throw bd(n)}function Te(n,e){return e?OC(n,e):We(n)}function ie(...n){let e=er(n);return Te(n,e)}function Oo(n,e){let t=ce(n)?n:()=>n,r=i=>i.error(t());return new Ce(e?i=>e.schedule(r,0,i):r)}function Ig(n){return!!n&&(n instanceof Ce||ce(n.lift)&&ce(n.subscribe))}var Nr=To(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function le(n,e){return ye((t,r)=>{let i=0;t.subscribe(ve(r,s=>{r.next(n.call(e,s,i++))}))})}var{isArray:Vk}=Array;function Lk(n,e){return Vk(e)?n(...e):n(e)}function Rd(n){return le(e=>Lk(n,e))}var{isArray:jk}=Array,{getPrototypeOf:Bk,prototype:Uk,keys:$k}=Object;function Nd(n){if(n.length===1){let e=n[0];if(jk(e))return{args:e,keys:null};if(Hk(e)){let t=$k(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function Hk(n){return n&&typeof n=="object"&&Bk(n)===Uk}function Pd(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Ul(...n){let e=er(n),t=wd(n),{args:r,keys:i}=Nd(n);if(r.length===0)return Te([],e);let s=new Ce(qk(r,e,i?o=>Pd(i,o):zt));return t?s.pipe(Rd(t)):s}function qk(n,e,t=zt){return r=>{FC(e,()=>{let{length:i}=n,s=new Array(i),o=i,a=i;for(let l=0;l<i;l++)FC(e,()=>{let c=Te(n[l],e),d=!1;c.subscribe(ve(r,f=>{s[l]=f,d||(d=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function FC(n,e,t){n?en(t,n,e):e()}function VC(n,e,t,r,i,s,o,a){let l=[],c=0,d=0,f=!1,m=()=>{f&&!l.length&&!c&&e.complete()},y=b=>c<r?E(b):l.push(b),E=b=>{s&&e.next(b),c++;let M=!1;We(t(b,d++)).subscribe(ve(e,F=>{i?.(F),s?y(F):e.next(F)},()=>{M=!0},void 0,()=>{if(M)try{for(c--;l.length&&c<r;){let F=l.shift();o?en(e,o,()=>E(F)):E(F)}m()}catch(F){e.error(F)}}))};return n.subscribe(ve(e,y,()=>{f=!0,m()})),()=>{a?.()}}function mt(n,e,t=1/0){return ce(e)?mt((r,i)=>le((s,o)=>e(r,s,i,o))(We(n(r,i))),t):(typeof e=="number"&&(t=e),ye((r,i)=>VC(r,i,n,t)))}function tr(n=1/0){return mt(zt,n)}function LC(){return tr(1)}function Fo(...n){return LC()(Te(n,er(n)))}function kd(n){return new Ce(e=>{We(n()).subscribe(e)})}function Dg(...n){let e=wd(n),{args:t,keys:r}=Nd(n),i=new Ce(s=>{let{length:o}=t;if(!o){s.complete();return}let a=new Array(o),l=o,c=o;for(let d=0;d<o;d++){let f=!1;We(t[d]).subscribe(ve(s,m=>{f||(f=!0,c--),a[d]=m},()=>l--,void 0,()=>{(!l||!f)&&(c||s.next(r?Pd(r,a):a),s.complete())}))}});return e?i.pipe(Rd(e)):i}function Cg(...n){let e=er(n),t=AC(n,1/0),r=n;return r.length?r.length===1?We(r[0]):tr(t)(Te(r,e)):Gt}function At(n,e){return ye((t,r)=>{let i=0;t.subscribe(ve(r,s=>n.call(e,s,i++)&&r.next(s)))})}function Ln(n){return ye((e,t)=>{let r=null,i=!1,s;r=e.subscribe(ve(t,void 0,void 0,o=>{s=We(n(o,Ln(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function jC(n,e,t,r,i){return(s,o)=>{let a=t,l=e,c=0;s.subscribe(ve(o,d=>{let f=c++;l=a?n(l,d,f):(a=!0,d),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}function ps(n,e){return ce(e)?mt(n,e,1):mt(n,1)}function gi(n){return ye((e,t)=>{let r=!1;e.subscribe(ve(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function In(n){return n<=0?()=>Gt:ye((e,t)=>{let r=0;e.subscribe(ve(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function bg(n){return le(()=>n)}function Tg(n,e=zt){return n=n??zk,ye((t,r)=>{let i,s=!0;t.subscribe(ve(r,o=>{let a=e(o);(s||!n(i,a))&&(s=!1,i=a,r.next(o))}))})}function zk(n,e){return n===e}function Od(n=Gk){return ye((e,t)=>{let r=!1;e.subscribe(ve(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Gk(){return new Nr}function $l(n){return ye((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Dn(n,e){let t=arguments.length>=2;return r=>r.pipe(n?At((i,s)=>n(i,s,r)):zt,In(1),t?gi(e):Od(()=>new Nr))}function Vo(n){return n<=0?()=>Gt:ye((e,t)=>{let r=[];e.subscribe(ve(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Sg(n,e){let t=arguments.length>=2;return r=>r.pipe(n?At((i,s)=>n(i,s,r)):zt,Vo(1),t?gi(e):Od(()=>new Nr))}function Hl(){return ye((n,e)=>{let t,r=!1;n.subscribe(ve(e,i=>{let s=t;t=i,r&&e.next([s,i]),r=!0}))})}function ms(n,e){return ye(jC(n,e,arguments.length>=2,!0))}function BC(n={}){let{connector:e=()=>new ke,resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,l,c=0,d=!1,f=!1,m=()=>{a?.unsubscribe(),a=void 0},y=()=>{m(),o=l=void 0,d=f=!1},E=()=>{let b=o;y(),b?.unsubscribe()};return ye((b,M)=>{c++,!f&&!d&&m();let F=l=l??e();M.add(()=>{c--,c===0&&!f&&!d&&(a=Ag(E,i))}),F.subscribe(M),!o&&c>0&&(o=new Rr({next:q=>F.next(q),error:q=>{f=!0,m(),a=Ag(y,t,q),F.error(q)},complete:()=>{d=!0,m(),a=Ag(y,r),F.complete()}}),We(b).subscribe(o))})(s)}}function Ag(n,e,...t){if(e===!0){n();return}if(e===!1)return;let r=new Rr({next:()=>{r.unsubscribe(),n()}});return We(e(...t)).subscribe(r)}function Fd(n,e,t){let r,i=!1;return n&&typeof n=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n:r=n??1/0,BC({connector:()=>new gd(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function gs(...n){let e=er(n);return ye((t,r)=>{(e?Fo(n,t,e):Fo(n,t)).subscribe(r)})}function ot(n,e){return ye((t,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();t.subscribe(ve(r,l=>{i?.unsubscribe();let c=0,d=s++;We(n(l,d)).subscribe(i=ve(r,f=>r.next(e?e(l,f,d,c++):f),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Vd(n,e){return ce(e)?ot(()=>n,e):ot(()=>n)}function Mg(n){return ye((e,t)=>{We(n).subscribe(ve(t,()=>t.complete(),Vl)),!t.closed&&e.subscribe(t)})}function Et(n,e,t){let r=ce(n)||e||t?{next:n,error:e,complete:t}:n;return r?ye((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(ve(s,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),s.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),s.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),s.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):zt}var Ab="https://g.co/ng/security#xss",H=class extends Error{constructor(e,t){super($y(e,t)),this.code=e}};function $y(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function Xl(n){return{toString:n}.toString()}var Ld="__parameters__";function Wk(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function Mb(n,e,t){return Xl(()=>{let r=Wk(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(l,c,d){let f=l.hasOwnProperty(Ld)?l[Ld]:Object.defineProperty(l,Ld,{value:[]})[Ld];for(;f.length<=d;)f.push(null);return(f[d]=f[d]||[]).push(o),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var un=globalThis;function Ue(n){for(let e in n)if(n[e]===Ue)return e;throw Error("Could not find renamed property on target object.")}function Kk(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Kt(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(Kt).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function Hg(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var Qk=Ue({__forward_ref__:Ue});function ta(n){return n.__forward_ref__=ta,n.toString=function(){return Kt(this())},n}function Wt(n){return xb(n)?n():n}function xb(n){return typeof n=="function"&&n.hasOwnProperty(Qk)&&n.__forward_ref__===ta}function Z(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Qe(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ih(n){return UC(n,Nb)||UC(n,Pb)}function Rb(n){return Ih(n)!==null}function UC(n,e){return n.hasOwnProperty(e)?n[e]:null}function Yk(n){let e=n&&(n[Nb]||n[Pb]);return e||null}function $C(n){return n&&(n.hasOwnProperty(HC)||n.hasOwnProperty(Zk))?n[HC]:null}var Nb=Ue({\u0275prov:Ue}),HC=Ue({\u0275inj:Ue}),Pb=Ue({ngInjectableDef:Ue}),Zk=Ue({ngInjectorDef:Ue}),Y=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=Z({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function kb(n){return n&&!!n.\u0275providers}var Jk=Ue({\u0275cmp:Ue}),Xk=Ue({\u0275dir:Ue}),eO=Ue({\u0275pipe:Ue}),tO=Ue({\u0275mod:Ue}),Zd=Ue({\u0275fac:Ue}),zl=Ue({__NG_ELEMENT_ID__:Ue}),qC=Ue({__NG_ENV_ID__:Ue});function eu(n){return typeof n=="string"?n:n==null?"":String(n)}function nO(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():eu(n)}function rO(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new H(-200,n)}function Hy(n,e){throw new H(-201,!1)}var we=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(we||{}),qg;function Ob(){return qg}function Cn(n){let e=qg;return qg=n,e}function Fb(n,e,t){let r=Ih(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&we.Optional)return null;if(e!==void 0)return e;Hy(n,"Injector")}var iO={},Wl=iO,zg="__NG_DI_FLAG__",Jd="ngTempTokenPath",sO="ngTokenPath",oO=/\n/gm,aO="\u0275",zC="__source",$o;function lO(){return $o}function yi(n){let e=$o;return $o=n,e}function uO(n,e=we.Default){if($o===void 0)throw new H(-203,!1);return $o===null?Fb(n,void 0,e):$o.get(n,e&we.Optional?null:void 0,e)}function j(n,e=we.Default){return(Ob()||uO)(Wt(n),e)}function z(n,e=we.Default){return j(n,Dh(e))}function Dh(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Gg(n){let e=[];for(let t=0;t<n.length;t++){let r=Wt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new H(900,!1);let i,s=we.Default;for(let o=0;o<r.length;o++){let a=r[o],l=cO(a);typeof l=="number"?l===-1?i=a.token:s|=l:i=a}e.push(j(i,s))}else e.push(j(r))}return e}function Vb(n,e){return n[zg]=e,n.prototype[zg]=e,n}function cO(n){return n[zg]}function dO(n,e,t,r){let i=n[Jd];throw e[zC]&&i.unshift(e[zC]),n.message=hO(`
`+n.message,i,t,r),n[sO]=i,n[Jd]=null,n}function hO(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==aO?n.slice(2):n;let i=Kt(e);if(Array.isArray(e))i=e.map(Kt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Kt(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(oO,`
  `)}`}var tu=Vb(Mb("Optional"),8);var Lb=Vb(Mb("SkipSelf"),4);function qo(n,e){let t=n.hasOwnProperty(Zd);return t?n[Zd]:null}function fO(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}function pO(n){return n.flat(Number.POSITIVE_INFINITY)}function qy(n,e){n.forEach(t=>Array.isArray(t)?qy(t,e):e(t))}function jb(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Xd(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function mO(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let s=i-2;n[i]=n[s],i--}n[e]=t,n[e+1]=r}}function zy(n,e,t){let r=nu(n,e);return r>=0?n[r|1]=t:(r=~r,mO(n,r,e,t)),r}function xg(n,e){let t=nu(n,e);if(t>=0)return n[t|1]}function nu(n,e){return gO(n,e,1)}function gO(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}var zo={},tn=[],Go=new Y(""),Bb=new Y("",-1),Ub=new Y(""),eh=class{get(e,t=Wl){if(t===Wl){let r=new Error(`NullInjectorError: No provider for ${Kt(e)}!`);throw r.name="NullInjectorError",r}return t}},$b=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}($b||{}),ir=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(ir||{}),wi=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(wi||{});function yO(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}function Wg(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{let s=i,o=t[++r];vO(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function Hb(n){return n===3||n===4||n===6}function vO(n){return n.charCodeAt(0)===64}function Kl(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?GC(n,t,i,null,e[++r]):GC(n,t,i,null,null))}}return n}function GC(n,e,t,r,i){let s=0,o=n.length;if(e===-1)o=-1;else for(;s<n.length;){let a=n[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<n.length;){let a=n[s];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(n[s+1]=i);return}else if(r===n[s+1]){n[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),r!==null&&n.splice(s++,0,r),i!==null&&n.splice(s++,0,i)}var qb="ng-template";function _O(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&yO(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Gy(n))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===t)return!0}return!1}function Gy(n){return n.type===4&&n.value!==qb}function wO(n,e,t){let r=n.type===4&&!t?qb:n.value;return e===r}function EO(n,e,t){let r=4,i=n.attrs,s=i!==null?CO(i):0,o=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!o&&!jn(r)&&!jn(l))return!1;if(o&&jn(l))continue;o=!1,r=l|r&1;continue}if(!o)if(r&4){if(r=2|r&1,l!==""&&!wO(n,l,t)||l===""&&e.length===1){if(jn(r))return!1;o=!0}}else if(r&8){if(i===null||!_O(n,i,l,t)){if(jn(r))return!1;o=!0}}else{let c=e[++a],d=IO(l,i,Gy(n),t);if(d===-1){if(jn(r))return!1;o=!0;continue}if(c!==""){let f;if(d>s?f="":f=i[d+1].toLowerCase(),r&2&&c!==f){if(jn(r))return!1;o=!0}}}}return jn(r)||o}function jn(n){return(n&1)===0}function IO(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){let o=e[i];if(o===n)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return bO(e,n)}function DO(n,e,t=!1){for(let r=0;r<e.length;r++)if(EO(n,e[r],t))return!0;return!1}function CO(n){for(let e=0;e<n.length;e++){let t=n[e];if(Hb(t))return e}return n.length}function bO(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function WC(n,e){return n?":not("+e.trim()+")":e}function TO(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if(typeof o=="string")if(r&2){let a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!jn(o)&&(e+=WC(s,i),i=""),r=o,s=s||!jn(r);t++}return i!==""&&(e+=WC(s,i)),e}function SO(n){return n.map(TO).join(",")}function AO(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let s=n[r];if(typeof s=="string")i===2?s!==""&&e.push(s,n[++r]):i===8&&t.push(s);else{if(!jn(i))break;i=s}r++}return{attrs:e,classes:t}}function Fe(n){return Xl(()=>{let e=Qb(n),t=de($({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===$b.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||ir.Emulated,styles:n.styles||tn,_:null,schemas:n.schemas||null,tView:null,id:""});Yb(t);let r=n.dependencies;return t.directiveDefs=QC(r,!1),t.pipeDefs=QC(r,!0),t.id=RO(t),t})}function MO(n){return Ei(n)||zb(n)}function xO(n){return n!==null}function Ye(n){return Xl(()=>({type:n.type,bootstrap:n.bootstrap||tn,declarations:n.declarations||tn,imports:n.imports||tn,exports:n.exports||tn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function KC(n,e){if(n==null)return zo;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],s,o,a=wi.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(t[s]=a!==wi.None?[r,a]:r,e[s]=o):t[s]=r}return t}function Lt(n){return Xl(()=>{let e=Qb(n);return Yb(e),e})}function Ei(n){return n[Jk]||null}function zb(n){return n[Xk]||null}function Gb(n){return n[eO]||null}function Wb(n){let e=Ei(n)||zb(n)||Gb(n);return e!==null?e.standalone:!1}function Kb(n,e){let t=n[tO]||null;if(!t&&e===!0)throw new Error(`Type ${Kt(n)} does not have '\u0275mod' property.`);return t}function Qb(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||zo,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||tn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:KC(n.inputs,e),outputs:KC(n.outputs),debugInfo:null}}function Yb(n){n.features?.forEach(e=>e(n))}function QC(n,e){if(!n)return null;let t=e?Gb:MO;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(xO)}function RO(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Ch(n){return{\u0275providers:n}}function NO(...n){return{\u0275providers:Zb(!0,n),\u0275fromNgModule:!0}}function Zb(n,...e){let t=[],r=new Set,i,s=o=>{t.push(o)};return qy(e,o=>{let a=o;Kg(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Jb(i,s),t}function Jb(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Wy(i,s=>{e(s,r)})}}function Kg(n,e,t,r){if(n=Wt(n),!n)return!1;let i=null,s=$C(n),o=!s&&Ei(n);if(!s&&!o){let l=n.ngModule;if(s=$C(l),s)i=l;else return!1}else{if(o&&!o.standalone)return!1;i=n}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let l=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let c of l)Kg(c,e,t,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let c;try{qy(s.imports,d=>{Kg(d,e,t,r)&&(c||=[],c.push(d))})}finally{}c!==void 0&&Jb(c,e)}if(!a){let c=qo(i)||(()=>new i);e({provide:i,useFactory:c,deps:tn},i),e({provide:Ub,useValue:i,multi:!0},i),e({provide:Go,useValue:()=>j(i),multi:!0},i)}let l=s.providers;if(l!=null&&!a){let c=n;Wy(l,d=>{e(d,c)})}}else return!1;return i!==n&&n.providers!==void 0}function Wy(n,e){for(let t of n)kb(t)&&(t=t.\u0275providers),Array.isArray(t)?Wy(t,e):e(t)}var PO=Ue({provide:String,useValue:Ue});function Xb(n){return n!==null&&typeof n=="object"&&PO in n}function kO(n){return!!(n&&n.useExisting)}function OO(n){return!!(n&&n.useFactory)}function Wo(n){return typeof n=="function"}function FO(n){return!!n.useClass}var bh=new Y(""),Gd={},VO={},Rg;function Ky(){return Rg===void 0&&(Rg=new eh),Rg}var cn=class{},Ql=class extends cn{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Yg(e,o=>this.processProvider(o)),this.records.set(Bb,Lo(void 0,this)),i.has("environment")&&this.records.set(cn,Lo(void 0,this));let s=this.records.get(bh);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Ub,tn,we.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Re(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Re(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=yi(this),r=Cn(void 0),i;try{return e()}finally{yi(t),Cn(r)}}get(e,t=Wl,r=we.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(qC))return e[qC](this);r=Dh(r);let i,s=yi(this),o=Cn(void 0);try{if(!(r&we.SkipSelf)){let l=this.records.get(e);if(l===void 0){let c=$O(e)&&Ih(e);c&&this.injectableDefInScope(c)?l=Lo(Qg(e),Gd):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=r&we.Self?Ky():this.parent;return t=r&we.Optional&&t===Wl?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Jd]=a[Jd]||[]).unshift(Kt(e)),s)throw a;return dO(a,e,"R3InjectorError",this.source)}else throw a}finally{Cn(o),yi(s)}}resolveInjectorInitializers(){let e=Re(null),t=yi(this),r=Cn(void 0),i;try{let s=this.get(Go,tn,we.Self);for(let o of s)o()}finally{yi(t),Cn(r),Re(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Kt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new H(205,!1)}processProvider(e){e=Wt(e);let t=Wo(e)?e:Wt(e&&e.provide),r=jO(e);if(!Wo(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Lo(void 0,Gd,!0),i.factory=()=>Gg(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=Re(null);try{return t.value===Gd&&(t.value=VO,t.value=t.factory()),typeof t.value=="object"&&t.value&&UO(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Re(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Wt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Qg(n){let e=Ih(n),t=e!==null?e.factory:qo(n);if(t!==null)return t;if(n instanceof Y)throw new H(204,!1);if(n instanceof Function)return LO(n);throw new H(204,!1)}function LO(n){if(n.length>0)throw new H(204,!1);let t=Yk(n);return t!==null?()=>t.factory(n):()=>new n}function jO(n){if(Xb(n))return Lo(void 0,n.useValue);{let e=eT(n);return Lo(e,Gd)}}function eT(n,e,t){let r;if(Wo(n)){let i=Wt(n);return qo(i)||Qg(i)}else if(Xb(n))r=()=>Wt(n.useValue);else if(OO(n))r=()=>n.useFactory(...Gg(n.deps||[]));else if(kO(n))r=()=>j(Wt(n.useExisting));else{let i=Wt(n&&(n.useClass||n.provide));if(BO(n))r=()=>new i(...Gg(n.deps));else return qo(i)||Qg(i)}return r}function Lo(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function BO(n){return!!n.deps}function UO(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function $O(n){return typeof n=="function"||typeof n=="object"&&n instanceof Y}function Yg(n,e){for(let t of n)Array.isArray(t)?Yg(t,e):t&&kb(t)?Yg(t.\u0275providers,e):e(t)}function ur(n,e){n instanceof Ql&&n.assertNotDestroyed();let t,r=yi(n),i=Cn(void 0);try{return e()}finally{yi(r),Cn(i)}}function tT(){return Ob()!==void 0||lO()!=null}function HO(n){if(!tT())throw new H(-203,!1)}function qO(n){let e=un.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function zO(n){return typeof n=="function"}var cr=0,_e=1,ue=2,Vt=3,Un=4,Hn=5,th=6,nh=7,$n=8,Ko=9,sr=10,lt=11,Yl=12,YC=13,na=14,or=15,vs=16,jo=17,Pr=18,Th=19,nT=20,vi=21,Ng=22,bn=23,ar=25,Qy=1;var _s=7,rh=8,Qo=9,ln=10,ih=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(ih||{});function _i(n){return Array.isArray(n)&&typeof n[Qy]=="object"}function jr(n){return Array.isArray(n)&&n[Qy]===!0}function Yy(n){return(n.flags&4)!==0}function Sh(n){return n.componentOffset>-1}function Ah(n){return(n.flags&1)===1}function kr(n){return!!n.template}function Zg(n){return(n[ue]&512)!==0}var Jg=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function rT(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function Ti(){return iT}function iT(n){return n.type.prototype.ngOnChanges&&(n.setInput=WO),GO}Ti.ngInherit=!0;function GO(){let n=oT(this),e=n?.current;if(e){let t=n.previous;if(t===zo)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function WO(n,e,t,r,i){let s=this.declaredInputs[r],o=oT(n)||KO(n,{previous:zo,current:null}),a=o.current||(o.current={}),l=o.previous,c=l[s];a[s]=new Jg(c&&c.currentValue,t,l===zo),rT(n,e,i,t)}var sT="__ngSimpleChanges__";function oT(n){return n[sT]||null}function KO(n,e){return n[sT]=e}var ZC=null;var nr=function(n,e,t){ZC?.(n,e,t)},QO="svg",YO="math";function lr(n){for(;Array.isArray(n);)n=n[cr];return n}function ZO(n){for(;Array.isArray(n);){if(typeof n[Qy]=="object")return n;n=n[cr]}return null}function aT(n,e){return lr(e[n])}function Tn(n,e){return lr(e[n.index])}function lT(n,e){return n.data[e]}function JO(n,e){return n[e]}function Si(n,e){let t=e[n];return _i(t)?t:t[cr]}function XO(n){return(n[ue]&4)===4}function Zy(n){return(n[ue]&128)===128}function eF(n){return jr(n[Vt])}function Yo(n,e){return e==null?null:n[e]}function uT(n){n[jo]=0}function cT(n){n[ue]&1024||(n[ue]|=1024,Zy(n)&&xh(n))}function tF(n,e){for(;n>0;)e=e[na],n--;return e}function Mh(n){return!!(n[ue]&9216||n[bn]?.dirty)}function Xg(n){n[sr].changeDetectionScheduler?.notify(8),n[ue]&64&&(n[ue]|=1024),Mh(n)&&xh(n)}function xh(n){n[sr].changeDetectionScheduler?.notify(0);let e=ws(n);for(;e!==null&&!(e[ue]&8192||(e[ue]|=8192,!Zy(e)));)e=ws(e)}function dT(n,e){if((n[ue]&256)===256)throw new H(911,!1);n[vi]===null&&(n[vi]=[]),n[vi].push(e)}function nF(n,e){if(n[vi]===null)return;let t=n[vi].indexOf(e);t!==-1&&n[vi].splice(t,1)}function ws(n){let e=n[Vt];return jr(e)?e[Vt]:e}var Ie={lFrame:IT(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var hT=!1;function rF(){return Ie.lFrame.elementDepthCount}function iF(){Ie.lFrame.elementDepthCount++}function sF(){Ie.lFrame.elementDepthCount--}function fT(){return Ie.bindingsEnabled}function oF(){return Ie.skipHydrationRootTNode!==null}function aF(n){return Ie.skipHydrationRootTNode===n}function lF(){Ie.skipHydrationRootTNode=null}function Oe(){return Ie.lFrame.lView}function It(){return Ie.lFrame.tView}function ru(n){return Ie.lFrame.contextLView=n,n[$n]}function iu(n){return Ie.lFrame.contextLView=null,n}function xt(){let n=pT();for(;n!==null&&n.type===64;)n=n.parent;return n}function pT(){return Ie.lFrame.currentTNode}function uF(){let n=Ie.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Ts(n,e){let t=Ie.lFrame;t.currentTNode=n,t.isParent=e}function Jy(){return Ie.lFrame.isParent}function mT(){Ie.lFrame.isParent=!1}function cF(){return Ie.lFrame.contextLView}function gT(){return hT}function JC(n){hT=n}function dF(n){return Ie.lFrame.bindingIndex=n}function su(){return Ie.lFrame.bindingIndex++}function yT(n){let e=Ie.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function hF(){return Ie.lFrame.inI18n}function fF(n,e){let t=Ie.lFrame;t.bindingIndex=t.bindingRootIndex=n,ey(e)}function pF(){return Ie.lFrame.currentDirectiveIndex}function ey(n){Ie.lFrame.currentDirectiveIndex=n}function vT(n){let e=Ie.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function _T(){return Ie.lFrame.currentQueryIndex}function Xy(n){Ie.lFrame.currentQueryIndex=n}function mF(n){let e=n[_e];return e.type===2?e.declTNode:e.type===1?n[Hn]:null}function wT(n,e,t){if(t&we.SkipSelf){let i=e,s=n;for(;i=i.parent,i===null&&!(t&we.Host);)if(i=mF(s),i===null||(s=s[na],i.type&10))break;if(i===null)return!1;e=i,n=s}let r=Ie.lFrame=ET();return r.currentTNode=e,r.lView=n,!0}function ev(n){let e=ET(),t=n[_e];Ie.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function ET(){let n=Ie.lFrame,e=n===null?null:n.child;return e===null?IT(n):e}function IT(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function DT(){let n=Ie.lFrame;return Ie.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var CT=DT;function tv(){let n=DT();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function gF(n){return(Ie.lFrame.contextLView=tF(n,Ie.lFrame.contextLView))[$n]}function Ss(){return Ie.lFrame.selectedIndex}function Es(n){Ie.lFrame.selectedIndex=n}function Rh(){let n=Ie.lFrame;return lT(n.tView,n.selectedIndex)}function yF(){return Ie.lFrame.currentNamespace}var bT=!0;function Nh(){return bT}function Ph(n){bT=n}function vF(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=iT(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}function kh(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:d}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),d!=null&&(n.destroyHooks??=[]).push(t,d)}}function Wd(n,e,t){TT(n,e,3,t)}function Kd(n,e,t,r){(n[ue]&3)===t&&TT(n,e,t,r)}function Pg(n,e){let t=n[ue];(t&3)===e&&(t&=16383,t+=1,n[ue]=t)}function TT(n,e,t,r){let i=r!==void 0?n[jo]&65535:0,s=r??-1,o=e.length-1,a=0;for(let l=i;l<o;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(n[jo]+=65536),(a<s||s==-1)&&(_F(n,t,e,l),n[jo]=(n[jo]&4294901760)+l+2),l++}function XC(n,e){nr(4,n,e);let t=Re(null);try{e.call(n)}finally{Re(t),nr(5,n,e)}}function _F(n,e,t,r){let i=t[r]<0,s=t[r+1],o=i?-t[r]:t[r],a=n[o];i?n[ue]>>14<n[jo]>>16&&(n[ue]&3)===e&&(n[ue]+=16384,XC(a,s)):XC(a,s)}var Ho=-1,Is=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function wF(n){return n instanceof Is}function EF(n){return(n.flags&8)!==0}function IF(n){return(n.flags&16)!==0}var kg={},ty=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Dh(r);let i=this.injector.get(e,kg,r);return i!==kg||t===kg?i:this.parentInjector.get(e,t,r)}};function ST(n){return n!==Ho}function sh(n){return n&32767}function DF(n){return n>>16}function oh(n,e){let t=DF(n),r=e;for(;t>0;)r=r[na],t--;return r}var ny=!0;function eb(n){let e=ny;return ny=n,e}var CF=256,AT=CF-1,MT=5,bF=0,rr={};function TF(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(zl)&&(r=t[zl]),r==null&&(r=t[zl]=bF++);let i=r&AT,s=1<<i;e.data[n+(i>>MT)]|=s}function ah(n,e){let t=xT(n,e);if(t!==-1)return t;let r=e[_e];r.firstCreatePass&&(n.injectorIndex=e.length,Og(r.data,n),Og(e,null),Og(r.blueprint,null));let i=nv(n,e),s=n.injectorIndex;if(ST(i)){let o=sh(i),a=oh(i,e),l=a[_e].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=i,s}function Og(n,e){n.push(0,0,0,0,0,0,0,0,e)}function xT(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function nv(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=OT(i),r===null)return Ho;if(t++,i=i[na],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Ho}function ry(n,e,t){TF(n,e,t)}function SF(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let s=t[i];if(Hb(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(s===e)return t[i+1];i=i+2}}}return null}function RT(n,e,t){if(t&we.Optional||n!==void 0)return n;Hy(e,"NodeInjector")}function NT(n,e,t,r){if(t&we.Optional&&r===void 0&&(r=null),!(t&(we.Self|we.Host))){let i=n[Ko],s=Cn(void 0);try{return i?i.get(e,r,t&we.Optional):Fb(e,r,t&we.Optional)}finally{Cn(s)}}return RT(r,e,t)}function PT(n,e,t,r=we.Default,i){if(n!==null){if(e[ue]&2048&&!(r&we.Self)){let o=RF(n,e,t,r,rr);if(o!==rr)return o}let s=kT(n,e,t,r,rr);if(s!==rr)return s}return NT(e,t,r,i)}function kT(n,e,t,r,i){let s=MF(t);if(typeof s=="function"){if(!wT(e,n,r))return r&we.Host?RT(i,t,r):NT(e,t,r,i);try{let o;if(o=s(r),o==null&&!(r&we.Optional))Hy(t);else return o}finally{CT()}}else if(typeof s=="number"){let o=null,a=xT(n,e),l=Ho,c=r&we.Host?e[or][Hn]:null;for((a===-1||r&we.SkipSelf)&&(l=a===-1?nv(n,e):e[a+8],l===Ho||!nb(r,!1)?a=-1:(o=e[_e],a=sh(l),e=oh(l,e)));a!==-1;){let d=e[_e];if(tb(s,a,d.data)){let f=AF(a,e,t,o,r,c);if(f!==rr)return f}l=e[a+8],l!==Ho&&nb(r,e[_e].data[a+8]===c)&&tb(s,a,e)?(o=d,a=sh(l),e=oh(l,e)):a=-1}}return i}function AF(n,e,t,r,i,s){let o=e[_e],a=o.data[n+8],l=r==null?Sh(a)&&ny:r!=o&&(a.type&3)!==0,c=i&we.Host&&s===a,d=Qd(a,o,t,l,c);return d!==null?Ds(e,o,d,a):rr}function Qd(n,e,t,r,i){let s=n.providerIndexes,o=e.data,a=s&1048575,l=n.directiveStart,c=n.directiveEnd,d=s>>20,f=r?a:a+d,m=i?a+d:c;for(let y=f;y<m;y++){let E=o[y];if(y<l&&t===E||y>=l&&E.type===t)return y}if(i){let y=o[l];if(y&&kr(y)&&y.type===t)return l}return null}function Ds(n,e,t,r){let i=n[t],s=e.data;if(wF(i)){let o=i;o.resolving&&rO(nO(s[t]));let a=eb(o.canSeeViewProviders);o.resolving=!0;let l,c=o.injectImpl?Cn(o.injectImpl):null,d=wT(n,r,we.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&vF(t,s[t],e)}finally{c!==null&&Cn(c),eb(a),o.resolving=!1,CT()}}return i}function MF(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(zl)?n[zl]:void 0;return typeof e=="number"?e>=0?e&AT:xF:e}function tb(n,e,t){let r=1<<n;return!!(t[e+(n>>MT)]&r)}function nb(n,e){return!(n&we.Self)&&!(n&we.Host&&e)}var ys=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return PT(this._tNode,this._lView,e,Dh(r),t)}};function xF(){return new ys(xt(),Oe())}function ou(n){return Xl(()=>{let e=n.prototype.constructor,t=e[Zd]||iy(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let s=i[Zd]||iy(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function iy(n){return xb(n)?()=>{let e=iy(Wt(n));return e&&e()}:qo(n)}function RF(n,e,t,r,i){let s=n,o=e;for(;s!==null&&o!==null&&o[ue]&2048&&!(o[ue]&512);){let a=kT(s,o,t,r|we.Self,rr);if(a!==rr)return a;let l=s.parent;if(!l){let c=o[nT];if(c){let d=c.get(t,rr,r);if(d!==rr)return d}l=OT(o),o=o[na]}s=l}return i}function OT(n){let e=n[_e],t=e.type;return t===2?e.declTNode:t===1?n[Hn]:null}function rv(n){return SF(xt(),n)}function rb(n,e=null,t=null,r){let i=FT(n,e,t,r);return i.resolveInjectorInitializers(),i}function FT(n,e=null,t=null,r,i=new Set){let s=[t||tn,NO(n)];return r=r||(typeof n=="object"?void 0:Kt(n)),new Ql(s,e||Ky(),r||null,i)}var Mt=class n{static{this.THROW_IF_NOT_FOUND=Wl}static{this.NULL=new eh}static create(e,t){if(Array.isArray(e))return rb({name:""},t,e,"");{let r=e.name??"";return rb({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=Z({token:n,providedIn:"any",factory:()=>j(Bb)})}static{this.__NG_ELEMENT_ID__=-1}};var NF=new Y("");NF.__NG_ELEMENT_ID__=n=>{let e=xt();if(e===null)throw new H(204,!1);if(e.type&2)return e.value;if(n&we.Optional)return null;throw new H(204,!1)};var PF="ngOriginalError";function Fg(n){return n[PF]}var VT=!0,iv=(()=>{class n{static{this.__NG_ELEMENT_ID__=kF}static{this.__NG_ENV_ID__=t=>t}}return n})(),sy=class extends iv{constructor(e){super(),this._lView=e}onDestroy(e){return dT(this._lView,e),()=>nF(this._lView,e)}};function kF(){return new sy(Oe())}var ra=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new St(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=Z({token:n,providedIn:"root",factory:()=>new n})}}return n})();var oy=class extends ke{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,tT()&&(this.destroyRef=z(iv,{optional:!0})??void 0,this.pendingTasks=z(ra,{optional:!0})??void 0)}emit(e){let t=Re(null);try{super.next(e)}finally{Re(t)}}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof st&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},at=oy;function lh(...n){}function LT(n){let e,t;function r(){n=lh;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function ib(n){return queueMicrotask(()=>n()),()=>{n=lh}}var sv="isAngularZone",uh=sv+"_ID",OF=0,Ee=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new at(!1),this.onMicrotaskEmpty=new at(!1),this.onStable=new at(!1),this.onError=new at(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=VT}=e;if(typeof Zone>"u")throw new H(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,LF(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(sv)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new H(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new H(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,FF,lh,lh);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},FF={};function ov(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function VF(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){LT(()=>{n.callbackScheduled=!1,ay(n),n.isCheckStableRunning=!0,ov(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),ay(n)}function LF(n){let e=()=>{VF(n)},t=OF++;n._inner=n._inner.fork({name:"angular",properties:{[sv]:!0,[uh]:t,[uh+t]:!0},onInvokeTask:(r,i,s,o,a,l)=>{if(jF(l))return r.invokeTask(s,o,a,l);try{return sb(n),r.invokeTask(s,o,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),ob(n)}},onInvoke:(r,i,s,o,a,l,c)=>{try{return sb(n),r.invoke(s,o,a,l,c)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!BF(l)&&e(),ob(n)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(n._hasPendingMicrotasks=o.microTask,ay(n),ov(n)):o.change=="macroTask"&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}function ay(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function sb(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function ob(n){n._nesting--,ov(n)}var ch=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new at,this.onMicrotaskEmpty=new at,this.onStable=new at,this.onError=new at}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function jF(n){return jT(n,"__ignore_ng_zone__")}function BF(n){return jT(n,"__scheduler_tick__")}function jT(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}function UF(n="zone.js",e){return n==="noop"?new ch:n==="zone.js"?new Ee(e):n}var Or=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Fg(e);for(;t&&Fg(t);)t=Fg(t);return t||null}},$F=new Y("",{providedIn:"root",factory:()=>{let n=z(Ee),e=z(Or);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function HF(){return ia(xt(),Oe())}function ia(n,e){return new dn(Tn(n,e))}var dn=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=HF}}return n})();function qF(n){return n instanceof dn?n.nativeElement:n}function zF(){return this._results[Symbol.iterator]()}var ly=class n{get changes(){return this._changes??=new at}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=zF)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=pO(e);(this._changesDetected=!fO(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function BT(n){return(n.flags&128)===128}var UT=new Map,GF=0;function WF(){return GF++}function KF(n){UT.set(n[Th],n)}function uy(n){UT.delete(n[Th])}var ab="__ngContext__";function Ii(n,e){_i(e)?(n[ab]=e[Th],KF(e)):n[ab]=e}function $T(n){return qT(n[Yl])}function HT(n){return qT(n[Un])}function qT(n){for(;n!==null&&!jr(n);)n=n[Un];return n}var cy;function zT(n){cy=n}function GT(){if(cy!==void 0)return cy;if(typeof document<"u")return document;throw new H(210,!1)}var Oh=new Y("",{providedIn:"root",factory:()=>QF}),QF="ng",av=new Y(""),nn=new Y("",{providedIn:"platform",factory:()=>"unknown"});var lv=new Y(""),uv=new Y("",{providedIn:"root",factory:()=>GT().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var YF="h",ZF="b";var JF=()=>null;function cv(n,e,t=!1){return JF(n,e,t)}var WT=!1,XF=new Y("",{providedIn:"root",factory:()=>WT});var jd;function KT(){if(jd===void 0&&(jd=null,un.trustedTypes))try{jd=un.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return jd}function Fh(n){return KT()?.createHTML(n)||n}function eV(n){return KT()?.createScriptURL(n)||n}var Bd;function QT(){if(Bd===void 0&&(Bd=null,un.trustedTypes))try{Bd=un.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Bd}function lb(n){return QT()?.createHTML(n)||n}function ub(n){return QT()?.createScriptURL(n)||n}var Fr=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ab})`}},dy=class extends Fr{getTypeName(){return"HTML"}},hy=class extends Fr{getTypeName(){return"Style"}},fy=class extends Fr{getTypeName(){return"Script"}},py=class extends Fr{getTypeName(){return"URL"}},my=class extends Fr{getTypeName(){return"ResourceURL"}};function Sn(n){return n instanceof Fr?n.changingThisBreaksApplicationSecurity:n}function Br(n,e){let t=tV(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Ab})`)}return t===e}function tV(n){return n instanceof Fr&&n.getTypeName()||null}function YT(n){return new dy(n)}function ZT(n){return new hy(n)}function JT(n){return new fy(n)}function XT(n){return new py(n)}function eS(n){return new my(n)}function nV(n){let e=new yy(n);return rV()?new gy(e):e}var gy=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(Fh(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},yy=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=Fh(e),t}};function rV(){try{return!!new window.DOMParser().parseFromString(Fh(""),"text/html")}catch{return!1}}var iV=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Vh(n){return n=String(n),n.match(iV)?n:"unsafe:"+n}function Ur(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function au(...n){let e={};for(let t of n)for(let r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}var tS=Ur("area,br,col,hr,img,wbr"),nS=Ur("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),rS=Ur("rp,rt"),sV=au(rS,nS),oV=au(nS,Ur("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),aV=au(rS,Ur("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),cb=au(tS,oV,aV,sV),iS=Ur("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),lV=Ur("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),uV=Ur("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),cV=au(iS,lV,uV),dV=Ur("script,style,template"),vy=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0,i=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild){i.push(t),t=pV(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let s=fV(t);if(s){t=s;break}t=i.pop()}}return this.buf.join("")}startElement(e){let t=db(e).toLowerCase();if(!cb.hasOwnProperty(t))return this.sanitizedSomething=!0,!dV.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let r=e.attributes;for(let i=0;i<r.length;i++){let s=r.item(i),o=s.name,a=o.toLowerCase();if(!cV.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;iS[a]&&(l=Vh(l)),this.buf.push(" ",o,'="',hb(l),'"')}return this.buf.push(">"),!0}endElement(e){let t=db(e).toLowerCase();cb.hasOwnProperty(t)&&!tS.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(hb(e))}};function hV(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function fV(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw sS(e);return e}function pV(n){let e=n.firstChild;if(e&&hV(n,e))throw sS(e);return e}function db(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function sS(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var mV=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,gV=/([^\#-~ |!])/g;function hb(n){return n.replace(/&/g,"&amp;").replace(mV,function(e){let t=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((t-55296)*1024+(r-56320)+65536)+";"}).replace(gV,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Ud;function dv(n,e){let t=null;try{Ud=Ud||nV(n);let r=e?String(e):"";t=Ud.getInertBodyElement(r);let i=5,s=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=t.innerHTML,t=Ud.getInertBodyElement(r)}while(r!==s);let a=new vy().sanitizeChildren(fb(t)||t);return Fh(a)}finally{if(t){let r=fb(t)||t;for(;r.firstChild;)r.firstChild.remove()}}}function fb(n){return"content"in n&&yV(n)?n.content:null}function yV(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var hn=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(hn||{});function hv(n){let e=fv();return e?lb(e.sanitize(hn.HTML,n)||""):Br(n,"HTML")?lb(Sn(n)):dv(GT(),eu(n))}function vV(n){let e=fv();return e?e.sanitize(hn.URL,n)||"":Br(n,"URL")?Sn(n):Vh(eu(n))}function _V(n){let e=fv();if(e)return ub(e.sanitize(hn.RESOURCE_URL,n)||"");if(Br(n,"ResourceURL"))return ub(Sn(n));throw new H(904,!1)}function oS(n){return eV(n[0])}function wV(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?_V:vV}function aS(n,e,t){return wV(e,t)(n)}function fv(){let n=Oe();return n&&n[sr].sanitizer}var EV=/^>|^->|<!--|-->|--!>|<!-$/g,IV=/(<|>)/g,DV="\u200B$1\u200B";function CV(n){return n.replace(EV,e=>e.replace(IV,DV))}function lS(n){return n instanceof Function?n():n}function bV(n){return(n??z(Mt)).get(nn)==="browser"}var Vr=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Vr||{}),TV;function pv(n,e){return TV(n,e)}function Bo(n,e,t,r,i){if(r!=null){let s,o=!1;jr(r)?s=r:_i(r)&&(o=!0,r=r[cr]);let a=lr(r);n===0&&t!==null?i==null?fS(e,t,a):dh(e,t,a,i||null,!0):n===1&&t!==null?dh(e,t,a,i||null,!0):n===2?$V(e,a,o):n===3&&e.destroyNode(a),s!=null&&qV(e,n,s,t,i)}}function SV(n,e){return n.createText(e)}function AV(n,e,t){n.setValue(e,t)}function MV(n,e){return n.createComment(CV(e))}function uS(n,e,t){return n.createElement(e,t)}function xV(n,e){cS(n,e),e[cr]=null,e[Hn]=null}function RV(n,e,t,r,i,s){r[cr]=i,r[Hn]=e,jh(n,r,t,1,i,s)}function cS(n,e){e[sr].changeDetectionScheduler?.notify(9),jh(n,e,e[lt],2,null,null)}function NV(n){let e=n[Yl];if(!e)return Vg(n[_e],n);for(;e;){let t=null;if(_i(e))t=e[Yl];else{let r=e[ln];r&&(t=r)}if(!t){for(;e&&!e[Un]&&e!==n;)_i(e)&&Vg(e[_e],e),e=e[Vt];e===null&&(e=n),_i(e)&&Vg(e[_e],e),t=e&&e[Un]}e=t}}function PV(n,e,t,r){let i=ln+r,s=t.length;r>0&&(t[i-1][Un]=e),r<s-ln?(e[Un]=t[i],jb(t,ln+r,e)):(t.push(e),e[Un]=null),e[Vt]=t;let o=e[vs];o!==null&&t!==o&&dS(o,e);let a=e[Pr];a!==null&&a.insertView(n),Xg(e),e[ue]|=128}function dS(n,e){let t=n[Qo],r=e[Vt];if(_i(r))n[ue]|=ih.HasTransplantedViews;else{let i=r[Vt][or];e[or]!==i&&(n[ue]|=ih.HasTransplantedViews)}t===null?n[Qo]=[e]:t.push(e)}function mv(n,e){let t=n[Qo],r=t.indexOf(e);t.splice(r,1)}function _y(n,e){if(n.length<=ln)return;let t=ln+e,r=n[t];if(r){let i=r[vs];i!==null&&i!==n&&mv(i,r),e>0&&(n[t-1][Un]=r[Un]);let s=Xd(n,ln+e);xV(r[_e],r);let o=s[Pr];o!==null&&o.detachView(s[_e]),r[Vt]=null,r[Un]=null,r[ue]&=-129}return r}function hS(n,e){if(!(e[ue]&256)){let t=e[lt];t.destroyNode&&jh(n,e,t,3,null,null),NV(e)}}function Vg(n,e){if(e[ue]&256)return;let t=Re(null);try{e[ue]&=-129,e[ue]|=256,e[bn]&&ug(e[bn]),OV(n,e),kV(n,e),e[_e].type===1&&e[lt].destroy();let r=e[vs];if(r!==null&&jr(e[Vt])){r!==e[Vt]&&mv(r,e);let i=e[Pr];i!==null&&i.detachView(n)}uy(e)}finally{Re(t)}}function kV(n,e){let t=n.cleanup,r=e[nh];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let o=t[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[t[s+1]];t[s].call(o)}r!==null&&(e[nh]=null);let i=e[vi];if(i!==null){e[vi]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function OV(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Is)){let s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],l=s[o+1];nr(4,a,l);try{l.call(a)}finally{nr(5,a,l)}}else{nr(4,i,s);try{s.call(i)}finally{nr(5,i,s)}}}}}function FV(n,e,t){return VV(n,e.parent,t)}function VV(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[cr];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=n.data[r.directiveStart+i];if(s===ir.None||s===ir.Emulated)return null}return Tn(r,t)}}function dh(n,e,t,r,i){n.insertBefore(e,t,r,i)}function fS(n,e,t){n.appendChild(e,t)}function pb(n,e,t,r,i){r!==null?dh(n,e,t,r,i):fS(n,e,t)}function pS(n,e){return n.parentNode(e)}function LV(n,e){return n.nextSibling(e)}function jV(n,e,t){return UV(n,e,t)}function BV(n,e,t){return n.type&40?Tn(n,t):null}var UV=BV,mb;function Lh(n,e,t,r){let i=FV(n,r,e),s=e[lt],o=r.parent||e[Hn],a=jV(o,r,e);if(i!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)pb(s,i,t[l],a,!1);else pb(s,i,t,a,!1);mb!==void 0&&mb(s,r,e,t,i)}function ql(n,e){if(e!==null){let t=e.type;if(t&3)return Tn(e,n);if(t&4)return wy(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return ql(n,r);{let i=n[e.index];return jr(i)?wy(-1,i):lr(i)}}else{if(t&128)return ql(n,e.next);if(t&32)return pv(e,n)()||lr(n[e.index]);{let r=mS(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ws(n[or]);return ql(i,r)}else return ql(n,e.next)}}}return null}function mS(n,e){if(e!==null){let r=n[or][Hn],i=e.projection;return r.projection[i]}return null}function wy(n,e){let t=ln+n+1;if(t<e.length){let r=e[t],i=r[_e].firstChild;if(i!==null)return ql(r,i)}return e[_s]}function $V(n,e,t){n.removeChild(null,e,t)}function gv(n,e,t,r,i,s,o){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],l=t.type;if(o&&e===0&&(a&&Ii(lr(a),r),t.flags|=2),(t.flags&32)!==32)if(l&8)gv(n,e,t.child,r,i,s,!1),Bo(e,n,i,a,s);else if(l&32){let c=pv(t,r),d;for(;d=c();)Bo(e,n,i,d,s);Bo(e,n,i,a,s)}else l&16?HV(n,e,r,t,i,s):Bo(e,n,i,a,s);t=o?t.projectionNext:t.next}}function jh(n,e,t,r,i,s){gv(t,r,n.firstChild,e,i,s,!1)}function HV(n,e,t,r,i,s){let o=t[or],l=o[Hn].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let d=l[c];Bo(e,n,i,d,s)}else{let c=l,d=o[Vt];BT(r)&&(c.flags|=128),gv(n,e,c,d,i,s,!0)}}function qV(n,e,t,r,i){let s=t[_s],o=lr(t);s!==o&&Bo(e,n,r,s,i);for(let a=ln;a<t.length;a++){let l=t[a];jh(l[_e],l,n,e,r,s)}}function zV(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=r.indexOf("-")===-1?void 0:Vr.DashCase;i==null?n.removeStyle(t,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Vr.Important),n.setStyle(t,r,i,s))}}function GV(n,e,t){n.setAttribute(e,"style",t)}function gS(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function yS(n,e,t){let{mergedAttrs:r,classes:i,styles:s}=t;r!==null&&Wg(n,e,r),i!==null&&gS(n,e,i),s!==null&&GV(n,e,s)}var Ai={};function Se(n=1){vS(It(),Oe(),Ss()+n,!1)}function vS(n,e,t,r){if(!r)if((e[ue]&3)===3){let s=n.preOrderCheckHooks;s!==null&&Wd(e,s,t)}else{let s=n.preOrderHooks;s!==null&&Kd(e,s,0,t)}Es(t)}function X(n,e=we.Default){let t=Oe();if(t===null)return j(n,e);let r=xt();return PT(r,t,Wt(n),e)}function _S(){let n="invalid";throw new Error(n)}function wS(n,e,t,r,i,s){let o=Re(null);try{let a=null;i&wi.SignalBased&&(a=e[r][xr]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&wi.HasDecoratorInputTransform&&(s=n.inputTransforms[r].call(e,s)),n.setInput!==null?n.setInput(e,a,s,t,r):rT(e,a,r,s)}finally{Re(o)}}function WV(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Es(~i);else{let s=i,o=t[++r],a=t[++r];fF(o,s);let l=e[s];a(2,l)}}}finally{Es(-1)}}function Bh(n,e,t,r,i,s,o,a,l,c,d){let f=e.blueprint.slice();return f[cr]=i,f[ue]=r|4|128|8|64,(c!==null||n&&n[ue]&2048)&&(f[ue]|=2048),uT(f),f[Vt]=f[na]=n,f[$n]=t,f[sr]=o||n&&n[sr],f[lt]=a||n&&n[lt],f[Ko]=l||n&&n[Ko]||null,f[Hn]=s,f[Th]=WF(),f[th]=d,f[nT]=c,f[or]=e.type==2?n[or]:f,f}function lu(n,e,t,r,i){let s=n.data[e];if(s===null)s=KV(n,e,t,r,i),hF()&&(s.flags|=32);else if(s.type&64){s.type=t,s.value=r,s.attrs=i;let o=uF();s.injectorIndex=o===null?-1:o.injectorIndex}return Ts(s,!0),s}function KV(n,e,t,r,i){let s=pT(),o=Jy(),a=o?s:s&&s.parent,l=n.data[e]=eL(n,a,t,e,r,i);return n.firstChild===null&&(n.firstChild=l),s!==null&&(o?s.child==null&&l.parent!==null&&(s.child=l):s.next===null&&(s.next=l,l.prev=s)),l}function ES(n,e,t,r){if(t===0)return-1;let i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function IS(n,e,t,r,i){let s=Ss(),o=r&2;try{Es(-1),o&&e.length>ar&&vS(n,e,ar,!1),nr(o?2:0,i),t(r,i)}finally{Es(s),nr(o?3:1,i)}}function yv(n,e,t){if(Yy(e)){let r=Re(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=n.data[o];if(a.contentQueries){let l=t[o];a.contentQueries(1,l,o)}}}finally{Re(r)}}}function vv(n,e,t){fT()&&(oL(n,e,t,Tn(t,e)),(t.flags&64)===64&&bS(n,e,t))}function _v(n,e,t=Tn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?t(e,n):n[o];n[i++]=a}}}function DS(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=wv(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function wv(n,e,t,r,i,s,o,a,l,c,d){let f=ar+r,m=f+i,y=QV(f,m),E=typeof c=="function"?c():c;return y[_e]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:l,consts:E,incompleteFirstPass:!1,ssrId:d}}function QV(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Ai);return t}function YV(n,e,t,r){let s=r.get(XF,WT)||t===ir.ShadowDom,o=n.selectRootElement(e,s);return ZV(o),o}function ZV(n){JV(n)}var JV=()=>null;function XV(n,e,t,r){let i=AS(e);i.push(t),n.firstCreatePass&&MS(n).push(r,i.length-1)}function eL(n,e,t,r,i,s){let o=e?e.injectorIndex:-1,a=0;return oF()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function gb(n,e,t,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,l=wi.None;Array.isArray(o)?(a=o[0],l=o[1]):a=o;let c=s;if(i!==null){if(!i.hasOwnProperty(s))continue;c=i[s]}n===0?yb(r,t,c,a,l):yb(r,t,c,a)}return r}function yb(n,e,t,r,i){let s;n.hasOwnProperty(t)?(s=n[t]).push(e,r):s=n[t]=[e,r],i!==void 0&&s.push(i)}function tL(n,e,t){let r=e.directiveStart,i=e.directiveEnd,s=n.data,o=e.attrs,a=[],l=null,c=null;for(let d=r;d<i;d++){let f=s[d],m=t?t.get(f):null,y=m?m.inputs:null,E=m?m.outputs:null;l=gb(0,f.inputs,d,l,y),c=gb(1,f.outputs,d,c,E);let b=l!==null&&o!==null&&!Gy(e)?yL(l,d,o):null;a.push(b)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}function nL(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function Ev(n,e,t,r,i,s,o,a){let l=Tn(e,t),c=e.inputs,d;!a&&c!=null&&(d=c[r])?(Dv(n,t,d,r,i),Sh(e)&&rL(t,e.index)):e.type&3?(r=nL(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(l,r,i)):e.type&12}function rL(n,e){let t=Si(e,n);t[ue]&16||(t[ue]|=64)}function Iv(n,e,t,r){if(fT()){let i=r===null?null:{"":-1},s=lL(n,t),o,a;s===null?o=a=null:[o,a]=s,o!==null&&CS(n,e,t,o,i,a),i&&uL(t,r,i)}t.mergedAttrs=Kl(t.mergedAttrs,t.attrs)}function CS(n,e,t,r,i,s){for(let c=0;c<r.length;c++)ry(ah(t,e),n,r[c].type);dL(t,n.data.length,r.length);for(let c=0;c<r.length;c++){let d=r[c];d.providersResolver&&d.providersResolver(d)}let o=!1,a=!1,l=ES(n,e,r.length,null);for(let c=0;c<r.length;c++){let d=r[c];t.mergedAttrs=Kl(t.mergedAttrs,d.hostAttrs),hL(n,t,e,l,d),cL(l,d,i),d.contentQueries!==null&&(t.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(t.flags|=64);let f=d.type.prototype;!o&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}tL(n,t,s)}function iL(n,e,t,r,i){let s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;o===null&&(o=n.hostBindingOpCodes=[]);let a=~e.index;sL(o)!=a&&o.push(a),o.push(t,r,s)}}function sL(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function oL(n,e,t,r){let i=t.directiveStart,s=t.directiveEnd;Sh(t)&&fL(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||ah(t,e),Ii(r,e);let o=t.initialInputs;for(let a=i;a<s;a++){let l=n.data[a],c=Ds(e,n,a,t);if(Ii(c,e),o!==null&&gL(e,a-i,c,l,t,o),kr(l)){let d=Si(t.index,e);d[$n]=Ds(e,n,a,t)}}}function bS(n,e,t){let r=t.directiveStart,i=t.directiveEnd,s=t.index,o=pF();try{Es(s);for(let a=r;a<i;a++){let l=n.data[a],c=e[a];ey(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&aL(l,c)}}finally{Es(-1),ey(o)}}function aL(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function lL(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let s=0;s<t.length;s++){let o=t[s];if(DO(e,o.selectors,!1))if(r||(r=[]),kr(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let l=a.length;Ey(n,e,l)}else r.unshift(o),Ey(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Ey(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function uL(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let s=t[e[i+1]];if(s==null)throw new H(-301,!1);r.push(e[i],s)}}}function cL(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;kr(e)&&(t[""]=n)}}function dL(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function hL(n,e,t,r,i){n.data[r]=i;let s=i.factory||(i.factory=qo(i.type,!0)),o=new Is(s,kr(i),X);n.blueprint[r]=o,t[r]=o,iL(n,e,r,ES(n,t,i.hostVars,Ai),i)}function fL(n,e,t){let r=Tn(e,n),i=DS(t),s=n[sr].rendererFactory,o=16;t.signals?o=4096:t.onPush&&(o=64);let a=Uh(n,Bh(n,i,null,o,r,e,null,s.createRenderer(r,t),null,null,null));n[e.index]=a}function pL(n,e,t,r,i,s){let o=Tn(n,e);mL(e[lt],o,s,n.value,t,r,i)}function mL(n,e,t,r,i,s,o){if(s==null)n.removeAttribute(e,i,t);else{let a=o==null?eu(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}function gL(n,e,t,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let l=o[a++],c=o[a++],d=o[a++],f=o[a++];wS(r,t,l,c,d,f)}}function yL(n,e,t){let r=null,i=0;for(;i<t.length;){let s=t[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(n.hasOwnProperty(s)){r===null&&(r=[]);let o=n[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],t[i+1]);break}}i+=2}return r}function TS(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function SS(n,e){let t=n.contentQueries;if(t!==null){let r=Re(null);try{for(let i=0;i<t.length;i+=2){let s=t[i],o=t[i+1];if(o!==-1){let a=n.data[o];Xy(s),a.contentQueries(2,e[o],o)}}}finally{Re(r)}}}function Uh(n,e){return n[Yl]?n[YC][Un]=e:n[Yl]=e,n[YC]=e,e}function Iy(n,e,t){Xy(0);let r=Re(null);try{e(n,t)}finally{Re(r)}}function AS(n){return n[nh]??=[]}function MS(n){return n.cleanup??=[]}function vL(n,e,t){return(n===null||kr(n))&&(t=ZO(t[e.index])),t[lt]}function xS(n,e){let t=n[Ko],r=t?t.get(Or,null):null;r&&r.handleError(e)}function Dv(n,e,t,r,i){for(let s=0;s<t.length;){let o=t[s++],a=t[s++],l=t[s++],c=e[o],d=n.data[o];wS(d,c,r,a,l,i)}}function _L(n,e,t){let r=aT(e,n);AV(n[lt],r,t)}function wL(n,e){let t=Si(e,n),r=t[_e];EL(r,t);let i=t[cr];i!==null&&t[th]===null&&(t[th]=cv(i,t[Ko])),Cv(r,t,t[$n])}function EL(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Cv(n,e,t){ev(e);try{let r=n.viewQuery;r!==null&&Iy(1,r,t);let i=n.template;i!==null&&IS(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Pr]?.finishViewCreation(n),n.staticContentQueries&&SS(n,e),n.staticViewQueries&&Iy(2,n.viewQuery,t);let s=n.components;s!==null&&IL(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ue]&=-5,tv()}}function IL(n,e){for(let t=0;t<e.length;t++)wL(n,e[t])}function DL(n,e,t,r){let i=Re(null);try{let s=e.tView,a=n[ue]&4096?4096:16,l=Bh(n,s,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=n[e.index];l[vs]=c;let d=n[Pr];return d!==null&&(l[Pr]=d.createEmbeddedView(s)),Cv(s,l,t),l}finally{Re(i)}}function vb(n,e){return!e||e.firstChild===null||BT(n)}function CL(n,e,t,r=!0){let i=e[_e];if(PV(i,e,n,t),r){let o=wy(t,n),a=e[lt],l=pS(a,n[_s]);l!==null&&RV(i,n[Hn],a,e,l,o)}let s=e[th];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function hh(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let s=e[t.index];s!==null&&r.push(lr(s)),jr(s)&&bL(s,r);let o=t.type;if(o&8)hh(n,e,t.child,r);else if(o&32){let a=pv(t,e),l;for(;l=a();)r.push(l)}else if(o&16){let a=mS(e,t);if(Array.isArray(a))r.push(...a);else{let l=ws(e[or]);hh(l[_e],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function bL(n,e){for(let t=ln;t<n.length;t++){let r=n[t],i=r[_e].firstChild;i!==null&&hh(r[_e],r,i,e)}n[_s]!==n[cr]&&e.push(n[_s])}var RS=[];function TL(n){return n[bn]??SL(n)}function SL(n){let e=RS.pop()??Object.create(ML);return e.lView=n,e}function AL(n){n.lView[bn]!==n&&(n.lView=null,RS.push(n))}var ML=de($({},Fl),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{xh(n.lView)},consumerOnSignalRead(){this.lView[bn]=this}});function xL(n){let e=n[bn]??Object.create(RL);return e.lView=n,e}var RL=de($({},Fl),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=ws(n.lView);for(;e&&!NS(e[_e]);)e=ws(e);e&&cT(e)},consumerOnSignalRead(){this.lView[bn]=this}});function NS(n){return n.type!==2}var NL=100;function PS(n,e=!0,t=0){let r=n[sr],i=r.rendererFactory,s=!1;s||i.begin?.();try{PL(n,t)}catch(o){throw e&&xS(n,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function PL(n,e){let t=gT();try{JC(!0),Dy(n,e);let r=0;for(;Mh(n);){if(r===NL)throw new H(103,!1);r++,Dy(n,1)}}finally{JC(t)}}function kL(n,e,t,r){let i=e[ue];if((i&256)===256)return;let s=!1,o=!1;!s&&e[sr].inlineEffectRunner?.flush(),ev(e);let a=!0,l=null,c=null;s||(NS(n)?(c=TL(e),l=ld(c)):oC()===null?(a=!1,c=xL(e),l=ld(c)):e[bn]&&(ug(e[bn]),e[bn]=null));try{uT(e),dF(n.bindingStartIndex),t!==null&&IS(n,e,t,2,r);let d=(i&3)===3;if(!s)if(d){let y=n.preOrderCheckHooks;y!==null&&Wd(e,y,null)}else{let y=n.preOrderHooks;y!==null&&Kd(e,y,0,null),Pg(e,0)}if(o||OL(e),kS(e,0),n.contentQueries!==null&&SS(n,e),!s)if(d){let y=n.contentCheckHooks;y!==null&&Wd(e,y)}else{let y=n.contentHooks;y!==null&&Kd(e,y,1),Pg(e,1)}WV(n,e);let f=n.components;f!==null&&FS(e,f,0);let m=n.viewQuery;if(m!==null&&Iy(2,m,r),!s)if(d){let y=n.viewCheckHooks;y!==null&&Wd(e,y)}else{let y=n.viewHooks;y!==null&&Kd(e,y,2),Pg(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Ng]){for(let y of e[Ng])y();e[Ng]=null}s||(e[ue]&=-73)}catch(d){throw s||xh(e),d}finally{c!==null&&(ag(c,l),a&&AL(c)),tv()}}function kS(n,e){for(let t=$T(n);t!==null;t=HT(t))for(let r=ln;r<t.length;r++){let i=t[r];OS(i,e)}}function OL(n){for(let e=$T(n);e!==null;e=HT(e)){if(!(e[ue]&ih.HasTransplantedViews))continue;let t=e[Qo];for(let r=0;r<t.length;r++){let i=t[r];cT(i)}}}function FL(n,e,t){let r=Si(e,n);OS(r,t)}function OS(n,e){Zy(n)&&Dy(n,e)}function Dy(n,e){let r=n[_e],i=n[ue],s=n[bn],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&lg(s)),o||=!1,s&&(s.dirty=!1),n[ue]&=-9217,o)kL(r,n,r.template,n[$n]);else if(i&8192){kS(n,1);let a=r.components;a!==null&&FS(n,a,1)}}function FS(n,e,t){for(let r=0;r<e.length;r++)FL(n,e[r],t)}function bv(n,e){let t=gT()?64:1088;for(n[sr].changeDetectionScheduler?.notify(e);n;){n[ue]|=t;let r=ws(n);if(Zg(n)&&!r)return n;n=r}return null}var Cs=class{get rootNodes(){let e=this._lView,t=e[_e];return hh(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[$n]}set context(e){this._lView[$n]=e}get destroyed(){return(this._lView[ue]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Vt];if(jr(e)){let t=e[rh],r=t?t.indexOf(this):-1;r>-1&&(_y(e,r),Xd(t,r))}this._attachedToViewContainer=!1}hS(this._lView[_e],this._lView)}onDestroy(e){dT(this._lView,e)}markForCheck(){bv(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ue]&=-129}reattach(){Xg(this._lView),this._lView[ue]|=128}detectChanges(){this._lView[ue]|=1024,PS(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new H(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Zg(this._lView),t=this._lView[vs];t!==null&&!e&&mv(t,this._lView),cS(this._lView[_e],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new H(902,!1);this._appRef=e;let t=Zg(this._lView),r=this._lView[vs];r!==null&&!t&&dS(r,this._lView),Xg(this._lView)}},Zo=(()=>{class n{static{this.__NG_ELEMENT_ID__=jL}}return n})(),VL=Zo,LL=class extends VL{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=DL(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new Cs(i)}};function jL(){return $h(xt(),Oe())}function $h(n,e){return n.type&4?new LL(e,n,ia(n,e)):null}var V7=new RegExp(`^(\\d+)*(${ZF}|${YF})*(.*)`);var BL=()=>null;function _b(n,e){return BL(n,e)}var Jo=class{},Tv=new Y("",{providedIn:"root",factory:()=>!1});var VS=new Y(""),LS=new Y(""),Cy=class{},fh=class{};function UL(n){let e=Error(`No component factory found for ${Kt(n)}.`);return e[$L]=n,e}var $L="ngComponent";var by=class{resolveComponentFactory(e){throw UL(e)}},Di=class{static{this.NULL=new by}},Ci=class{},Mi=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>HL()}}return n})();function HL(){let n=Oe(),e=xt(),t=Si(e.index,n);return(_i(t)?t:n)[lt]}var qL=(()=>{class n{static{this.\u0275prov=Z({token:n,providedIn:"root",factory:()=>null})}}return n})();function ph(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=Hg(i,a);else if(s==2){let l=a,c=e[++o];r=Hg(r,l+": "+c+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var mh=class extends Di{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Ei(e);return new Xo(t,this.ngModule)}};function wb(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,a=s?i[1]:wi.None;e?t.push({propName:o,templateName:r,isSignal:(a&wi.SignalBased)!==0}):t.push({propName:o,templateName:r})}return t}function zL(n){let e=n.toLowerCase();return e==="svg"?QO:e==="math"?YO:null}var Xo=class extends fh{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=wb(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return wb(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=SO(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=Re(null);try{i=i||this.ngModule;let o=i instanceof cn?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new ty(e,o):e,l=a.get(Ci,null);if(l===null)throw new H(407,!1);let c=a.get(qL,null),d=a.get(Jo,null),f={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,changeDetectionScheduler:d},m=l.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",E=r?YV(m,r,this.componentDef.encapsulation,a):uS(m,y,zL(y)),b=512;this.componentDef.signals?b|=4096:this.componentDef.onPush||(b|=16);let M=null;E!==null&&(M=cv(E,a,!0));let F=wv(0,null,null,1,0,null,null,null,null,null,null),q=Bh(null,F,null,b,null,null,f,m,a,null,M);ev(q);let V,W,se=null;try{let J=this.componentDef,C,_=null;J.findHostDirectiveDefs?(C=[],_=new Map,J.findHostDirectiveDefs(J,C,_),C.push(J)):C=[J];let I=GL(q,E);se=WL(I,E,J,C,q,f,m),W=lT(F,ar),E&&YL(m,J,E,r),t!==void 0&&ZL(W,this.ngContentSelectors,t),V=QL(se,J,C,_,q,[JL]),Cv(F,q,null)}catch(J){throw se!==null&&uy(se),uy(q),J}finally{tv()}return new Ty(this.componentType,V,ia(W,q),q,W)}finally{Re(s)}}},Ty=class extends Cy{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Cs(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let s=this._rootLView;Dv(s[_e],s,i,e,t),this.previousInputValues.set(e,t);let o=Si(this._tNode.index,s);bv(o,1)}}get injector(){return new ys(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function GL(n,e){let t=n[_e],r=ar;return n[r]=e,lu(t,r,2,"#host",null)}function WL(n,e,t,r,i,s,o){let a=i[_e];KL(r,n,e,o);let l=null;e!==null&&(l=cv(e,i[Ko]));let c=s.rendererFactory.createRenderer(e,t),d=16;t.signals?d=4096:t.onPush&&(d=64);let f=Bh(i,DS(t),null,d,i[n.index],n,s,c,null,null,l);return a.firstCreatePass&&Ey(a,n,r.length-1),Uh(i,f),i[n.index]=f}function KL(n,e,t,r){for(let i of n)e.mergedAttrs=Kl(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(ph(e,e.mergedAttrs,!0),t!==null&&yS(r,t,e))}function QL(n,e,t,r,i,s){let o=xt(),a=i[_e],l=Tn(o,i);CS(a,i,o,t,null,r);for(let d=0;d<t.length;d++){let f=o.directiveStart+d,m=Ds(i,a,f,o);Ii(m,i)}bS(a,i,o),l&&Ii(l,i);let c=Ds(i,a,o.directiveStart+o.componentOffset,o);if(n[$n]=i[$n]=c,s!==null)for(let d of s)d(c,e);return yv(a,o,i),c}function YL(n,e,t,r){if(r)Wg(n,t,["ng-version","18.2.13"]);else{let{attrs:i,classes:s}=AO(e.selectors[0]);i&&Wg(n,t,i),s&&s.length>0&&gS(n,t,s.join(" "))}}function ZL(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let s=t[i];r.push(s!=null?Array.from(s):null)}}function JL(){let n=xt();kh(Oe()[_e],n)}var As=(()=>{class n{static{this.__NG_ELEMENT_ID__=XL}}return n})();function XL(){let n=xt();return BS(n,Oe())}var e2=As,jS=class extends e2{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return ia(this._hostTNode,this._hostLView)}get injector(){return new ys(this._hostTNode,this._hostLView)}get parentInjector(){let e=nv(this._hostTNode,this._hostLView);if(ST(e)){let t=oh(e,this._hostLView),r=sh(e),i=t[_e].data[r+8];return new ys(i,t)}else return new ys(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=Eb(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-ln}createEmbeddedView(e,t,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=_b(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},s,o);return this.insertImpl(a,i,vb(this._hostTNode,o)),a}createComponent(e,t,r,i,s){let o=e&&!zO(e),a;if(o)a=t;else{let E=t||{};a=E.index,r=E.injector,i=E.projectableNodes,s=E.environmentInjector||E.ngModuleRef}let l=o?e:new Xo(Ei(e)),c=r||this.parentInjector;if(!s&&l.ngModule==null){let b=(o?c:this.parentInjector).get(cn,null);b&&(s=b)}let d=Ei(l.componentType??{}),f=_b(this._lContainer,d?.id??null),m=f?.firstChild??null,y=l.create(c,i,m,s);return this.insertImpl(y.hostView,a,vb(this._hostTNode,f)),y}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(eF(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[Vt],c=new jS(l,l[Hn],l[Vt]);c.detach(c.indexOf(e))}}let s=this._adjustIndex(t),o=this._lContainer;return CL(o,i,s,r),e.attachToViewContainerRef(),jb(Lg(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=Eb(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=_y(this._lContainer,t);r&&(Xd(Lg(this._lContainer),t),hS(r[_e],r))}detach(e){let t=this._adjustIndex(e,-1),r=_y(this._lContainer,t);return r&&Xd(Lg(this._lContainer),t)!=null?new Cs(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function Eb(n){return n[rh]}function Lg(n){return n[rh]||(n[rh]=[])}function BS(n,e){let t,r=e[n.index];return jr(r)?t=r:(t=TS(r,e,null,n),e[n.index]=t,Uh(e,t)),n2(t,e,n,r),new jS(t,n,e)}function t2(n,e){let t=n[lt],r=t.createComment(""),i=Tn(e,n),s=pS(t,i);return dh(t,s,r,LV(t,i),!1),r}var n2=s2,r2=()=>!1;function i2(n,e,t){return r2(n,e,t)}function s2(n,e,t,r){if(n[_s])return;let i;t.type&8?i=lr(r):i=t2(e,t),n[_s]=i}var Sy=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Ay=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){let o=t.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Sv(e,t).matches!==null&&this.queries[t].setDirty()}},My=class{constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=f2(e):this.predicate=e}},xy=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,t!==null?t.push(s):t=[s])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Ry=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,t,o2(t,s)),this.matchTNodeWithReadOption(e,t,Qd(t,e,s,!1,!1))}else r===Zo?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Qd(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===dn||i===As||i===Zo&&t.type&4)this.addMatch(t.index,-2);else{let s=Qd(t,e,i,!1,!1);s!==null&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function o2(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function a2(n,e){return n.type&11?ia(n,e):n.type&4?$h(n,e):null}function l2(n,e,t,r){return t===-1?a2(e,n):t===-2?u2(n,e,r):Ds(n,n[_e],t,e)}function u2(n,e,t){if(t===dn)return ia(e,n);if(t===Zo)return $h(e,n);if(t===As)return BS(e,n)}function US(n,e,t,r){let i=e[Pr].queries[r];if(i.matches===null){let s=n.data,o=t.matches,a=[];for(let l=0;o!==null&&l<o.length;l+=2){let c=o[l];if(c<0)a.push(null);else{let d=s[c];a.push(l2(e,d,o[l+1],t.metadata.read))}}i.matches=a}return i.matches}function Ny(n,e,t,r){let i=n.queries.getByIndex(t),s=i.matches;if(s!==null){let o=US(n,e,i,t);for(let a=0;a<s.length;a+=2){let l=s[a];if(l>0)r.push(o[a/2]);else{let c=s[a+1],d=e[-l];for(let f=ln;f<d.length;f++){let m=d[f];m[vs]===m[Vt]&&Ny(m[_e],m,c,r)}if(d[Qo]!==null){let f=d[Qo];for(let m=0;m<f.length;m++){let y=f[m];Ny(y[_e],y,c,r)}}}}}return r}function c2(n,e){return n[Pr].queries[e].queryList}function d2(n,e,t){let r=new ly((t&4)===4);return XV(n,e,r,r.destroy),(e[Pr]??=new Ay).queries.push(new Sy(r))-1}function h2(n,e,t,r){let i=It();if(i.firstCreatePass){let s=xt();p2(i,new My(e,t,r),s.index),m2(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return d2(i,Oe(),t)}function f2(n){return n.split(",").map(e=>e.trim())}function p2(n,e,t){n.queries===null&&(n.queries=new xy),n.queries.track(new Ry(e,t))}function m2(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function Sv(n,e){return n.queries.getByIndex(e)}function g2(n,e){let t=n[_e],r=Sv(t,e);return r.crossesNgTemplate?Ny(t,n,e,[]):US(t,n,r,e)}var Ib=new Set;function sa(n){Ib.has(n)||(Ib.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function y2(n){return typeof n=="function"&&n[xr]!==void 0}function Ms(n,e){sa("NgSignals");let t=yC(n),r=t[xr];return e?.equal&&(r.equal=e.equal),t.set=i=>cg(r,i),t.update=i=>vC(r,i),t.asReadonly=v2.bind(t),t}function v2(){let n=this[xr];if(n.readonlyFn===void 0){let e=()=>this();e[xr]=n,n.readonlyFn=e}return n.readonlyFn}function $S(n){return y2(n)&&typeof n.set=="function"}function _2(n){let e=[],t=new Map;function r(i){let s=t.get(i);if(!s){let o=n(i);t.set(i,s=o.then(D2))}return s}return gh.forEach((i,s)=>{let o=[];i.templateUrl&&o.push(r(i.templateUrl).then(c=>{i.template=c}));let a=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=a,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let c=i.styles.length,d=i.styleUrls;i.styleUrls.forEach((f,m)=>{a.push(""),o.push(r(f).then(y=>{a[c+m]=y,d.splice(d.indexOf(f),1),d.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&o.push(r(i.styleUrl).then(c=>{a.push(c),i.styleUrl=void 0}));let l=Promise.all(o).then(()=>C2(s));e.push(l)}),E2(),Promise.all(e).then(()=>{})}var gh=new Map,w2=new Set;function E2(){let n=gh;return gh=new Map,n}function I2(){return gh.size===0}function D2(n){return typeof n=="string"?n:n.text()}function C2(n){w2.delete(n)}function b2(n){return Object.getPrototypeOf(n.prototype).constructor}function xi(n){let e=b2(n.type),t=!0,r=[n];for(;e;){let i;if(kr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new H(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let o=n;o.inputs=$d(n.inputs),o.inputTransforms=$d(n.inputTransforms),o.declaredInputs=$d(n.declaredInputs),o.outputs=$d(n.outputs);let a=i.hostBindings;a&&x2(n,a);let l=i.viewQuery,c=i.contentQueries;if(l&&A2(n,l),c&&M2(n,c),T2(n,i),Kk(n.outputs,i.outputs),kr(i)&&i.data.animation){let d=n.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(n),a===xi&&(t=!1)}}e=Object.getPrototypeOf(e)}S2(r)}function T2(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function S2(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Kl(i.hostAttrs,t=Kl(t,i.hostAttrs))}}function $d(n){return n===zo?{}:n===tn?[]:n}function A2(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function M2(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,s)=>{e(r,i,s),t(r,i,s)}:n.contentQueries=e}function x2(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function Av(n){let e=n.inputConfig,t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(t[r]=i[3])}n.inputTransforms=t}var bi=class{},Zl=class{};var yh=class extends bi{constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new mh(this);let s=Kb(e);this._bootstrapComponents=lS(s.bootstrap),this._r3Injector=FT(e,t,[{provide:bi,useValue:this},{provide:Di,useValue:this.componentFactoryResolver},...r],Kt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},vh=class extends Zl{constructor(e){super(),this.moduleType=e}create(e){return new yh(this.moduleType,e,[])}};function R2(n,e,t){return new yh(n,e,t,!1)}var Py=class extends bi{constructor(e){super(),this.componentFactoryResolver=new mh(this),this.instance=null;let t=new Ql([...e.providers,{provide:bi,useValue:this},{provide:Di,useValue:this.componentFactoryResolver}],e.parent||Ky(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Hh(n,e,t=null){return new Py({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function xs(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function N2(n){return(n.flags&32)===32}function P2(n,e,t,r,i,s,o,a,l){let c=e.consts,d=lu(e,n,4,o||null,a||null);Iv(e,t,d,Yo(c,l)),kh(e,d);let f=d.tView=wv(2,d,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,d),f.queries=e.queries.embeddedTView(d)),d}function k2(n,e,t,r,i,s,o,a,l,c){let d=t+ar,f=e.firstCreatePass?P2(d,e,n,r,i,s,o,a,l):e.data[d];Ts(f,!1);let m=O2(e,n,f,t);Nh()&&Lh(e,n,m,f),Ii(m,n);let y=TS(m,n,m,f);return n[d]=y,Uh(n,y),i2(y,f,n),Ah(f)&&vv(e,n,f),l!=null&&_v(n,f,c),f}function An(n,e,t,r,i,s,o,a){let l=Oe(),c=It(),d=Yo(c.consts,s);return k2(l,c,n,e,t,r,i,d,o,a),An}var O2=F2;function F2(n,e,t,r){return Ph(!0),e[lt].createComment("")}var Uo=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Uo||{}),HS=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=Z({token:n,providedIn:"root",factory:()=>new n})}}return n})(),ky=class n{constructor(){this.ngZone=z(Ee),this.scheduler=z(Jo),this.errorHandler=z(Or,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Uo.EarlyRead,Uo.Write,Uo.MixedReadWrite,Uo.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=Z({token:n,providedIn:"root",factory:()=>new n})}},Oy=class{constructor(e,t,r,i){this.impl=e,this.hooks=t,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function Mv(n,e){!e?.injector&&HO(Mv);let t=e?.injector??z(Mt);return bV(t)?(sa("NgAfterNextRender"),L2(n,t,e,!0)):j2}function V2(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function L2(n,e,t,r){let i=e.get(HS);i.impl??=e.get(ky);let s=t?.phase??Uo.MixedReadWrite,o=t?.manualCleanup!==!0?e.get(iv):null,a=new Oy(i.impl,V2(n,s),r,o);return i.impl.register(a),a}var j2={destroy(){}};function $r(n,e,t,r){let i=Oe(),s=su();if(xs(i,s,e)){let o=It(),a=Rh();pL(a,i,n,e,t,r)}return $r}function B2(n,e,t,r){return xs(n,su(),t)?e+eu(t)+r:Ai}function Hd(n,e){return n<<17|e<<2}function bs(n){return n>>17&32767}function U2(n){return(n&2)==2}function $2(n,e){return n&131071|e<<17}function Fy(n){return n|2}function ea(n){return(n&131068)>>2}function jg(n,e){return n&-131069|e<<2}function H2(n){return(n&1)===1}function Vy(n){return n|1}function q2(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=bs(o),l=ea(o);n[r]=t;let c=!1,d;if(Array.isArray(t)){let f=t;d=f[1],(d===null||nu(f,d)>0)&&(c=!0)}else d=t;if(i)if(l!==0){let m=bs(n[a+1]);n[r+1]=Hd(m,a),m!==0&&(n[m+1]=jg(n[m+1],r)),n[a+1]=$2(n[a+1],r)}else n[r+1]=Hd(a,0),a!==0&&(n[a+1]=jg(n[a+1],r)),a=r;else n[r+1]=Hd(l,0),a===0?a=r:n[l+1]=jg(n[l+1],r),l=r;c&&(n[r+1]=Fy(n[r+1])),Db(n,d,r,!0),Db(n,d,r,!1),z2(e,d,n,r,s),o=Hd(a,l),s?e.classBindings=o:e.styleBindings=o}function z2(n,e,t,r,i){let s=i?n.residualClasses:n.residualStyles;s!=null&&typeof e=="string"&&nu(s,e)>=0&&(t[r+1]=Vy(t[r+1]))}function Db(n,e,t,r){let i=n[t+1],s=e===null,o=r?bs(i):ea(i),a=!1;for(;o!==0&&(a===!1||s);){let l=n[o],c=n[o+1];G2(l,e)&&(a=!0,n[o+1]=r?Vy(c):Fy(c)),o=r?bs(c):ea(c)}a&&(n[t+1]=r?Fy(i):Vy(i))}function G2(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?nu(n,e)>=0:!1}var Bn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function W2(n){return n.substring(Bn.key,Bn.keyEnd)}function K2(n){return Q2(n),qS(n,zS(n,0,Bn.textEnd))}function qS(n,e){let t=Bn.textEnd;return t===e?-1:(e=Bn.keyEnd=Y2(n,Bn.key=e,t),zS(n,e,t))}function Q2(n){Bn.key=0,Bn.keyEnd=0,Bn.value=0,Bn.valueEnd=0,Bn.textEnd=n.length}function zS(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function Y2(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function Ze(n,e,t){let r=Oe(),i=su();if(xs(r,i,e)){let s=It(),o=Rh();Ev(s,o,r,n,e,r[lt],t,!1)}return Ze}function Ly(n,e,t,r,i){let s=e.inputs,o=i?"class":"style";Dv(n,t,s[o],o,r)}function Rs(n,e,t){return GS(n,e,t,!1),Rs}function qh(n,e){return GS(n,e,null,!0),qh}function Hr(n){J2(ij,Z2,n,!0)}function Z2(n,e){for(let t=K2(e);t>=0;t=qS(e,t))zy(n,W2(e),!0)}function GS(n,e,t,r){let i=Oe(),s=It(),o=yT(2);if(s.firstUpdatePass&&KS(s,n,o,r),e!==Ai&&xs(i,o,e)){let a=s.data[Ss()];QS(s,a,i,i[lt],n,i[o+1]=oj(e,t),r,o)}}function J2(n,e,t,r){let i=It(),s=yT(2);i.firstUpdatePass&&KS(i,null,s,r);let o=Oe();if(t!==Ai&&xs(o,s,t)){let a=i.data[Ss()];if(YS(a,r)&&!WS(i,s)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(t=Hg(l,t||"")),Ly(i,a,o,t,r)}else sj(i,a,o,o[lt],o[s+1],o[s+1]=rj(n,e,t),r,s)}}function WS(n,e){return e>=n.expandoStartIndex}function KS(n,e,t,r){let i=n.data;if(i[t+1]===null){let s=i[Ss()],o=WS(n,t);YS(s,r)&&e===null&&!o&&(e=!1),e=X2(i,s,e,r),q2(i,s,e,t,o,r)}}function X2(n,e,t,r){let i=vT(n),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Bg(null,n,e,t,r),t=Jl(t,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||n[o]!==i)if(t=Bg(i,n,e,t,r),s===null){let l=ej(n,e,r);l!==void 0&&Array.isArray(l)&&(l=Bg(null,n,e,l[1],r),l=Jl(l,e.attrs,r),tj(n,e,r,l))}else s=nj(n,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),t}function ej(n,e,t){let r=t?e.classBindings:e.styleBindings;if(ea(r)!==0)return n[bs(r)]}function tj(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[bs(i)]=r}function nj(n,e,t){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=n[s].hostAttrs;r=Jl(r,o,t)}return Jl(r,e.attrs,t)}function Bg(n,e,t,r,i){let s=null,o=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<o&&(s=e[a],r=Jl(r,s.hostAttrs,i),s!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Jl(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),zy(n,o,t?!0:e[++s]))}return n===void 0?null:n}function rj(n,e,t){if(t==null||t==="")return tn;let r=[],i=Sn(t);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if(typeof i=="object")for(let s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else typeof i=="string"&&e(r,i);return r}function ij(n,e,t){let r=String(e);r!==""&&!r.includes(" ")&&zy(n,r,t)}function sj(n,e,t,r,i,s,o,a){i===Ai&&(i=tn);let l=0,c=0,d=0<i.length?i[0]:null,f=0<s.length?s[0]:null;for(;d!==null||f!==null;){let m=l<i.length?i[l+1]:void 0,y=c<s.length?s[c+1]:void 0,E=null,b;d===f?(l+=2,c+=2,m!==y&&(E=f,b=y)):f===null||d!==null&&d<f?(l+=2,E=d):(c+=2,E=f,b=y),E!==null&&QS(n,e,t,r,E,b,o,a),d=l<i.length?i[l]:null,f=c<s.length?s[c]:null}}function QS(n,e,t,r,i,s,o,a){if(!(e.type&3))return;let l=n.data,c=l[a+1],d=H2(c)?Cb(l,e,t,i,ea(c),o):void 0;if(!_h(d)){_h(s)||U2(c)&&(s=Cb(l,null,t,i,a,o));let f=aT(Ss(),t);zV(r,o,f,i,s)}}function Cb(n,e,t,r,i,s){let o=e===null,a;for(;i>0;){let l=n[i],c=Array.isArray(l),d=c?l[1]:l,f=d===null,m=t[i+1];m===Ai&&(m=f?tn:void 0);let y=f?xg(m,r):d===r?m:void 0;if(c&&!_h(y)&&(y=xg(l,r)),_h(y)&&(a=y,o))return a;let E=n[i+1];i=o?bs(E):ea(E)}if(e!==null){let l=s?e.residualClasses:e.residualStyles;l!=null&&(a=xg(l,r))}return a}function _h(n){return n!==void 0}function oj(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Kt(Sn(n)))),n}function YS(n,e){return(n.flags&(e?8:16))!==0}function aj(n,e,t,r,i,s){let o=e.consts,a=Yo(o,i),l=lu(e,n,2,r,a);return Iv(e,t,l,Yo(o,s)),l.attrs!==null&&ph(l,l.attrs,!1),l.mergedAttrs!==null&&ph(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function v(n,e,t,r){let i=Oe(),s=It(),o=ar+n,a=i[lt],l=s.firstCreatePass?aj(o,s,i,e,t,r):s.data[o],c=lj(s,i,l,a,e,n);i[o]=c;let d=Ah(l);return Ts(l,!0),yS(a,c,l),!N2(l)&&Nh()&&Lh(s,i,c,l),rF()===0&&Ii(c,i),iF(),d&&(vv(s,i,l),yv(s,l,i)),r!==null&&_v(i,l),v}function w(){let n=xt();Jy()?mT():(n=n.parent,Ts(n,!1));let e=n;aF(e)&&lF(),sF();let t=It();return t.firstCreatePass&&(kh(t,n),Yy(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&EF(e)&&Ly(t,e,Oe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&IF(e)&&Ly(t,e,Oe(),e.stylesWithoutHost,!1),w}function U(n,e,t,r){return v(n,e,t,r),w(),U}var lj=(n,e,t,r,i,s)=>(Ph(!0),uS(r,i,yF()));function uj(n,e,t,r,i){let s=e.consts,o=Yo(s,r),a=lu(e,n,8,"ng-container",o);o!==null&&ph(a,o,!0);let l=Yo(s,i);return Iv(e,t,a,l),e.queries!==null&&e.queries.elementStart(e,a),a}function oa(n,e,t){let r=Oe(),i=It(),s=n+ar,o=i.firstCreatePass?uj(s,i,r,e,t):i.data[s];Ts(o,!0);let a=cj(i,r,o,n);return r[s]=a,Nh()&&Lh(i,r,a,o),Ii(a,r),Ah(o)&&(vv(i,r,o),yv(i,o,r)),t!=null&&_v(r,o),oa}function aa(){let n=xt(),e=It();return Jy()?mT():(n=n.parent,Ts(n,!1)),e.firstCreatePass&&(kh(e,n),Yy(n)&&e.queries.elementEnd(n)),aa}var cj=(n,e,t,r)=>(Ph(!0),MV(e[lt],""));function uu(){return Oe()}function xv(n,e,t){let r=Oe(),i=su();if(xs(r,i,e)){let s=It(),o=Rh(),a=vT(s.data),l=vL(a,o,r);Ev(s,o,r,n,e,l,t,!0)}return xv}var wh="en-US";var dj=wh;function hj(n){typeof n=="string"&&(dj=n.toLowerCase().replace(/_/g,"-"))}var fj=(n,e,t)=>{};function me(n,e,t,r){let i=Oe(),s=It(),o=xt();return ZS(s,i,i[lt],o,n,e,r),me}function pj(n,e,t,r){let i=n.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===t&&i[s+1]===r){let a=e[nh],l=i[s+2];return a.length>l?a[l]:null}typeof o=="string"&&(s+=2)}return null}function ZS(n,e,t,r,i,s,o){let a=Ah(r),c=n.firstCreatePass&&MS(n),d=e[$n],f=AS(e),m=!0;if(r.type&3||o){let b=Tn(r,e),M=o?o(b):b,F=f.length,q=o?W=>o(lr(W[r.index])):r.index,V=null;if(!o&&a&&(V=pj(n,e,i,r.index)),V!==null){let W=V.__ngLastListenerFn__||V;W.__ngNextListenerFn__=s,V.__ngLastListenerFn__=s,m=!1}else{s=Tb(r,e,d,s),fj(b,i,s);let W=t.listen(M,i,s);f.push(s,W),c&&c.push(i,q,F,F+1)}}else s=Tb(r,e,d,s);let y=r.outputs,E;if(m&&y!==null&&(E=y[i])){let b=E.length;if(b)for(let M=0;M<b;M+=2){let F=E[M],q=E[M+1],se=e[F][q].subscribe(s),J=f.length;f.push(s,se),c&&c.push(i,r.index,J,-(J+1))}}}function bb(n,e,t,r){let i=Re(null);try{return nr(6,e,t),t(r)!==!1}catch(s){return xS(n,s),!1}finally{nr(7,e,t),Re(i)}}function Tb(n,e,t,r){return function i(s){if(s===Function)return r;let o=n.componentOffset>-1?Si(n.index,e):e;bv(o,5);let a=bb(e,t,r,s),l=i.__ngNextListenerFn__;for(;l;)a=bb(e,t,l,s)&&a,l=l.__ngNextListenerFn__;return a}}function Qt(n=1){return gF(n)}function JS(n,e,t,r){h2(n,e,t,r)}function XS(n){let e=Oe(),t=It(),r=_T();Xy(r+1);let i=Sv(t,r);if(n.dirty&&XO(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let s=g2(e,r);n.reset(s,qF),n.notifyOnChanges()}return!0}return!1}function eA(){return c2(Oe(),_T())}function tA(n){let e=cF();return JO(e,ar+n)}function T(n,e=""){let t=Oe(),r=It(),i=n+ar,s=r.firstCreatePass?lu(r,i,1,e,null):r.data[i],o=mj(r,t,s,e,n);t[i]=o,Nh()&&Lh(r,t,o,s),Ts(s,!1)}var mj=(n,e,t,r,i)=>(Ph(!0),SV(e[lt],r));function Ri(n,e,t){let r=Oe(),i=B2(r,n,e,t);return i!==Ai&&_L(r,Ss(),i),Ri}function qr(n,e,t){$S(e)&&(e=e());let r=Oe(),i=su();if(xs(r,i,e)){let s=It(),o=Rh();Ev(s,o,r,n,e,r[lt],t,!1)}return qr}function Ni(n,e){let t=$S(n);return t&&n.set(e),t}function zr(n,e){let t=Oe(),r=It(),i=xt();return ZS(r,t,t[lt],i,n,e),zr}function gj(n,e,t){let r=It();if(r.firstCreatePass){let i=kr(n);jy(t,r.data,r.blueprint,i,!0),jy(e,r.data,r.blueprint,i,!1)}}function jy(n,e,t,r,i){if(n=Wt(n),Array.isArray(n))for(let s=0;s<n.length;s++)jy(n[s],e,t,r,i);else{let s=It(),o=Oe(),a=xt(),l=Wo(n)?n:Wt(n.provide),c=eT(n),d=a.providerIndexes&1048575,f=a.directiveStart,m=a.providerIndexes>>20;if(Wo(n)||!n.multi){let y=new Is(c,i,X),E=$g(l,e,i?d:d+m,f);E===-1?(ry(ah(a,o),s,l),Ug(s,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(y),o.push(y)):(t[E]=y,o[E]=y)}else{let y=$g(l,e,d+m,f),E=$g(l,e,d,d+m),b=y>=0&&t[y],M=E>=0&&t[E];if(i&&!M||!i&&!b){ry(ah(a,o),s,l);let F=_j(i?vj:yj,t.length,i,r,c);!i&&M&&(t[E].providerFactory=F),Ug(s,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(F),o.push(F)}else{let F=nA(t[i?E:y],c,!i&&r);Ug(s,n,y>-1?y:E,F)}!i&&r&&M&&t[E].componentProviders++}}}function Ug(n,e,t,r){let i=Wo(e),s=FO(e);if(i||s){let l=(s?Wt(e.useClass):e).prototype.ngOnDestroy;if(l){let c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let d=c.indexOf(t);d===-1?c.push(t,[r,l]):c[d+1].push(r,l)}else c.push(t,l)}}}function nA(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function $g(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function yj(n,e,t,r){return By(this.multi,[])}function vj(n,e,t,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Ds(t,t[_e],this.providerFactory.index,r);s=a.slice(0,o),By(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],By(i,s);return s}function By(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function _j(n,e,t,r,i){let s=new Is(n,t,X);return s.multi=[],s.index=e,s.componentProviders=0,nA(s,i,r&&!t),s}function zh(n,e=[]){return t=>{t.providersResolver=(r,i)=>gj(r,i?i(n):n,e)}}var wj=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Zb(!1,t.type),i=r.length>0?Hh([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Z({token:n,providedIn:"environment",factory:()=>new n(j(cn))})}}return n})();function cu(n){sa("NgStandalone"),n.getStandaloneInjector=e=>e.get(wj).getOrCreateStandaloneInjector(n)}function rA(n,e){return $h(n,e)}var qd=null;function Ej(n){qd!==null&&(n.defaultEncapsulation!==qd.defaultEncapsulation||n.preserveWhitespaces!==qd.preserveWhitespaces)||(qd=n)}var Lr=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},iA=new Lr("18.2.13");var Gh=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var Rv=new Y(""),du=new Y(""),Wh=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Nv||(Ij(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ee.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(t)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t()},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static{this.\u0275fac=function(r){return new(r||n)(j(Ee),j(Kh),j(du))}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac})}}return n})(),Kh=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return Nv?.findTestabilityInTree(this,t,r)??null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();function Ij(n){Nv=n}var Nv;function Ns(n){return!!n&&typeof n.then=="function"}function sA(n){return!!n&&typeof n.subscribe=="function"}var Qh=new Y(""),oA=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=z(Qh,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let s=i();if(Ns(s))t.push(s);else if(sA(s)){let o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Pv=new Y("");function Dj(){gC(()=>{throw new H(600,!1)})}function Cj(n){return n.isBoundToModule}var bj=10;function Tj(n,e,t){try{let r=t();return Ns(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}function aA(n,e){return Array.isArray(e)?e.reduce(aA,n):$($({},n),e)}var Mn=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=z($F),this.afterRenderManager=z(HS),this.zonelessEnabled=z(Tv),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new ke,this.afterTick=new ke,this.componentTypes=[],this.components=[],this.isStable=z(ra).hasPendingTasks.pipe(le(t=>!t)),this._injector=z(cn)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof fh;if(!this._injector.get(oA).done){let m=!i&&Wb(t),y=!1;throw new H(405,y)}let o;i?o=t:o=this._injector.get(Di).resolveComponentFactory(t),this.componentTypes.push(o.componentType);let a=Cj(o)?void 0:this._injector.get(bi),l=r||o.selector,c=o.create(Mt.NULL,[],l,a),d=c.location.nativeElement,f=c.injector.get(Rv,null);return f?.registerApplication(d),c.onDestroy(()=>{this.detachView(c.hostView),Yd(this.components,c),f?.unregisterApplication(d)}),this._loadComponent(c),c}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new H(101,!1);let t=Re(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,Re(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(Ci,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<bj;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:s}of this._views)Sj(i,s,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Mh(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Yd(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(Pv,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Yd(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new H(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Yd(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Sj(n,e,t,r){if(!t&&!Mh(n))return;PS(n,e,t&&!r?0:1)}var Uy=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Yh=(()=>{class n{compileModuleSync(t){return new vh(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Kb(t),s=lS(i.declarations).reduce((o,a)=>{let l=Ei(a);return l&&o.push(new Xo(l)),o},[]);return new Uy(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Aj=new Y("");function Mj(n,e,t){let r=new vh(t);return Promise.resolve(r)}function Sb(n){for(let e=n.length-1;e>=0;e--)if(n[e]!==void 0)return n[e]}var xj=(()=>{class n{constructor(){this.zone=z(Ee),this.changeDetectionScheduler=z(Jo),this.applicationRef=z(Mn)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Rj({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Ee(de($({},lA()),{scheduleInRootZone:t})),[{provide:Ee,useFactory:n},{provide:Go,multi:!0,useFactory:()=>{let r=z(xj,{optional:!0});return()=>r.initialize()}},{provide:Go,multi:!0,useFactory:()=>{let r=z(Nj);return()=>{r.initialize()}}},e===!0?{provide:VS,useValue:!0}:[],{provide:LS,useValue:t??VT}]}function lA(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var Nj=(()=>{class n{constructor(){this.subscription=new st,this.initialized=!1,this.zone=z(Ee),this.pendingTasks=z(ra)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ee.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ee.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Pj=(()=>{class n{constructor(){this.appRef=z(Mn),this.taskService=z(ra),this.ngZone=z(Ee),this.zonelessEnabled=z(Tv),this.disableScheduling=z(VS,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new st,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(uh):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(z(LS,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof ch||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?ib:LT;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(uh+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,ib(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function kj(){return typeof $localize<"u"&&$localize.locale||wh}var kv=new Y("",{providedIn:"root",factory:()=>z(kv,we.Optional|we.SkipSelf)||kj()});var Eh=new Y("");function zd(n){return!n.moduleRef}function Oj(n){let e=zd(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Ee);return t.run(()=>{zd(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Or,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:s=>{r.handleError(s)}})}),zd(n)){let s=()=>e.destroy(),o=n.platformInjector.get(Eh);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>n.moduleRef.destroy(),o=n.platformInjector.get(Eh);o.add(s),n.moduleRef.onDestroy(()=>{Yd(n.allPlatformModules,n.moduleRef),i.unsubscribe(),o.delete(s)})}return Tj(r,t,()=>{let s=e.get(oA);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(kv,wh);if(hj(o||wh),zd(n)){let a=e.get(Mn);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return Fj(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function Fj(n,e){let t=n.injector.get(Mn);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new H(-403,!1);e.push(n)}var uA=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){let i=r?.scheduleInRootZone,s=()=>UF(r?.ngZone,de($({},lA({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing})),{scheduleInRootZone:i})),o=r?.ignoreChangesOutsideZone,a=[Rj({ngZoneFactory:s,ignoreChangesOutsideZone:o}),{provide:Jo,useExisting:Pj}],l=R2(t.moduleType,this.injector,a);return Oj({moduleRef:l,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(t,r=[]){let i=aA({},r);return Mj(this.injector,i,t).then(s=>this.bootstrapModuleFactory(s,i))}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new H(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let t=this._injector.get(Eh,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(r){return new(r||n)(j(Mt))}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),Gl=null,cA=new Y("");function Vj(n){if(Gl&&!Gl.get(cA,!1))throw new H(400,!1);Dj(),Gl=n;let e=n.get(uA);return Bj(n),e}function Ov(n,e,t=[]){let r=`Platform: ${e}`,i=new Y(r);return(s=[])=>{let o=dA();if(!o||o.injector.get(cA,!1)){let a=[...t,...s,{provide:i,useValue:!0}];n?n(a):Vj(Lj(a,r))}return jj(i)}}function Lj(n=[],e){return Mt.create({name:e,providers:[{provide:bh,useValue:"platform"},{provide:Eh,useValue:new Set([()=>Gl=null])},...n]})}function jj(n){let e=dA();if(!e)throw new H(401,!1);return e}function dA(){return Gl?.get(uA)??null}function Bj(n){n.get(av,null)?.forEach(t=>t())}function Fv(){return!1}var dr=(()=>{class n{static{this.__NG_ELEMENT_ID__=Uj}}return n})();function Uj(n){return $j(xt(),Oe(),(n&16)===16)}function $j(n,e,t){if(Sh(n)&&!t){let r=Si(n.index,e);return new Cs(r,r)}else if(n.type&175){let r=e[or];return new Cs(r,e)}return null}var hA=Ov(null,"core",[]),fA=(()=>{class n{constructor(t){}static{this.\u0275fac=function(r){return new(r||n)(j(Mn))}}static{this.\u0275mod=Ye({type:n})}static{this.\u0275inj=Qe({})}}return n})();function Ps(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function hu(n,e){sa("NgSignals");let t=fC(n);return e?.equal&&(t[xr].equal=e.equal),t}function Gr(n){let e=Re(null);try{return n()}finally{Re(e)}}function pA(n){let e=Ei(n);if(!e)return null;let t=new Xo(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var vA=null;function hr(){return vA}function _A(n){vA??=n}var Zh=class{};var Ae=new Y(""),Bv=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Z({token:n,factory:()=>z(Hj),providedIn:"platform"})}}return n})(),wA=new Y(""),Hj=(()=>{class n extends Bv{constructor(){super(),this._doc=z(Ae),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return hr().getBaseHref(this._doc)}onPopState(t){let r=hr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=hr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Z({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function Uv(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function mA(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function Wr(n){return n&&n[0]!=="?"?"?"+n:n}var Kr=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Z({token:n,factory:()=>z($v),providedIn:"root"})}}return n})(),EA=new Y(""),$v=(()=>{class n extends Kr{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??z(Ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Uv(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Wr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Wr(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Wr(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(j(Bv),j(EA,8))}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),IA=(()=>{class n extends Kr{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Uv(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Wr(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Wr(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(j(Bv),j(EA,8))}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac})}}return n})(),la=(()=>{class n{constructor(t){this._subject=new at,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=Gj(mA(gA(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Wr(r))}normalize(t){return n.stripTrailingSlash(zj(this._basePath,gA(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Wr(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Wr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=Wr}static{this.joinWithSlash=Uv}static{this.stripTrailingSlash=mA}static{this.\u0275fac=function(r){return new(r||n)(j(Kr))}}static{this.\u0275prov=Z({token:n,factory:()=>qj(),providedIn:"root"})}}return n})();function qj(){return new la(j(Kr))}function zj(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function gA(n){return n.replace(/\/index.html$/,"")}function Gj(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function DA(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,s]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Qr=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Vv,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){yA("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){yA("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(X(As),X(Zo))}}static{this.\u0275dir=Lt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),Vv=class{constructor(){this.$implicit=null,this.ngIf=null}};function yA(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${Kt(e)}'.`)}var Xh=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ye({type:n})}static{this.\u0275inj=Qe({})}}return n})(),Hv="browser",Wj="server";function Kj(n){return n===Hv}function ks(n){return n===Wj}var CA=(()=>{class n{static{this.\u0275prov=Z({token:n,providedIn:"root",factory:()=>Kj(z(nn))?new Lv(z(Ae),window):new jv})}}return n})(),Lv=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=Qj(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function Qj(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var jv=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Jh=class{};var Gv=class extends Zh{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Wv=class n extends Gv{static makeCurrent(){_A(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=Yj();return t==null?null:Zj(t)}resetBaseElement(){fu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return DA(document.cookie,e)}},fu=null;function Yj(){return fu=fu||document.querySelector("base"),fu?fu.getAttribute("href"):null}function Zj(n){return new URL(n,document.baseURI).pathname}var Kv=class{addToWindow(e){un.getAngularTestability=(r,i=!0)=>{let s=e.findTestabilityInTree(r,i);if(s==null)throw new H(5103,!1);return s},un.getAllAngularTestabilities=()=>e.getAllTestabilities(),un.getAllAngularRootElements=()=>e.getAllRootElements();let t=r=>{let i=un.getAllAngularTestabilities(),s=i.length,o=function(){s--,s==0&&r()};i.forEach(a=>{a.whenStable(o)})};un.frameworkStabilizers||(un.frameworkStabilizers=[]),un.frameworkStabilizers.push(t)}findTestabilityInTree(e,t,r){if(t==null)return null;let i=e.getTestability(t);return i??(r?hr().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},Jj=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac})}}return n})(),Qv=new Y(""),SA=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new H(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(j(Qv),j(Ee))}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac})}}return n})(),tf=class{constructor(e){this._doc=e}},qv="ng-app-id",AA=(()=>{class n{constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ks(s),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${qv}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let s=i.get(t);return s.usage+=r,s.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===t)return i.delete(r),s.removeAttribute(qv),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(qv,this.appId),t.appendChild(o),o}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(j(Ae),j(Oh),j(uv,8),j(nn))}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac})}}return n})(),zv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Zv=/%COMP%/g,MA="%COMP%",Xj=`_nghost-${MA}`,eB=`_ngcontent-${MA}`,tB=!0,nB=new Y("",{providedIn:"root",factory:()=>tB});function rB(n){return eB.replace(Zv,n)}function iB(n){return Xj.replace(Zv,n)}function xA(n,e){return e.map(t=>t.replace(Zv,n))}var nf=(()=>{class n{constructor(t,r,i,s,o,a,l,c=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=ks(a),this.defaultRenderer=new pu(t,o,l,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===ir.ShadowDom&&(r=de($({},r),{encapsulation:ir.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof rf?i.applyToHost(t):i instanceof mu&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(r.encapsulation){case ir.Emulated:s=new rf(l,c,r,this.appId,d,o,a,f);break;case ir.ShadowDom:return new Yv(l,c,t,r,o,a,this.nonce,f);default:s=new mu(l,c,r,d,o,a,f);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(j(SA),j(AA),j(Oh),j(nB),j(Ae),j(nn),j(Ee),j(uv))}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac})}}return n})(),pu=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(zv[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(bA(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(bA(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new H(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let s=zv[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=zv[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Vr.DashCase|Vr.Important)?e.style.setProperty(t,r,i&Vr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Vr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=hr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function bA(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Yv=class extends pu{constructor(e,t,r,i,s,o,a,l){super(e,s,o,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=xA(i.id,i.styles);for(let d of c){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=d,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},mu=class extends pu{constructor(e,t,r,i,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=l?xA(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},rf=class extends mu{constructor(e,t,r,i,s,o,a,l){let c=i+"-"+r.id;super(e,t,r,s,o,a,l,c),this.contentAttr=rB(c),this.hostAttr=iB(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},sB=(()=>{class n extends tf{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(j(Ae))}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac})}}return n})(),TA=["alt","control","meta","shift"],oB={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},aB={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},lB=(()=>{class n extends tf{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>hr().onAndCancel(t,s.domEventName,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=n._normalizeKey(r.pop()),o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),TA.forEach(c=>{let d=r.indexOf(c);d>-1&&(r.splice(d,1),o+=c+".")}),o+=s,r.length!=0||s.length===0)return null;let l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(t,r){let i=oB[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),TA.forEach(o=>{if(o!==i){let a=aB[o];a(t)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(j(Ae))}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac})}}return n})();function uB(){Wv.makeCurrent()}function cB(){return new Or}function dB(){return zT(document),document}var hB=[{provide:nn,useValue:Hv},{provide:av,useValue:uB,multi:!0},{provide:Ae,useFactory:dB,deps:[]}],RA=Ov(hA,"browser",hB),fB=new Y(""),pB=[{provide:du,useClass:Kv,deps:[]},{provide:Rv,useClass:Wh,deps:[Ee,Kh,du]},{provide:Wh,useClass:Wh,deps:[Ee,Kh,du]}],mB=[{provide:bh,useValue:"root"},{provide:Or,useFactory:cB,deps:[]},{provide:Qv,useClass:sB,multi:!0,deps:[Ae,Ee,nn]},{provide:Qv,useClass:lB,multi:!0,deps:[Ae]},nf,AA,SA,{provide:Ci,useExisting:nf},{provide:Jh,useClass:Jj,deps:[]},[]],sf=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:Oh,useValue:t.appId}]}}static{this.\u0275fac=function(r){return new(r||n)(j(fB,12))}}static{this.\u0275mod=Ye({type:n})}static{this.\u0275inj=Qe({providers:[...mB,...pB],imports:[Xh,fA]})}}return n})();var NA=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(j(Ae))}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Jv=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Z({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=j(gB),i},providedIn:"root"})}}return n})(),gB=(()=>{class n extends Jv{constructor(t){super(),this._doc=t}sanitize(t,r){if(r==null)return null;switch(t){case hn.NONE:return r;case hn.HTML:return Br(r,"HTML")?Sn(r):dv(this._doc,String(r)).toString();case hn.STYLE:return Br(r,"Style")?Sn(r):r;case hn.SCRIPT:if(Br(r,"Script"))return Sn(r);throw new H(5200,!1);case hn.URL:return Br(r,"URL")?Sn(r):Vh(String(r));case hn.RESOURCE_URL:if(Br(r,"ResourceURL"))return Sn(r);throw new H(5201,!1);default:throw new H(5202,!1)}}bypassSecurityTrustHtml(t){return YT(t)}bypassSecurityTrustStyle(t){return ZT(t)}bypassSecurityTrustScript(t){return JT(t)}bypassSecurityTrustUrl(t){return XT(t)}bypassSecurityTrustResourceUrl(t){return eS(t)}static{this.\u0275fac=function(r){return new(r||n)(j(Ae))}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var ge="primary",Mu=Symbol("RouteTitle"),i_=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function pa(n){return new i_(n)}function yB(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function vB(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!fr(n[t],e[t]))return!1;return!0}function fr(n,e){let t=n?s_(n):void 0,r=e?s_(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!HA(n[i],e[i]))return!1;return!0}function s_(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function HA(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}else return n===e}function qA(n){return n.length>0?n[n.length-1]:null}function ki(n){return Ig(n)?n:Ns(n)?Te(Promise.resolve(n)):ie(n)}var _B={exact:GA,subset:WA},zA={exact:wB,subset:EB,ignored:()=>!0};function PA(n,e,t){return _B[t.paths](n.root,e.root,t.matrixParams)&&zA[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function wB(n,e){return fr(n,e)}function GA(n,e,t){if(!Fs(n.segments,e.segments)||!lf(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!GA(n.children[r],e.children[r],t))return!1;return!0}function EB(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>HA(n[t],e[t]))}function WA(n,e,t){return KA(n,e,e.segments,t)}function KA(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Fs(i,t)||e.hasChildren()||!lf(i,t,r))}else if(n.segments.length===t.length){if(!Fs(n.segments,t)||!lf(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!WA(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!Fs(n.segments,i)||!lf(n.segments,i,r)||!n.children[ge]?!1:KA(n.children[ge],e,s,r)}}function lf(n,e,t){return e.every((r,i)=>zA[t](n[i].parameters,r.parameters))}var Zr=class{constructor(e=new Ve([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=pa(this.queryParams),this._queryParamMap}toString(){return CB.serialize(this)}},Ve=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return uf(this)}},Os=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=pa(this.parameters),this._parameterMap}toString(){return YA(this)}};function IB(n,e){return Fs(n,e)&&n.every((t,r)=>fr(t.parameters,e[r].parameters))}function Fs(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function DB(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ge&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ge&&(t=t.concat(e(i,r)))}),t}var xu=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Z({token:n,factory:()=>new ma,providedIn:"root"})}}return n})(),ma=class{parse(e){let t=new a_(e);return new Zr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${gu(e.root,!0)}`,r=SB(e.queryParams),i=typeof e.fragment=="string"?`#${bB(e.fragment)}`:"";return`${t}${r}${i}`}},CB=new ma;function uf(n){return n.segments.map(e=>YA(e)).join("/")}function gu(n,e){if(!n.hasChildren())return uf(n);if(e){let t=n.children[ge]?gu(n.children[ge],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==ge&&r.push(`${i}:${gu(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=DB(n,(r,i)=>i===ge?[gu(n.children[ge],!1)]:[`${i}:${gu(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ge]!=null?`${uf(n)}/${t[0]}`:`${uf(n)}/(${t.join("//")})`}}function QA(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function of(n){return QA(n).replace(/%3B/gi,";")}function bB(n){return encodeURI(n)}function o_(n){return QA(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function cf(n){return decodeURIComponent(n)}function kA(n){return cf(n.replace(/\+/g,"%20"))}function YA(n){return`${o_(n.path)}${TB(n.parameters)}`}function TB(n){return Object.entries(n).map(([e,t])=>`;${o_(e)}=${o_(t)}`).join("")}function SB(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${of(t)}=${of(i)}`).join("&"):`${of(t)}=${of(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var AB=/^[^\/()?;#]+/;function e_(n){let e=n.match(AB);return e?e[0]:""}var MB=/^[^\/()?;=#]+/;function xB(n){let e=n.match(MB);return e?e[0]:""}var RB=/^[^=?&#]+/;function NB(n){let e=n.match(RB);return e?e[0]:""}var PB=/^[^&#]+/;function kB(n){let e=n.match(PB);return e?e[0]:""}var a_=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ve([],{}):new Ve([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ge]=new Ve(e,t)),r}parseSegment(){let e=e_(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new H(4009,!1);return this.capture(e),new Os(cf(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=xB(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=e_(this.remaining);i&&(r=i,this.capture(r))}e[cf(t)]=cf(r)}parseQueryParam(e){let t=NB(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let o=kB(this.remaining);o&&(r=o,this.capture(r))}let i=kA(t),s=kA(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=e_(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new H(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ge);let o=this.parseChildren();t[s]=Object.keys(o).length===1?o[ge]:new Ve([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new H(4011,!1)}};function ZA(n){return n.segments.length>0?new Ve([],{[ge]:n}):n}function JA(n){let e={};for(let[r,i]of Object.entries(n.children)){let s=JA(i);if(r===ge&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let t=new Ve(n.segments,e);return OB(t)}function OB(n){if(n.numberOfChildren===1&&n.children[ge]){let e=n.children[ge];return new Ve(n.segments.concat(e.segments),e.children)}return n}function Vs(n){return n instanceof Zr}function FB(n,e,t=null,r=null){let i=XA(n);return eM(i,e,t,r)}function XA(n){let e;function t(s){let o={};for(let l of s.children){let c=t(l);o[l.outlet]=c}let a=new Ve(s.url,o);return s===n&&(e=a),a}let r=t(n.root),i=ZA(r);return e??i}function eM(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return t_(i,i,i,t,r);let s=VB(e);if(s.toRoot())return t_(i,i,new Ve([],{}),t,r);let o=LB(s,i,n),a=o.processChildren?_u(o.segmentGroup,o.index,s.commands):nM(o.segmentGroup,o.index,s.commands);return t_(i,o.segmentGroup,a,t,r)}function df(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Iu(n){return typeof n=="object"&&n!=null&&n.outlets}function t_(n,e,t,r,i){let s={};r&&Object.entries(r).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`});let o;n===e?o=t:o=tM(n,e,t);let a=ZA(JA(o));return new Zr(a,s,i)}function tM(n,e,t){let r={};return Object.entries(n.children).forEach(([i,s])=>{s===e?r[i]=t:r[i]=tM(s,e,t)}),new Ve(n.segments,r)}var hf=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&df(r[0]))throw new H(4003,!1);let i=r.find(Iu);if(i&&i!==qA(r))throw new H(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function VB(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new hf(!0,0,n);let e=0,t=!1,r=n.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new hf(t,e,r)}var da=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function LB(n,e,t){if(n.isAbsolute)return new da(e,!0,0);if(!t)return new da(e,!1,NaN);if(t.parent===null)return new da(t,!0,0);let r=df(n.commands[0])?0:1,i=t.segments.length-1+r;return jB(t,i,n.numberOfDoubleDots)}function jB(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new H(4005,!1);i=r.segments.length}return new da(r,!1,i-s)}function BB(n){return Iu(n[0])?n[0].outlets:{[ge]:n}}function nM(n,e,t){if(n??=new Ve([],{}),n.segments.length===0&&n.hasChildren())return _u(n,e,t);let r=UB(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let s=new Ve(n.segments.slice(0,r.pathIndex),{});return s.children[ge]=new Ve(n.segments.slice(r.pathIndex),n.children),_u(s,0,i)}else return r.match&&i.length===0?new Ve(n.segments,{}):r.match&&!n.hasChildren()?l_(n,e,t):r.match?_u(n,0,i):l_(n,e,t)}function _u(n,e,t){if(t.length===0)return new Ve(n.segments,{});{let r=BB(t),i={};if(Object.keys(r).some(s=>s!==ge)&&n.children[ge]&&n.numberOfChildren===1&&n.children[ge].segments.length===0){let s=_u(n.children[ge],e,t);return new Ve(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=nM(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new Ve(n.segments,i)}}function UB(n,e,t){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;let o=n.segments[i],a=t[r];if(Iu(a))break;let l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!FA(l,c,o))return s;r+=2}else{if(!FA(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function l_(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let s=t[i];if(Iu(s)){let l=$B(s.outlets);return new Ve(r,l)}if(i===0&&df(t[0])){let l=n.segments[e];r.push(new Os(l.path,OA(t[0]))),i++;continue}let o=Iu(s)?s.outlets[ge]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&df(a)?(r.push(new Os(o,OA(a))),i+=2):(r.push(new Os(o,{})),i++)}return new Ve(r,{})}function $B(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=l_(new Ve([],{}),0,r))}),e}function OA(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function FA(n,e,t){return n==t.path&&fr(e,t.parameters)}var wu="imperative",bt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(bt||{}),xn=class{constructor(e,t){this.id=e,this.url=t}},ga=class extends xn{constructor(e,t,r="imperative",i=null){super(e,t),this.type=bt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},zn=class extends xn{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=bt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},pn=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(pn||{}),ff=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(ff||{}),Yr=class extends xn{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=bt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Pi=class extends xn{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=bt.NavigationSkipped}},Du=class extends xn{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=bt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},pf=class extends xn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=bt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},u_=class extends xn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=bt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},c_=class extends xn{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=bt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},d_=class extends xn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=bt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},h_=class extends xn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=bt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},f_=class{constructor(e){this.route=e,this.type=bt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},p_=class{constructor(e){this.route=e,this.type=bt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},m_=class{constructor(e){this.snapshot=e,this.type=bt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},g_=class{constructor(e){this.snapshot=e,this.type=bt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},y_=class{constructor(e){this.snapshot=e,this.type=bt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},v_=class{constructor(e){this.snapshot=e,this.type=bt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},mf=class{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=bt.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Cu=class{},ya=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function HB(n,e){return n.providers&&!n._injector&&(n._injector=Hh(n.providers,e,`Route: ${n.path}`)),n._injector??e}function qn(n){return n.outlet||ge}function qB(n,e){let t=n.filter(r=>qn(r)===e);return t.push(...n.filter(r=>qn(r)!==e)),t}function Ru(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var __=class{get injector(){return Ru(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Nu(this.rootInjector),this.attachRef=null}},Nu=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new __(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(j(cn))}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),gf=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=w_(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=w_(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=E_(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return E_(e,this._root).map(t=>t.value)}};function w_(n,e){if(n===e.value)return e;for(let t of e.children){let r=w_(n,t);if(r)return r}return null}function E_(n,e){if(n===e.value)return[e];for(let t of e.children){let r=E_(n,t);if(r.length)return r.unshift(e),r}return[]}var fn=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function ca(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var yf=class extends gf{constructor(e,t){super(e),this.snapshot=t,x_(this,e)}toString(){return this.snapshot.toString()}};function rM(n){let e=zB(n),t=new St([new Os("",{})]),r=new St({}),i=new St({}),s=new St({}),o=new St(""),a=new Ls(t,r,s,o,i,ge,n,e.root);return a.snapshot=e.root,new yf(new fn(a,[]),e)}function zB(n){let e={},t={},r={},i="",s=new ha([],e,r,i,t,ge,n,null,{});return new _f("",new fn(s,[]))}var Ls=class{constructor(e,t,r,i,s,o,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(le(c=>c[Mu]))??ie(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(le(e=>pa(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(le(e=>pa(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function vf(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:$($({},e.params),n.params),data:$($({},e.data),n.data),resolve:$($($($({},n.data),e.data),i?.data),n._resolvedData)}:r={params:$({},n.params),data:$({},n.data),resolve:$($({},n.data),n._resolvedData??{})},i&&sM(i)&&(r.resolve[Mu]=i.title),r}var ha=class{get title(){return this.data?.[Mu]}constructor(e,t,r,i,s,o,a,l,c){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=pa(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=pa(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},_f=class extends gf{constructor(e,t){super(t),this.url=e,x_(this,t)}toString(){return iM(this._root)}};function x_(n,e){e.value._routerState=n,e.children.forEach(t=>x_(n,t))}function iM(n){let e=n.children.length>0?` { ${n.children.map(iM).join(", ")} } `:"";return`${n.value}${e}`}function n_(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,fr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),fr(e.params,t.params)||n.paramsSubject.next(t.params),vB(e.url,t.url)||n.urlSubject.next(t.url),fr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function I_(n,e){let t=fr(n.params,e.params)&&IB(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||I_(n.parent,e.parent))}function sM(n){return typeof n.title=="string"||n.title===null}var R_=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ge,this.activateEvents=new at,this.deactivateEvents=new at,this.attachEvents=new at,this.detachEvents=new at,this.parentContexts=z(Nu),this.location=z(As),this.changeDetector=z(dr),this.inputBinder=z(Cf,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new H(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new H(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new H(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new H(4013,!1);this._activatedRoute=t;let i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new D_(t,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Lt({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ti]})}}return n})(),D_=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Ls?this.route:e===Nu?this.childContexts:this.parent.get(e,t)}},Cf=new Y(""),VA=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Ul([r.queryParams,r.params,r.data]).pipe(ot(([s,o,a],l)=>(a=$($($({},s),o),a),l===0?ie(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let o=pA(r.component);if(!o){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a])});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac})}}return n})();function GB(n,e,t){let r=bu(n,e._root,t?t._root:void 0);return new yf(r,e)}function bu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=WB(n,e,t);return new fn(r,i)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>bu(n,a)),o}}let r=KB(e.value),i=e.children.map(s=>bu(n,s));return new fn(r,i)}}function WB(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return bu(n,r,i);return bu(n,r)})}function KB(n){return new Ls(new St(n.url),new St(n.params),new St(n.queryParams),new St(n.fragment),new St(n.data),n.outlet,n.component,n)}var Tu=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},oM="ngNavigationCancelingError";function wf(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Vs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=aM(!1,pn.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function aM(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[oM]=!0,t.cancellationCode=e,t}function QB(n){return lM(n)&&Vs(n.url)}function lM(n){return!!n&&n[oM]}var YB=(n,e,t,r)=>le(i=>(new C_(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),C_=class{constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),n_(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=ca(t);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=ca(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=ca(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=ca(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new v_(s.value.snapshot))}),e.children.length&&this.forwardEvent(new g_(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(n_(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),n_(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},Ef=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},fa=class{constructor(e,t){this.component=e,this.route=t}};function ZB(n,e,t){let r=n._root,i=e?e._root:null;return yu(r,i,t,[r.value])}function JB(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function _a(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!Rb(n)?n:e.get(n):r}function yu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=ca(e);return n.children.forEach(o=>{XB(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Eu(a,t.getContext(o),i)),i}function XB(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=eU(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Ef(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?yu(n,e,a?a.children:null,r,i):yu(n,e,t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new fa(a.outlet.component,o))}else o&&Eu(e,a,i),i.canActivateChecks.push(new Ef(r)),s.component?yu(n,null,a?a.children:null,r,i):yu(n,null,t,r,i);return i}function eU(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Fs(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Fs(n.url,e.url)||!fr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!I_(n,e)||!fr(n.queryParams,e.queryParams);case"paramsChange":default:return!I_(n,e)}}function Eu(n,e,t){let r=ca(n),i=n.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Eu(o,e.children.getContext(s),t):Eu(o,null,t):Eu(o,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new fa(e.outlet.component,i)):t.canDeactivateChecks.push(new fa(null,i)):t.canDeactivateChecks.push(new fa(null,i))}function Pu(n){return typeof n=="function"}function tU(n){return typeof n=="boolean"}function nU(n){return n&&Pu(n.canLoad)}function rU(n){return n&&Pu(n.canActivate)}function iU(n){return n&&Pu(n.canActivateChild)}function sU(n){return n&&Pu(n.canDeactivate)}function oU(n){return n&&Pu(n.canMatch)}function uM(n){return n instanceof Nr||n?.name==="EmptyError"}var af=Symbol("INITIAL_VALUE");function va(){return ot(n=>Ul(n.map(e=>e.pipe(In(1),gs(af)))).pipe(le(e=>{for(let t of e)if(t!==!0){if(t===af)return af;if(t===!1||aU(t))return t}return!0}),At(e=>e!==af),In(1)))}function aU(n){return Vs(n)||n instanceof Tu}function lU(n,e){return mt(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return o.length===0&&s.length===0?ie(de($({},t),{guardsResult:!0})):uU(o,r,i,n).pipe(mt(a=>a&&tU(a)?cU(r,s,n,e):ie(a)),le(a=>de($({},t),{guardsResult:a})))})}function uU(n,e,t,r){return Te(n).pipe(mt(i=>mU(i.component,i.route,t,e,r)),Dn(i=>i!==!0,!0))}function cU(n,e,t,r){return Te(e).pipe(ps(i=>Fo(hU(i.route.parent,r),dU(i.route,r),pU(n,i.path,t),fU(n,i.route,t))),Dn(i=>i!==!0,!0))}function dU(n,e){return n!==null&&e&&e(new y_(n)),ie(!0)}function hU(n,e){return n!==null&&e&&e(new m_(n)),ie(!0)}function fU(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ie(!0);let i=r.map(s=>kd(()=>{let o=Ru(e)??t,a=_a(s,o),l=rU(a)?a.canActivate(e,n):ur(o,()=>a(e,n));return ki(l).pipe(Dn())}));return ie(i).pipe(va())}function pU(n,e,t){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>JB(o)).filter(o=>o!==null).map(o=>kd(()=>{let a=o.guards.map(l=>{let c=Ru(o.node)??t,d=_a(l,c),f=iU(d)?d.canActivateChild(r,n):ur(c,()=>d(r,n));return ki(f).pipe(Dn())});return ie(a).pipe(va())}));return ie(s).pipe(va())}function mU(n,e,t,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return ie(!0);let o=s.map(a=>{let l=Ru(e)??i,c=_a(a,l),d=sU(c)?c.canDeactivate(n,e,t,r):ur(l,()=>c(n,e,t,r));return ki(d).pipe(Dn())});return ie(o).pipe(va())}function gU(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return ie(!0);let s=i.map(o=>{let a=_a(o,n),l=nU(a)?a.canLoad(e,t):ur(n,()=>a(e,t));return ki(l)});return ie(s).pipe(va(),cM(r))}function cM(n){return gg(Et(e=>{if(typeof e!="boolean")throw wf(n,e)}),le(e=>e===!0))}function yU(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return ie(!0);let s=i.map(o=>{let a=_a(o,n),l=oU(a)?a.canMatch(e,t):ur(n,()=>a(e,t));return ki(l)});return ie(s).pipe(va(),cM(r))}var Su=class{constructor(e){this.segmentGroup=e||null}},Au=class extends Error{constructor(e){super(),this.urlTree=e}};function ua(n){return Oo(new Su(n))}function vU(n){return Oo(new H(4e3,!1))}function _U(n){return Oo(aM(!1,pn.GuardRejected))}var b_=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ie(r);if(i.numberOfChildren>1||!i.children[ge])return vU(`${e.redirectTo}`);i=i.children[ge]}}applyRedirectCommands(e,t,r,i,s){if(typeof t!="string"){let a=t,{queryParams:l,fragment:c,routeConfig:d,url:f,outlet:m,params:y,data:E,title:b}=i,M=ur(s,()=>a({params:y,data:E,queryParams:l,fragment:c,routeConfig:d,url:f,outlet:m,title:b}));if(M instanceof Zr)throw new Au(M);t=M}let o=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new Au(o);return o}applyRedirectCreateUrlTree(e,t,r,i){let s=this.createSegmentGroup(e,t.root,r,i);return new Zr(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=t[a]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){let s=this.createSegments(e,t.segments,r,i),o={};return Object.entries(t.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,r,i)}),new Ve(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new H(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},T_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function wU(n,e,t,r,i){let s=dM(n,e,t);return s.matched?(r=HB(e,r),yU(r,e,t,i).pipe(le(o=>o===!0?s:$({},T_)))):ie(s)}function dM(n,e,t){if(e.path==="**")return EU(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?$({},T_):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||yB)(t,n,e);if(!i)return $({},T_);let s={};Object.entries(i.posParams??{}).forEach(([a,l])=>{s[a]=l.path});let o=i.consumed.length>0?$($({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function EU(n){return{matched:!0,parameters:n.length>0?qA(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function LA(n,e,t,r){return t.length>0&&CU(n,t,r)?{segmentGroup:new Ve(e,DU(r,new Ve(t,n.children))),slicedSegments:[]}:t.length===0&&bU(n,t,r)?{segmentGroup:new Ve(n.segments,IU(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Ve(n.segments,n.children),slicedSegments:t}}function IU(n,e,t,r){let i={};for(let s of t)if(bf(n,e,s)&&!r[qn(s)]){let o=new Ve([],{});i[qn(s)]=o}return $($({},r),i)}function DU(n,e){let t={};t[ge]=e;for(let r of n)if(r.path===""&&qn(r)!==ge){let i=new Ve([],{});t[qn(r)]=i}return t}function CU(n,e,t){return t.some(r=>bf(n,e,r)&&qn(r)!==ge)}function bU(n,e,t){return t.some(r=>bf(n,e,r))}function bf(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function TU(n,e,t){return e.length===0&&!n.children[t]}var S_=class{};function SU(n,e,t,r,i,s,o="emptyOnly"){return new A_(n,e,t,r,i,o,s).recognize()}var AU=31,A_=class{constructor(e,t,r,i,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new b_(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new H(4002,`'${e.segmentGroup}'`)}recognize(){let e=LA(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(le(({children:t,rootSnapshot:r})=>{let i=new fn(r,t),s=new _f("",i),o=FB(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let t=new ha([],Object.freeze({}),Object.freeze($({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ge,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ge,t).pipe(le(r=>({children:r,rootSnapshot:t})),Ln(r=>{if(r instanceof Au)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Su?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,s):this.processSegment(e,t,r,r.segments,i,!0,s).pipe(le(o=>o instanceof fn?[o]:[]))}processChildren(e,t,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Te(s).pipe(ps(o=>{let a=r.children[o],l=qB(t,o);return this.processSegmentGroup(e,l,a,o,i)}),ms((o,a)=>(o.push(...a),o)),gi(null),Sg(),mt(o=>{if(o===null)return ua(r);let a=hM(o);return MU(a),ie(a)}))}processSegment(e,t,r,i,s,o,a){return Te(t).pipe(ps(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,r,i,s,o,a).pipe(Ln(c=>{if(c instanceof Su)return ie(null);throw c}))),Dn(l=>!!l),Ln(l=>{if(uM(l))return TU(r,i,s)?ie(new S_):ua(r);throw l}))}processSegmentAgainstRoute(e,t,r,i,s,o,a,l){return qn(r)!==o&&(o===ge||!bf(i,s,r))?ua(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o,l):ua(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o,a){let{matched:l,parameters:c,consumedSegments:d,positionalParamSegments:f,remainingSegments:m}=dM(t,i,s);if(!l)return ua(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>AU&&(this.allowRedirects=!1));let y=new ha(s,c,Object.freeze($({},this.urlTree.queryParams)),this.urlTree.fragment,jA(i),qn(i),i.component??i._loadedComponent??null,i,BA(i)),E=vf(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(E.params),y.data=Object.freeze(E.data);let b=this.applyRedirects.applyRedirectCommands(d,i.redirectTo,f,y,e);return this.applyRedirects.lineralizeSegments(i,b).pipe(mt(M=>this.processSegment(e,r,t,M.concat(m),o,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,s,o){let a=wU(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(ot(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(ot(({routes:c})=>{let d=r._loadedInjector??e,{parameters:f,consumedSegments:m,remainingSegments:y}=l,E=new ha(m,f,Object.freeze($({},this.urlTree.queryParams)),this.urlTree.fragment,jA(r),qn(r),r.component??r._loadedComponent??null,r,BA(r)),b=vf(E,o,this.paramsInheritanceStrategy);E.params=Object.freeze(b.params),E.data=Object.freeze(b.data);let{segmentGroup:M,slicedSegments:F}=LA(t,m,y,c);if(F.length===0&&M.hasChildren())return this.processChildren(d,c,M,E).pipe(le(V=>new fn(E,V)));if(c.length===0&&F.length===0)return ie(new fn(E,[]));let q=qn(r)===s;return this.processSegment(d,c,M,F,q?ge:s,!0,E).pipe(le(V=>new fn(E,V instanceof fn?[V]:[])))}))):ua(t)))}getChildConfig(e,t,r){return t.children?ie({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?ie({routes:t._loadedRoutes,injector:t._loadedInjector}):gU(e,t,r,this.urlSerializer).pipe(mt(i=>i?this.configLoader.loadChildren(e,t).pipe(Et(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):_U(t))):ie({routes:[],injector:e})}};function MU(n){n.sort((e,t)=>e.value.outlet===ge?-1:t.value.outlet===ge?1:e.value.outlet.localeCompare(t.value.outlet))}function xU(n){let e=n.value.routeConfig;return e&&e.path===""}function hM(n){let e=[],t=new Set;for(let r of n){if(!xU(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=hM(r.children);e.push(new fn(r.value,i))}return e.filter(r=>!t.has(r))}function jA(n){return n.data||{}}function BA(n){return n.resolve||{}}function RU(n,e,t,r,i,s){return mt(o=>SU(n,e,t,r,o.extractedUrl,i,s).pipe(le(({state:a,tree:l})=>de($({},o),{targetSnapshot:a,urlAfterRedirects:l}))))}function NU(n,e){return mt(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ie(t);let s=new Set(i.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let c of fM(l))o.add(c);let a=0;return Te(o).pipe(ps(l=>s.has(l)?PU(l,r,n,e):(l.data=vf(l,l.parent,n).resolve,ie(void 0))),Et(()=>a++),Vo(1),mt(l=>a===o.size?ie(t):Gt))})}function fM(n){let e=n.children.map(t=>fM(t)).flat();return[n,...e]}function PU(n,e,t,r){let i=n.routeConfig,s=n._resolve;return i?.title!==void 0&&!sM(i)&&(s[Mu]=i.title),kU(s,n,e,r).pipe(le(o=>(n._resolvedData=o,n.data=vf(n,n.parent,t).resolve,null)))}function kU(n,e,t,r){let i=s_(n);if(i.length===0)return ie({});let s={};return Te(i).pipe(mt(o=>OU(n[o],e,t,r).pipe(Dn(),Et(a=>{if(a instanceof Tu)throw wf(new ma,a);s[o]=a}))),Vo(1),bg(s),Ln(o=>uM(o)?Gt:Oo(o)))}function OU(n,e,t,r){let i=Ru(e)??r,s=_a(n,i),o=s.resolve?s.resolve(e,t):ur(i,()=>s(e,t));return ki(o)}function r_(n){return ot(e=>{let t=n(e);return t?Te(t).pipe(le(()=>e)):ie(e)})}var pM=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ge);return r}getResolvedTitleForRoute(t){return t.data[Mu]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Z({token:n,factory:()=>z(FU),providedIn:"root"})}}return n})(),FU=(()=>{class n extends pM{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(j(NA))}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ku=new Y("",{providedIn:"root",factory:()=>({})}),VU=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=Fe({type:n,selectors:[["ng-component"]],standalone:!0,features:[cu],decls:1,vars:0,template:function(r,i){r&1&&U(0,"router-outlet")},dependencies:[R_],encapsulation:2})}}return n})();function N_(n){let e=n.children&&n.children.map(N_),t=e?de($({},n),{children:e}):$({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ge&&(t.component=VU),t}var If=new Y(""),P_=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=z(Yh)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ie(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=ki(t.loadComponent()).pipe(le(mM),Et(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),$l(()=>{this.componentLoaders.delete(t)})),i=new Ro(r,()=>new ke).pipe(xo());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ie({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=LU(r,this.compiler,t,this.onLoadEndListener).pipe($l(()=>{this.childrenLoaders.delete(r)})),o=new Ro(s,()=>new ke).pipe(xo());return this.childrenLoaders.set(r,o),o}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function LU(n,e,t,r){return ki(n.loadChildren()).pipe(le(mM),mt(i=>i instanceof Zl||Array.isArray(i)?ie(i):Te(e.compileModuleAsync(i))),le(i=>{r&&r(n);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(t).injector,o=s.get(If,[],{optional:!0,self:!0}).flat()),{routes:o.map(N_),injector:s}}))}function jU(n){return n&&typeof n=="object"&&"default"in n}function mM(n){return jU(n)?n.default:n}var k_=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Z({token:n,factory:()=>z(BU),providedIn:"root"})}}return n})(),BU=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),gM=new Y(""),yM=new Y("");function UU(n,e,t){let r=n.get(yM),i=n.get(Ae);return n.get(Ee).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(c=>setTimeout(c));let s,o=new Promise(c=>{s=c}),a=i.startViewTransition(()=>(s(),$U(n))),{onViewTransitionCreated:l}=r;return l&&ur(n,()=>l({transition:a,from:e,to:t})),o})}function $U(n){return new Promise(e=>{Mv({read:()=>setTimeout(e)},{injector:n})})}var HU=new Y(""),O_=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ke,this.transitionAbortSubject=new ke,this.configLoader=z(P_),this.environmentInjector=z(cn),this.urlSerializer=z(xu),this.rootContexts=z(Nu),this.location=z(la),this.inputBindingEnabled=z(Cf,{optional:!0})!==null,this.titleStrategy=z(pM),this.options=z(ku,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=z(k_),this.createViewTransition=z(gM,{optional:!0}),this.navigationErrorHandler=z(HU,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ie(void 0),this.rootComponentType=null;let t=i=>this.events.next(new f_(i)),r=i=>this.events.next(new p_(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(de($($({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new St({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:wu,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(At(s=>s.id!==0),le(s=>de($({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),ot(s=>{let o=!1,a=!1;return ie(s).pipe(ot(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",pn.SupersededByNewNavigation),Gt;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?de($({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=l.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!c&&d!=="reload"){let f="";return this.events.next(new Pi(l.id,this.urlSerializer.serialize(l.rawUrl),f,ff.IgnoredSameUrlNavigation)),l.resolve(!1),Gt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return ie(l).pipe(ot(f=>{let m=this.transitions?.getValue();return this.events.next(new ga(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),m!==this.transitions?.getValue()?Gt:Promise.resolve(f)}),RU(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Et(f=>{s.targetSnapshot=f.targetSnapshot,s.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=de($({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let m=new pf(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(m)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:f,extractedUrl:m,source:y,restoredState:E,extras:b}=l,M=new ga(f,this.urlSerializer.serialize(m),y,E);this.events.next(M);let F=rM(this.rootComponentType).snapshot;return this.currentTransition=s=de($({},l),{targetSnapshot:F,urlAfterRedirects:m,extras:de($({},b),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,ie(s)}else{let f="";return this.events.next(new Pi(l.id,this.urlSerializer.serialize(l.extractedUrl),f,ff.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Gt}}),Et(l=>{let c=new u_(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),le(l=>(this.currentTransition=s=de($({},l),{guards:ZB(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),lU(this.environmentInjector,l=>this.events.next(l)),Et(l=>{if(s.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw wf(this.urlSerializer,l.guardsResult);let c=new c_(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),At(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",pn.GuardRejected),!1)),r_(l=>{if(l.guards.canActivateChecks.length)return ie(l).pipe(Et(c=>{let d=new d_(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),ot(c=>{let d=!1;return ie(c).pipe(NU(this.paramsInheritanceStrategy,this.environmentInjector),Et({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(c,"",pn.NoDataFromResolver)}}))}),Et(c=>{let d=new h_(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}))}),r_(l=>{let c=d=>{let f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(Et(m=>{d.component=m}),le(()=>{})));for(let m of d.children)f.push(...c(m));return f};return Ul(c(l.targetSnapshot.root)).pipe(gi(null),In(1))}),r_(()=>this.afterPreactivation()),ot(()=>{let{currentSnapshot:l,targetSnapshot:c}=s,d=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return d?Te(d).pipe(le(()=>s)):ie(s)}),le(l=>{let c=GB(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=de($({},l),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,s}),Et(()=>{this.events.next(new Cu)}),YB(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),In(1),Et({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new zn(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),Mg(this.transitionAbortSubject.pipe(Et(l=>{throw l}))),$l(()=>{!o&&!a&&this.cancelNavigationTransition(s,"",pn.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ln(l=>{if(a=!0,lM(l))this.events.next(new Yr(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),QB(l)?this.events.next(new ya(l.url,l.navigationBehaviorOptions)):s.resolve(!1);else{let c=new Du(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0);try{let d=ur(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(d instanceof Tu){let{message:f,cancellationCode:m}=wf(this.urlSerializer,d);this.events.next(new Yr(s.id,this.urlSerializer.serialize(s.extractedUrl),f,m)),this.events.next(new ya(d.redirectTo,d.navigationBehaviorOptions))}else{this.events.next(c);let f=t.errorHandler(l);s.resolve(!!f)}}catch(d){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(d)}}return Gt}))}))}cancelNavigationTransition(t,r,i){let s=new Yr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function qU(n){return n!==wu}var zU=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Z({token:n,factory:()=>z(GU),providedIn:"root"})}}return n})(),M_=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},GU=(()=>{class n extends M_{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ou(n)))(i||n)}})()}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),vM=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Z({token:n,factory:()=>z(WU),providedIn:"root"})}}return n})(),WU=(()=>{class n extends vM{constructor(){super(...arguments),this.location=z(la),this.urlSerializer=z(xu),this.options=z(ku,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=z(k_),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Zr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=rM(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof ga)this.stateMemento=this.createStateMemento();else if(t instanceof Pi)this.rawUrlTree=r.initialUrl;else if(t instanceof pf){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof Cu?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof Yr&&(t.code===pn.GuardRejected||t.code===pn.NoDataFromResolver)?this.restoreHistory(r):t instanceof Du?this.restoreHistory(r,!0):t instanceof zn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof Zr?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,o=$($({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",o)}else{let s=$($({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===t.finalUrl&&s===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ou(n)))(i||n)}})()}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),vu=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(vu||{});function _M(n,e){n.events.pipe(At(t=>t instanceof zn||t instanceof Yr||t instanceof Du||t instanceof Pi),le(t=>t instanceof zn||t instanceof Pi?vu.COMPLETE:(t instanceof Yr?t.code===pn.Redirect||t.code===pn.SupersededByNewNavigation:!1)?vu.REDIRECTING:vu.FAILED),At(t=>t!==vu.REDIRECTING),In(1)).subscribe(()=>{e()})}function KU(n){throw n}var QU={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},YU={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Rt=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=z(Gh),this.stateManager=z(vM),this.options=z(ku,{optional:!0})||{},this.pendingTasks=z(ra),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=z(O_),this.urlSerializer=z(xu),this.location=z(la),this.urlHandlingStrategy=z(k_),this._events=new ke,this.errorHandler=this.options.errorHandler||KU,this.navigated=!1,this.routeReuseStrategy=z(zU),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=z(If,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!z(Cf,{optional:!0}),this.eventsSubscription=new st,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof Yr&&r.code!==pn.Redirect&&r.code!==pn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof zn)this.navigated=!0;else if(r instanceof ya){let o=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=$({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||qU(i.source)},o);this.scheduleNavigation(a,wu,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}JU(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),wu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let l=$({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(N_),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:o,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=$($({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let m=i?i.snapshot:this.routerState.snapshot.root;f=XA(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),f=this.currentUrlTree.root}return eM(f,t,d,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Vs(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,wu,null,r)}navigate(t,r={skipLocationChange:!1}){return ZU(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=$({},QU):r===!1?i=$({},YU):i=r,Vs(t))return PA(this.currentUrlTree,t,i);let s=this.parseUrl(t);return PA(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c;o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((f,m)=>{a=f,l=m});let d=this.pendingTasks.add();return _M(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(f=>Promise.reject(f))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function ZU(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new H(4008,!1)}function JU(n){return!(n instanceof Cu)&&!(n instanceof ya)}var rn=(()=>{class n{constructor(t,r,i,s,o,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.onChanges=new ke,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let l=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof zn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Vs(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,s,o){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:aS(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return this.routerLinkInput===null?null:Vs(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(X(Rt),X(Ls),rv("tabindex"),X(Mi),X(dn),X(Kr))}}static{this.\u0275dir=Lt({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&me("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),r&2&&$r("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Ps],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Ps],replaceUrl:[2,"replaceUrl","replaceUrl",Ps],routerLink:"routerLink"},standalone:!0,features:[Av,Ti]})}}return n})(),wM=(()=>{class n{get isActive(){return this._isActive}constructor(t,r,i,s,o){this.router=t,this.element=r,this.renderer=i,this.cdr=s,this.link=o,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new at,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof zn&&this.update()})}ngAfterContentInit(){ie(this.links.changes,ie(null)).pipe(tr()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Te(t).pipe(tr()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=XU(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let s=i.urlTree;return s?t.isActive(s,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static{this.\u0275fac=function(r){return new(r||n)(X(Rt),X(dn),X(Mi),X(dr),X(rn,8))}}static{this.\u0275dir=Lt({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,s){if(r&1&&JS(s,rn,5),r&2){let o;XS(o=eA())&&(i.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Ti]})}}return n})();function XU(n){return!!n.paths}var Df=class{};var e$=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(At(t=>t instanceof zn),ps(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let s of r){s.providers&&!s._injector&&(s._injector=Hh(s.providers,t,`Route: ${s.path}`));let o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Te(i).pipe(tr())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=ie(null);let s=i.pipe(mt(o=>o===null?ie(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));if(r.loadComponent&&!r._loadedComponent){let o=this.loader.loadComponent(r);return Te([s,o]).pipe(tr())}else return s})}static{this.\u0275fac=function(r){return new(r||n)(j(Rt),j(Yh),j(cn),j(Df),j(P_))}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),EM=new Y(""),t$=(()=>{class n{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ga?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof zn?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Pi&&t.code===ff.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof mf&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new mf(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){_S()}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac})}}return n})();function n$(n){return n.routerState.root}function Ou(n,e){return{\u0275kind:n,\u0275providers:e}}function r$(){let n=z(Mt);return e=>{let t=n.get(Mn);if(e!==t.components[0])return;let r=n.get(Rt),i=n.get(IM);n.get(F_)===1&&r.initialNavigation(),n.get(DM,null,we.Optional)?.setUpPreloading(),n.get(EM,null,we.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var IM=new Y("",{factory:()=>new ke}),F_=new Y("",{providedIn:"root",factory:()=>1});function i$(){return Ou(2,[{provide:F_,useValue:0},{provide:Qh,multi:!0,deps:[Mt],useFactory:e=>{let t=e.get(wA,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let i=e.get(Rt),s=e.get(IM);_M(i,()=>{r(!0)}),e.get(O_).afterPreactivation=()=>(r(!0),s.closed?ie(void 0):s),i.initialNavigation()}))}}])}function s$(){return Ou(3,[{provide:Qh,multi:!0,useFactory:()=>{let e=z(Rt);return()=>{e.setUpLocationChangeListener()}}},{provide:F_,useValue:2}])}var DM=new Y("");function o$(n){return Ou(0,[{provide:DM,useExisting:e$},{provide:Df,useExisting:n}])}function a$(){return Ou(8,[VA,{provide:Cf,useExisting:VA}])}function l$(n){let e=[{provide:gM,useValue:UU},{provide:yM,useValue:$({skipNextTransition:!!n?.skipInitialTransition},n)}];return Ou(9,e)}var UA=new Y("ROUTER_FORROOT_GUARD"),u$=[la,{provide:xu,useClass:ma},Rt,Nu,{provide:Ls,useFactory:n$,deps:[Rt]},P_,[]],V_=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[u$,[],{provide:If,multi:!0,useValue:t},{provide:UA,useFactory:f$,deps:[[Rt,new tu,new Lb]]},{provide:ku,useValue:r||{}},r?.useHash?d$():h$(),c$(),r?.preloadingStrategy?o$(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?p$(r):[],r?.bindToComponentInputs?a$().\u0275providers:[],r?.enableViewTransitions?l$().\u0275providers:[],m$()]}}static forChild(t){return{ngModule:n,providers:[{provide:If,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)(j(UA,8))}}static{this.\u0275mod=Ye({type:n})}static{this.\u0275inj=Qe({})}}return n})();function c$(){return{provide:EM,useFactory:()=>{let n=z(CA),e=z(Ee),t=z(ku),r=z(O_),i=z(xu);return t.scrollOffset&&n.setOffset(t.scrollOffset),new t$(i,r,n,e,t)}}}function d$(){return{provide:Kr,useClass:IA}}function h$(){return{provide:Kr,useClass:$v}}function f$(n){return"guarded"}function p$(n){return[n.initialNavigation==="disabled"?s$().\u0275providers:[],n.initialNavigation==="enabledBlocking"?i$().\u0275providers:[]]}var $A=new Y("");function m$(){return[{provide:$A,useFactory:r$},{provide:Pv,multi:!0,useExisting:$A}]}var CM=(()=>{class n{constructor(){}ngOnInit(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=Fe({type:n,selectors:[["app-about-us"]],decls:120,vars:0,consts:[[1,"colorlib-about"],[1,"colorlib-narrow-content"],[1,"row","row-bottom-padded-md"],[1,"col-md-6"],["data-animate-effect","fadeInLeft",1,"about-img","animate-box",2,"background-image","url(assets/images/aboutus.jpg)"],["data-animate-effect","fadeInLeft",1,"col-md-6","animate-box"],[1,"about-desc"],[1,"heading-meta"],[1,"colorlib-heading"],[1,"row"],["data-animate-effect","fadeInRight",1,"col-md-12","animate-box"],[1,"fancy-collapse-panel"],["id","accordion","role","tablist","aria-multiselectable","false",1,"panel-group"],[1,"panel","panel-default"],["role","tab","id","headingOne",1,"panel-heading"],[1,"panel-title"],["data-toggle","collapse","data-parent","#accordion","href","#collapseOne","aria-expanded","false","aria-controls","collapseOne",1,"collapsed"],["id","collapseOne","role","tabpanel","aria-labelledby","headingOne",1,"panel-collapse","collapse"],[1,"panel-body"],["role","tab","id","headingTwo",1,"panel-heading"],["data-toggle","collapse","data-parent","#accordion","href","#collapseTwo","aria-expanded","false","aria-controls","collapseTwo",1,"collapsed"],["id","collapseTwo","role","tabpanel","aria-labelledby","headingTwo",1,"panel-collapse","collapse"],["role","tab","id","headingThree",1,"panel-heading"],["data-toggle","collapse","data-parent","#accordion","href","#collapseThree","aria-expanded","false","aria-controls","collapseThree",1,"collapsed"],["id","collapseThree","role","tabpanel","aria-labelledby","headingThree",1,"panel-collapse","collapse"],[1,"col-md-3","text-center","animate-box"],[1,"icon"],["src","assets/images/quality.jpg",1,"img-thumbnail",2,"margin-top","0%"],[1,"colorlib-counter-label"],["src","assets/images/medical-ethics.jpg",1,"img-thumbnail",2,"margin-top","0%"],["src","assets/images/team.jpg",1,"img-thumbnail",2,"margin-top","0%"],["src","assets/images/customers.jpg",1,"img-thumbnail",2,"margin-top","0%"],["id","colorlib-counter","data-stellar-background-ratio","0.5",1,"colorlib-counters",2,"background-image","url(assets/images/consumers.jpg)"],[1,"overlay"],["src","assets/images/ico-tube.svg",2,"width","70%","margin-top","0%"],["data-from","0","data-to","15","data-speed","5000","data-refresh-interval","50",1,"colorlib-counter","js-counter"],["src","assets/images/ico-medical-pills.svg",2,"width","60%","margin-top","5%"],["data-from","0","data-to","28","data-speed","5000","data-refresh-interval","50",1,"colorlib-counter","js-counter"],["src","assets/images/ico-retail.svg",2,"width","60%","margin-top","0%"],["data-from","0","data-to","16","data-speed","5000","data-refresh-interval","50",1,"colorlib-counter","js-counter"],["src","assets/images/ico-medical.svg",2,"width","50%","margin-top","0%"],["data-from","0","data-to","12","data-speed","5000","data-refresh-interval","50",1,"colorlib-counter","js-counter"]],template:function(r,i){r&1&&(v(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),U(4,"div",4),w(),v(5,"div",5)(6,"div",6)(7,"span",7),T(8,"Welcome"),w(),v(9,"h2",8),T(10,"About Us"),w(),v(11,"p"),T(12,"Yassh Pharma supply quality nutraceutical products to cater the needs of various therapeutic segments like women's health, bone health, liver health, digestive health, nerve & cognitive health, Immunity boosters, skin & hair care etc."),w(),v(13,"p"),T(14,"We value the customers satisfaction by providing the range of suitable products to the customers. Our products undergo lab testing locally to ensure safety."),w(),v(15,"p"),T(16,"We value the customer relationship across the spectrum of healthcare Industry. We are specialised and experienced in providing suitable alternatives with phytopharmacceutical formulation for day-to-day use."),w(),v(17,"p"),T(18,"Yassh Pharma outsource unique and innovative products for the community for better outcomes. We provide quality services and strive hard for customer satisfaction through our products and services."),w(),v(19,"h4")(20,"b"),T(21,"Process"),w()(),v(22,"p"),T(23," The step-by-step process will ensure a smooth transition of a vision into reality. The entire process will beexecuted under the strict guidance and super vision of well qualified experienced team."),w(),v(24,"h4")(25,"b"),T(26,"Distribution & Availability"),w()(),v(27,"p"),T(28," - We are committed to deliver our products in time."),U(29,"br"),T(30," - Our products are made available only to healthcare professionals. "),w()()()(),v(31,"div",9)(32,"div",10)(33,"div",11)(34,"div",12)(35,"div",13)(36,"div",14)(37,"h4",15)(38,"a",16),T(39,"Mission:-"),w()()(),v(40,"div",17)(41,"div",18)(42,"p"),T(43,"To facilitate quality, innovative and affordable healthcare nutraceutical products across all specialities."),w()()()(),v(44,"div",13)(45,"div",19)(46,"h4",15)(47,"a",20),T(48,"Vision:-"),w()()(),v(49,"div",21)(50,"div",18)(51,"p"),T(52,"To be one of the best suppliers of nutraceuticals in Singapore and make a meaningful difference in serving patients and communities."),w()()()(),v(53,"div",13)(54,"div",22)(55,"h4",15)(56,"a",23),T(57,"Our Core Value:-"),w()()(),v(58,"div",24)(59,"div",18)(60,"p"),T(61,"We are dedicated to provide, innovative and evidence based Research products for the well being of our customers to meet their daily needs essential to maintain and improve their health and lives."),w(),v(62,"div",9)(63,"div",25)(64,"span",26)(65,"i"),U(66,"img",27),w()(),v(67,"span",28),T(68,"Ensure safety & quality"),w()(),v(69,"div",25)(70,"span",26)(71,"i"),U(72,"img",29),w()(),v(73,"span",28),T(74,"Ethical value"),w()(),v(75,"div",25)(76,"span",26)(77,"i"),U(78,"img",30),w()(),v(79,"span",28),T(80,"Teamwork"),w()(),v(81,"div",25)(82,"span",26)(83,"i"),U(84,"img",31),w()(),v(85,"span",28),T(86,"Values customer needs"),w()()()()()()()()()()()(),v(87,"div",32),U(88,"div",33),v(89,"div",1),U(90,"div",9),v(91,"div",9)(92,"div",25)(93,"span",26)(94,"i"),U(95,"img",34),w()(),U(96,"span",35),v(97,"span",28),T(98,"Upcoming Products"),w()(),v(99,"div",25)(100,"span",26)(101,"i"),U(102,"img",36),w()(),U(103,"span",37),v(104,"span",28),T(105,"Products"),w()(),v(106,"div",25)(107,"span",26)(108,"i"),U(109,"img",38),w()(),U(110,"span",39),v(111,"span",28),T(112,"Medical Channel"),w()(),v(113,"div",25)(114,"span",26)(115,"i"),U(116,"img",40),w()(),U(117,"span",41),v(118,"span",28),T(119,"Retail Channel"),w()()()()())}})}}return n})();var bM=(()=>{class n{constructor(){}ngOnInit(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=Fe({type:n,selectors:[["app-approve"]],decls:42,vars:0,consts:[[1,"colorlib-work"],[1,"colorlib-narrow-content"],[1,"row"],[1,"col-md-6","col-md-offset-3","col-md-pull-3"],[1,"heading-meta"],[1,"colorlib-heading"],[1,"col-md-12"],[1,"table","table-bordered"],["scope","col"],["href","#"]],template:function(r,i){r&1&&(v(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),T(5,"Home"),w(),v(6,"h2",5),T(7,"Approve"),w()()(),v(8,"div",2)(9,"div",6)(10,"table",7)(11,"thead")(12,"tr")(13,"th",8),T(14,"Name"),w(),v(15,"th",8),T(16,"Email"),w(),v(17,"th",8),T(18,"Contact No"),w(),v(19,"th",8),T(20,"Action"),w()()(),v(21,"tbody")(22,"tr")(23,"td"),T(24,"Mark"),w(),v(25,"td"),T(26,"Otto@mdo"),w(),v(27,"td"),T(28,"5445545454"),w(),v(29,"td")(30,"a",9),T(31,"Approve"),w()()(),v(32,"tr")(33,"td"),T(34,"Jacob"),w(),v(35,"td"),T(36,"Thornton@fat"),w(),v(37,"td"),T(38,"564344556"),w(),v(39,"td")(40,"a",9),T(41,"Approve"),w()()()()()()()()())}})}}return n})();var TM=(()=>{class n{constructor(t){this.document=t}ngOnInit(){}reload(){this.document.location.reload()}static{this.\u0275fac=function(r){return new(r||n)(X(Ae))}}static{this.\u0275cmp=Fe({type:n,selectors:[["app-career"]],decls:18,vars:0,consts:[[1,"colorlib-about"],[1,"colorlib-narrow-content"],[1,"row","row-bottom-padded-md"],[1,"col-md-6"],["data-animate-effect","fadeInLeft",1,"about-img","animate-box",2,"background","url(assets/images/team-work.png) right top no-repeat"],["data-animate-effect","fadeInLeft",1,"col-md-6","animate-box"],[1,"about-desc"],[1,"heading-meta"],[1,"colorlib-heading"],["routerLink","#",1,"btn","btn-primary","btn-learn"]],template:function(r,i){r&1&&(v(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),U(4,"div",4),w(),v(5,"div",5)(6,"div",6)(7,"span",7),T(8,"Home"),w(),v(9,"h2",8),T(10,"Career"),w(),v(11,"p"),T(12,"Be part of our team and feel the values and positive impact in the lives of the people."),w(),v(13,"h4"),T(14,"Come, Explore, Learn, Grow and Enjoy the rewards."),w(),v(15,"p")(16,"a",9),T(17,"Apply Now"),w()()()()()()())},dependencies:[rn]})}}return n})();var kM=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(X(Mi),X(dn))}}static{this.\u0275dir=Lt({type:n})}}return n})(),g$=(()=>{class n extends kM{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ou(n)))(i||n)}})()}static{this.\u0275dir=Lt({type:n,features:[xi]})}}return n})(),OM=new Y("");var y$={provide:OM,useExisting:ta(()=>Ca),multi:!0};function v$(){let n=hr()?hr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var _$=new Y(""),Ca=(()=>{class n extends kM{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!v$())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(X(Mi),X(dn),X(_$,8))}}static{this.\u0275dir=Lt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&me("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[zh([y$]),xi]})}}return n})();var FM=new Y(""),VM=new Y("");function LM(n){return n!=null}function jM(n){return Ns(n)?Te(n):n}function BM(n){let e={};return n.forEach(t=>{e=t!=null?$($({},e),t):e}),Object.keys(e).length===0?null:e}function UM(n,e){return e.map(t=>t(n))}function w$(n){return!n.validate}function $M(n){return n.map(e=>w$(e)?e:t=>e.validate(t))}function E$(n){if(!n)return null;let e=n.filter(LM);return e.length==0?null:function(t){return BM(UM(t,e))}}function j_(n){return n!=null?E$($M(n)):null}function I$(n){if(!n)return null;let e=n.filter(LM);return e.length==0?null:function(t){let r=UM(t,e).map(jM);return Dg(r).pipe(le(BM))}}function B_(n){return n!=null?I$($M(n)):null}function SM(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function D$(n){return n._rawValidators}function C$(n){return n._rawAsyncValidators}function L_(n){return n?Array.isArray(n)?n:[n]:[]}function Sf(n,e){return Array.isArray(n)?n.includes(e):n===e}function AM(n,e){let t=L_(e);return L_(n).forEach(i=>{Sf(t,i)||t.push(i)}),t}function MM(n,e){return L_(e).filter(t=>!Sf(n,t))}var Af=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=j_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=B_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Ia=class extends Af{get formDirective(){return null}get path(){return null}},Uu=class extends Af{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Mf=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},b$={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},aQ=de($({},b$),{"[class.ng-submitted]":"isSubmitted"}),Pf=(()=>{class n extends Mf{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(X(Uu,2))}}static{this.\u0275dir=Lt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&qh("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[xi]})}}return n})(),ba=(()=>{class n extends Mf{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(X(Ia,10))}}static{this.\u0275dir=Lt({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&qh("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[xi]})}}return n})();var Fu="VALID",Tf="INVALID",wa="PENDING",Vu="DISABLED",Da=class{},xf=class extends Da{constructor(e,t){super(),this.value=e,this.source=t}},ju=class extends Da{constructor(e,t){super(),this.pristine=e,this.source=t}},Bu=class extends Da{constructor(e,t){super(),this.touched=e,this.source=t}},Ea=class extends Da{constructor(e,t){super(),this.status=e,this.source=t}};function HM(n){return(kf(n)?n.validators:n)||null}function T$(n){return Array.isArray(n)?j_(n):n||null}function qM(n,e){return(kf(e)?e.asyncValidators:n)||null}function S$(n){return Array.isArray(n)?B_(n):n||null}function kf(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function A$(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new H(1e3,"");if(!r[t])throw new H(1001,"")}function M$(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new H(1002,"")})}var Rf=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=hu(()=>this.statusReactive()),this.statusReactive=Ms(void 0),this._pristine=hu(()=>this.pristineReactive()),this.pristineReactive=Ms(!0),this._touched=hu(()=>this.touchedReactive()),this.touchedReactive=Ms(!1),this._events=new ke,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Gr(this.statusReactive)}set status(e){Gr(()=>this.statusReactive.set(e))}get valid(){return this.status===Fu}get invalid(){return this.status===Tf}get pending(){return this.status==wa}get disabled(){return this.status===Vu}get enabled(){return this.status!==Vu}get pristine(){return Gr(this.pristineReactive)}set pristine(e){Gr(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Gr(this.touchedReactive)}set touched(e){Gr(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(AM(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(AM(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(MM(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(MM(e,this._rawAsyncValidators))}hasValidator(e){return Sf(this._rawValidators,e)}hasAsyncValidator(e){return Sf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(de($({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Bu(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Bu(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(de($({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new ju(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new ju(!0,r))}markAsPending(e={}){this.status=wa;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ea(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(de($({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Vu,this.errors=null,this._forEachChild(i=>{i.disable(de($({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new xf(this.value,r)),this._events.next(new Ea(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(de($({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Fu,this._forEachChild(r=>{r.enable(de($({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(de($({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Fu||this.status===wa)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new xf(this.value,t)),this._events.next(new Ea(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(de($({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Vu:Fu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=wa,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=jM(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Ea(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new at,this.statusChanges=new at}_calculateStatus(){return this._allControlsDisabled()?Vu:this.errors?Tf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(wa)?wa:this._anyControlsHaveStatus(Tf)?Tf:Fu}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new ju(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Bu(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){kf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=T$(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=S$(this._rawAsyncValidators)}},Nf=class extends Rf{constructor(e,t,r){super(HM(t),qM(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){M$(this,!0,e),Object.keys(e).forEach(r=>{A$(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var U_=new Y("CallSetDisabledState",{providedIn:"root",factory:()=>$_}),$_="always";function x$(n,e){return[...e.path,n]}function zM(n,e,t=$_){GM(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),N$(n,e),k$(n,e),P$(n,e),R$(n,e)}function xM(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function R$(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function GM(n,e){let t=D$(n);e.validator!==null?n.setValidators(SM(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=C$(n);e.asyncValidator!==null?n.setAsyncValidators(SM(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();xM(e._rawValidators,i),xM(e._rawAsyncValidators,i)}function N$(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&WM(n,e)})}function P$(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&WM(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function WM(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function k$(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function O$(n,e){n==null,GM(n,e)}function F$(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function V$(n){return Object.getPrototypeOf(n.constructor)===g$}function L$(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function j$(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(s=>{s.constructor===Ca?t=s:V$(s)?r=s:i=s}),i||r||t||null}var B$={provide:Ia,useExisting:ta(()=>js)},Lu=Promise.resolve(),js=(()=>{class n extends Ia{get submitted(){return Gr(this.submittedReactive)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=hu(()=>this.submittedReactive()),this.submittedReactive=Ms(!1),this._directives=new Set,this.ngSubmit=new at,this.form=new Nf({},j_(t),B_(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Lu.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),zM(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Lu.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Lu.then(()=>{let r=this._findContainer(t.path),i=new Nf({});O$(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Lu.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Lu.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),L$(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(r){return new(r||n)(X(FM,10),X(VM,10),X(U_,8))}}static{this.\u0275dir=Lt({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&me("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[zh([B$]),xi]})}}return n})();function RM(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function NM(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var U$=class extends Rf{constructor(e=null,t,r){super(HM(t),qM(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),kf(t)&&(t.nonNullable||t.initialValueIsDefault)&&(NM(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){RM(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){RM(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){NM(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var $$={provide:Uu,useExisting:ta(()=>$u)},PM=Promise.resolve(),$u=(()=>{class n extends Uu{constructor(t,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new U$,this._registered=!1,this.name="",this.update=new at,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=j$(this,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),F$(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){zM(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){PM.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Ps(r);PM.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?x$(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(X(Ia,9),X(FM,10),X(VM,10),X(OM,10),X(dr,8),X(U_,8))}}static{this.\u0275dir=Lt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[zh([$$]),xi,Ti]})}}return n})(),Ta=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Lt({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})();var H$=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ye({type:n})}static{this.\u0275inj=Qe({})}}return n})();var KM=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:U_,useValue:t.callSetDisabledState??$_}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ye({type:n})}static{this.\u0275inj=Qe({imports:[H$]})}}return n})();var QM=(()=>{class n{constructor(t){this.document=t}ngOnInit(){}reload(){this.document.location.reload()}static{this.\u0275fac=function(r){return new(r||n)(X(Ae))}}static{this.\u0275cmp=Fe({type:n,selectors:[["app-contact"]],decls:51,vars:0,consts:[[1,"colorlib-contact"],[1,"colorlib-narrow-content"],[1,"row"],["data-animate-effect","fadeInLeft",1,"col-md-12","animate-box"],[1,"heading-meta"],[1,"colorlib-heading"],[1,"done"],["id","showmsg",1,"alert","alert-success"],["type","button","data-dismiss","alert",1,"close"],[1,"col-md-5"],["data-animate-effect","fadeInLeft",1,"colorlib-feature","colorlib-feature-sm","animate-box"],[1,"colorlib-icon"],[1,"icon-globe-outline"],[1,"colorlib-text"],["href","#"],[1,"icon-map"],[1,"icon-phone"],["href","tel://"],[1,"col-md-7","col-md-push-1"],["data-animate-effect","fadeInLeft",1,"col-md-10","col-md-offset-1","col-md-pull-1","animate-box"],["method","post","action","#","id","contactform"],[1,"form-group"],["type","text","name","name","placeholder","Name *",1,"form-control"],["type","text","name","email","placeholder","Email *",1,"form-control"],["type","text","name","subject","placeholder","Subject *",1,"form-control"],["name","message","id","message","cols","30","rows","7","placeholder","Message *",1,"form-control"],["type","submit","value","Send Message",1,"btn","btn-primary","btn-send-message"],["src",oS`https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d7977.492177113374!2d103.87846900000001!3d1.328358!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x677354c83bf6474b!2sYassh%20Pharma%20PTE%20LTD!5e0!3m2!1sen!2sin!4v1661696430894!5m2!1sen!2sin`,"width","100%","height","450","allowfullscreen","","loading","lazy","referrerpolicy","no-referrer-when-downgrade",2,"border","0"]],template:function(r,i){r&1&&(v(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),T(5,"Read"),w(),v(6,"h2",5),T(7,"Get in Touch"),w()()(),v(8,"div",6)(9,"div",7)(10,"button",8),T(11,"\xD7"),w(),T(12," Your message has been sent. Thank you! "),w()(),v(13,"div",2)(14,"div",9)(15,"div",10)(16,"div",11),U(17,"i",12),w(),v(18,"div",13)(19,"p")(20,"a",14),T(21,"enquiry@yasshpharma.com"),w()()()(),v(22,"div",10)(23,"div",11),U(24,"i",15),w(),v(25,"div",13)(26,"p"),T(27,"50, Kallang Pudding Road, 05-01 A AMA Building, Singapore 349326"),w()()(),v(28,"div",10)(29,"div",11),U(30,"i",16),w(),v(31,"div",13)(32,"p")(33,"a",17),T(34,"+65 61007989"),w()()()()(),v(35,"div",18)(36,"div",2)(37,"div",19)(38,"form",20)(39,"div",21),U(40,"input",22),w(),v(41,"div",21),U(42,"input",23),w(),v(43,"div",21),U(44,"input",24),w(),v(45,"div",21),U(46,"textarea",25),w(),v(47,"div",21),U(48,"input",26),w()()()()()()()(),v(49,"div"),U(50,"iframe",27),w())},dependencies:[Ta,ba,js]})}}return n})();var YM=(()=>{class n{constructor(){}ngOnInit(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=Fe({type:n,selectors:[["app-home"]],decls:210,vars:0,consts:[["id","colorlib-hero",1,"js-fullheight"],[1,"flexslider","js-fullheight"],[1,"slides"],[2,"background-image","url(assets/images/bone-health.jpg)"],[1,"overlay"],[1,"container-fluid"],[1,"row"],[1,"col-md-7","col-md-offset-3","col-md-push-2","col-sm-12","col-xs-12","js-fullheight","slider-text"],[1,"slider-text-inner"],[1,"desc"],[1,"fs-1"],["data-toggle","collapse","data-target","#nutrition",1,"btn","btn-primary","btn-learn"],[1,"icon-arrow-right3"],["id","nutrition",1,"collapse"],[2,"background-image","url(assets/images/pharmacy2.jpg)"],["data-toggle","collapse","data-target","#consumersHealth",1,"btn","btn-primary","btn-learn"],["id","consumersHealth",1,"collapse"],[2,"background-image","url(assets/images/ensure-safety2.jpg)"],["data-toggle","collapse","data-target","#ensureSafety",1,"btn","btn-primary","btn-learn"],["id","ensureSafety",1,"collapse"],[1,"colorlib-about"],[1,"colorlib-narrow-content"],[1,"col-md-6"],["data-animate-effect","fadeInLeft",1,"about-img","animate-box",2,"background-image","url(assets/images/pharma-new.jpg)"],["data-animate-effect","fadeInLeft",1,"col-md-6","animate-box"],[1,"about-desc"],[1,"heading-meta"],[1,"colorlib-heading"],[1,"row","padding"],["data-animate-effect","fadeInLeft",1,"col-md-6","no-gutters","animate-box"],["href","#",1,"steps","active"],[1,"icon"],[1,"icon-check"],["href","#",1,"steps"],[1,"colorlib-services"],["data-animate-effect","fadeInLeft",1,"col-md-6","col-md-offset-3","col-md-pull-3","animate-box"],[1,"col-md-12"],["data-animate-effect","fadeInLeft",1,"colorlib-feature","animate-box"],[1,"colorlib-icon"],["src","assets/images/ico-retail.svg",2,"width","70%","margin-top","15%"],[1,"colorlib-text"],["src","assets/images/ico-medical.svg",2,"width","70%","margin-top","15%"],["routerLink","/products","data-animate-effect","fadeInRight",1,"services-wrap","animate-box"],[1,"services-img",2,"background-image","url(assets/images/orthopaedic.jpg)"],[1,"services-img",2,"background-image","url(assets/images/skin-hair.jpg)"],[1,"services-img",2,"background-image","url(assets/images/immunity-boosters.jpg)"],[1,"col-md-6","move-bottom"],[1,"services-img",2,"background-image","url(assets/images/digestive-health.jpg)"],[1,"services-img",2,"background-image","url(assets/images/nerve-health.jpg)"],[1,"services-img",2,"background-image","url(assets/images/womens-health.jpg)"],["id","colorlib-counter","data-stellar-background-ratio","0.5",1,"colorlib-counters",2,"background-image","url(assets/images/consumers.jpg)"],[1,"col-md-3","text-center","animate-box"],["src","assets/images/ico-tube.svg",2,"width","70%","margin-top","0%"],["data-from","0","data-to","15","data-speed","5000","data-refresh-interval","50",1,"colorlib-counter","js-counter"],[1,"colorlib-counter-label"],["src","assets/images/ico-medical-pills.svg",2,"width","60%","margin-top","5%"],["data-from","0","data-to","28","data-speed","5000","data-refresh-interval","50",1,"colorlib-counter","js-counter"],["src","assets/images/ico-retail.svg",2,"width","60%","margin-top","0%"],["data-from","0","data-to","16","data-speed","5000","data-refresh-interval","50",1,"colorlib-counter","js-counter"],["src","assets/images/ico-medical.svg",2,"width","50%","margin-top","0%"],["data-from","0","data-to","12","data-speed","5000","data-refresh-interval","50",1,"colorlib-counter","js-counter"]],template:function(r,i){r&1&&(v(0,"aside",0)(1,"div",1)(2,"ul",2)(3,"li",3),U(4,"div",4),v(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"h1"),T(11,"Bone Nutrients for Joint Health!"),w(),v(12,"h2")(13,"span",10),T(14,"Offers"),w(),U(15,"br"),v(16,"b"),T(17,"*Nutrition"),U(18,"br"),T(19,"*Rebuild Cartilage"),U(20,"br"),T(21,"*Relieve Pain"),U(22,"br"),T(23,"*Improve the Mobility"),w(),U(24,"br")(25,"br"),v(26,"b"),T(27,"Nutrients Essentials"),w(),U(28,"br"),T(29,"We offer range of nutrients, essentials to support the quality of life."),w(),v(30,"p")(31,"a",11),T(32,"View More "),U(33,"i",12),w()(),v(34,"p"),T(35,"\xA0"),w(),v(36,"div",13)(37,"h2"),T(38,"We strongly believe in developing and marketing innovative products that are customer need driven and meet the highest quality standards."),w(),v(39,"h2"),T(40,"We offer unique and innovative formula that will limit the pain and inflammation and preserve joint functions and improve the mobility of patients."),w()()()()()()()(),v(41,"li",14),U(42,"div",4),v(43,"div",5)(44,"div",6)(45,"div",7)(46,"div",8)(47,"div",9)(48,"h1"),T(49,"Consumers Health"),w(),v(50,"h2"),T(51,"We care consumers health through quality and innovative healthcare products."),w(),v(52,"p")(53,"a",15),T(54,"View More "),U(55,"i",12),w()(),v(56,"p"),T(57,"\xA0"),w(),v(58,"div",16)(59,"h2"),T(60,"We raise the standard of everyday care with evidence-based products that deliver beloved and assured and effective outcomes for healthier community at every stage of life."),w()()()()()()()(),v(61,"li",17),U(62,"div",4),v(63,"div",5)(64,"div",6)(65,"div",7)(66,"div",8)(67,"div",9)(68,"h1"),T(69,"Ensure Safety"),w(),v(70,"h2"),T(71,"Yassh Pharma ensure safety and quality standards meticulously."),w(),v(72,"p")(73,"a",18),T(74,"View More "),U(75,"i",12),w()(),v(76,"p"),T(77,"\xA0"),w(),v(78,"div",19)(79,"h2"),T(80,"Yassh Pharma offers consistent quality and conducts continuous improvement to the quality of the products. Our products are tested in Singapore Accredited lab to confirm the safety and quality of our products."),w(),v(81,"h2"),T(82,"We chosen our supplier whom they have WHO, GMP faculty with well reputations in the pharmaceutical industry."),w()()()()()()()()()()(),v(83,"div",20)(84,"div",21)(85,"div",6)(86,"div",22),U(87,"div",23),w(),v(88,"div",24)(89,"div",25)(90,"span",26),T(91,"Welcome"),w(),v(92,"h2",27),T(93,"About Us"),w(),v(94,"p"),T(95,"Yassh Pharma supply quality nutraceutical products to cater the needs of various therapeutic segments like women's health, bone health, liver health, digestive health, nerve & cognitive health, Immunity boosters, skin & hair care etc."),w(),v(96,"p"),T(97,"We value the customers satisfaction by providing the range of suitable products to the customers. Our products undergo lab testing locally to ensure safety."),w(),v(98,"p"),T(99,"We value the customer relationship across the spectrum of healthcare Industry. We are specialised and experienced in providing suitable alternatives with phyto pharmaceuticals formulations for day-to-day use."),w()(),v(100,"div",28)(101,"div",29)(102,"a",30)(103,"p",31)(104,"span"),U(105,"i",32),w()(),v(106,"h3"),T(107,"Medical Channel"),w()()(),v(108,"div",29)(109,"a",33)(110,"p",31)(111,"span"),U(112,"i",32),w()(),v(113,"h3"),T(114,"Retail Channel"),w()()()()()()()(),v(115,"div",34)(116,"div",21)(117,"div",6)(118,"div",35)(119,"span",26),T(120,"What we do?"),w(),v(121,"h2",27),T(122,"Here are some of our products"),w()()(),v(123,"div",6)(124,"div",22)(125,"div",6)(126,"div",36)(127,"div",37)(128,"div",38),U(129,"img",39),w(),v(130,"div",40)(131,"h3"),T(132,"Medical Channel"),w(),v(133,"p"),T(134,"Products under this category will be promoted only to doctors and will be available at selected clinics only"),w()()(),v(135,"div",37)(136,"div",38),U(137,"img",41),w(),v(138,"div",40)(139,"h3"),T(140,"Retail Channel"),w(),v(141,"p"),T(142,"Products under this category available with selected retailers only."),w()()()()()(),v(143,"div",22)(144,"div",6)(145,"div",22)(146,"a",42),U(147,"div",43),v(148,"div",9)(149,"h3"),T(150,"Orthopaedic"),w()()(),v(151,"a",42),U(152,"div",44),v(153,"div",9)(154,"h3"),T(155,"Skin & Hair Care"),w()()(),v(156,"a",42),U(157,"div",45),v(158,"div",9)(159,"h3"),T(160,"Immunomodulator"),w()()()(),v(161,"div",46)(162,"a",42),U(163,"div",47),v(164,"div",9)(165,"h3"),T(166,"Digestive Health"),w()()(),v(167,"a",42),U(168,"div",48),v(169,"div",9)(170,"h3"),T(171,"Nerve Health"),w()()(),v(172,"a",42),U(173,"div",49),v(174,"div",9)(175,"h3"),T(176,"Women's Health"),w()()()()()()()()(),v(177,"div",50),U(178,"div",4),v(179,"div",21),U(180,"div",6),v(181,"div",6)(182,"div",51)(183,"span",31)(184,"i"),U(185,"img",52),w()(),U(186,"span",53),v(187,"span",54),T(188,"Upcoming Products"),w()(),v(189,"div",51)(190,"span",31)(191,"i"),U(192,"img",55),w()(),U(193,"span",56),v(194,"span",54),T(195,"Products"),w()(),v(196,"div",51)(197,"span",31)(198,"i"),U(199,"img",57),w()(),U(200,"span",58),v(201,"span",54),T(202,"Medical Channel"),w()(),v(203,"div",51)(204,"span",31)(205,"i"),U(206,"img",59),w()(),U(207,"span",60),v(208,"span",54),T(209,"Retail Channel"),w()()()()())},dependencies:[rn]})}}return n})();var q$="firebase",z$="10.14.1";mi(q$,z$,"app");var Us=new Lr("ANGULARFIRE2_VERSION");var G$=(n,e)=>{let t=e?[e]:iC(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Bs=class{constructor(){return G$(W$)}},W$="app-check";function q_(){}var Of=class{zone;delegate;constructor(e,t=wg){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,t,r)}},z_=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",q_,{},q_,q_)),t.pipe(Et({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Ff=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Of(Zone.current)),this.insideAngular=t.run(()=>new Of(Zone.current,Bl)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(j(Ee))};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function K$(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function sn(n){return Q$(K$())(n)}function Q$(n){return function(t){return t=t.lift(new z_(n.ngZone)),t.pipe(Vn(n.outsideAngular),En(n.insideAngular))}}var J$=new Map,X$={activated:!1,tokenObservers:[]},e4={initialized:!1,enabled:!1};function Gn(n){return J$.get(n)||Object.assign({},X$)}function nx(){return e4}var t4="https://content-firebaseappcheck.googleapis.com/v1";var n4="exchangeDebugToken",JM={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},MQ=24*60*60*1e3;var W_=class{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return P(this,null,function*(){this.stop();try{this.pending=new tg,this.pending.promise.catch(t=>{}),yield r4(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new tg,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function r4(n){return new Promise(e=>{setTimeout(e,n)})}var i4={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Fi=new nC("appCheck","AppCheck",i4);function rx(n){if(!Gn(n).activated)throw Fi.create("use-before-activation",{appName:n.name})}function ix(r,i){return P(this,arguments,function*({url:n,body:e},t){let s={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){let y=yield o.getHeartbeatsHeader();y&&(s["X-Firebase-Client"]=y)}let a={method:"POST",body:JSON.stringify(e),headers:s},l;try{l=yield fetch(n,a)}catch(y){throw Fi.create("fetch-network-error",{originalErrorMessage:y?.message})}if(l.status!==200)throw Fi.create("fetch-status-error",{httpStatus:l.status});let c;try{c=yield l.json()}catch(y){throw Fi.create("fetch-parse-error",{originalErrorMessage:y?.message})}let d=c.ttl.match(/^([\d.]+)(s)$/);if(!d||!d[2]||isNaN(Number(d[1])))throw Fi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});let f=Number(d[1])*1e3,m=Date.now();return{token:c.token,expireTimeMillis:m+f,issuedAtTimeMillis:m}})}function sx(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${t4}/projects/${t}/apps/${r}:${n4}?key=${i}`,body:{debug_token:e}}}var s4="firebase-app-check-database",o4=1,K_="firebase-app-check-store";var Vf=null;function a4(){return Vf||(Vf=new Promise((n,e)=>{try{let t=indexedDB.open(s4,o4);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Fi.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(K_,{keyPath:"compositeKey"})}}}catch(t){e(Fi.create("storage-open",{originalErrorMessage:t?.message}))}}),Vf)}function l4(n,e){return u4(c4(n),e)}function u4(n,e){return P(this,null,function*(){let r=(yield a4()).transaction(K_,"readwrite"),s=r.objectStore(K_).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=l=>{o()},r.onerror=l=>{var c;a(Fi.create("storage-set",{originalErrorMessage:(c=l.target.error)===null||c===void 0?void 0:c.message}))}})})}function c4(n){return`${n.options.appId}-${n.name}`}var Q_=new id("@firebase/app-check");function G_(n,e){return rd()?l4(n,e).catch(t=>{Q_.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function ox(){return nx().enabled}function ax(){return P(this,null,function*(){let n=nx();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var d4={error:"UNKNOWN_ERROR"};function h4(n){return XD.encodeString(JSON.stringify(n),!1)}function Y_(n,e=!1){return P(this,null,function*(){let t=n.app;rx(t);let r=Gn(t),i=r.token,s;if(i&&!Hu(i)&&(r.token=void 0,i=void 0),!i){let l=yield r.cachedTokenPromise;l&&(Hu(l)?i=l:yield G_(t,void 0))}if(!e&&i&&Hu(i))return{token:i.token};let o=!1;if(ox()){r.exchangeTokenPromise||(r.exchangeTokenPromise=ix(sx(t,yield ax()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);let l=yield r.exchangeTokenPromise;return yield G_(t,l),r.token=l,{token:l.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield Gn(t).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?Q_.warn(l.message):Q_.error(l),s=l}let a;return i?s?Hu(i)?a={token:i.token,internalError:s}:a=ex(s):(a={token:i.token},r.token=i,yield G_(t,i)):a=ex(s),o&&g4(t,a),a})}function f4(n){return P(this,null,function*(){let e=n.app;rx(e);let{provider:t}=Gn(e);if(ox()){let r=yield ax(),{token:i}=yield ix(sx(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function p4(n,e,t,r){let{app:i}=n,s=Gn(i),o={next:t,error:r,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&Hu(s.token)){let a=s.token;Promise.resolve().then(()=>{t({token:a.token}),XM(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>XM(n))}function lx(n,e){let t=Gn(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function XM(n){let{app:e}=n,t=Gn(e),r=t.tokenRefresher;r||(r=m4(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function m4(n){let{app:e}=n;return new W_(()=>P(this,null,function*(){let t=Gn(e),r;if(t.token?r=yield Y_(n,!0):r=yield Y_(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=Gn(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},JM.RETRIAL_MIN_WAIT,JM.RETRIAL_MAX_WAIT)}function g4(n,e){let t=Gn(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Hu(n){return n.expireTimeMillis-Date.now()>0}function ex(n){return{token:h4(d4),error:n}}var Z_=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=Gn(this.app);for(let t of e)lx(this.app,t.next);return Promise.resolve()}};function y4(n,e){return new Z_(n,e)}function v4(n){return{getToken:e=>Y_(n,e),getLimitedUseToken:()=>f4(n),addTokenListener:e=>p4(n,"INTERNAL",e),removeTokenListener:e=>lx(n.app,e)}}var _4="@firebase/app-check",w4="0.8.8";var E4="app-check",tx="app-check-internal";function I4(){kl(new cs(E4,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return y4(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(tx).initialize()})),kl(new cs(tx,n=>{let e=n.getProvider("app-check").getImmediate();return v4(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),mi(_4,w4)}I4();var D4=["localhost","0.0.0.0","127.0.0.1"],UQ=typeof window<"u"&&D4.includes(window.location.hostname);var C4="firebase",b4="10.14.1";qt.registerVersion(C4,b4,"app-compat");var T4=["ngOnDestroy"],dx=(n,e,t,r={})=>new Proxy(n,{get:(i,s)=>t.runOutsideAngular(()=>{if(n[s])return r?.spy?.get&&r.spy.get(s,n[s]),n[s];if(T4.indexOf(s)>-1)return()=>{};let o=e.toPromise().then(a=>{let l=a?.[s];return typeof l=="function"?l.bind(a):l?.then?l.then(c=>t.run(()=>c)):t.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>o[l],apply:(a,l,c)=>o.then(d=>{let f=d?.(...c);return r?.spy?.apply&&r.spy.apply(s,c,f),f})})})});var Lf=class{constructor(e){return e}},Sa=new Y("angularfire2.app.options"),Aa=new Y("angularfire2.app.name");function qu(n,e,t){let r=typeof t=="string"&&t||"[DEFAULT]",i=typeof t=="object"&&t||{};i.name=i.name||r;let o=qt.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>qt.initializeApp(n,i));try{if(JSON.stringify(n)!==JSON.stringify(o.options)){let a=!!module.hot;S4("error",`${o.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Lf(o)}var S4=(n,...e)=>{Fv()&&typeof console<"u"&&console[n](...e)},A4={provide:Lf,useFactory:qu,deps:[Sa,Ee,[new tu,Aa]]},hx=(()=>{class n{static initializeApp(t,r){return{ngModule:n,providers:[{provide:Sa,useValue:t},{provide:Aa,useValue:r}]}}constructor(t){qt.registerVersion("angularfire",Us.full,"core"),qt.registerVersion("angularfire",Us.full,"app-compat"),qt.registerVersion("angular",iA.full,t.toString())}static \u0275fac=function(r){return new(r||n)(j(nn))};static \u0275mod=Ye({type:n});static \u0275inj=Qe({providers:[A4]})}return n})();function jf(n,e,t,r,i){let[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(s)return M4(i,o)||(cx("error",`${e} was already initialized on the ${t} Firebase App with different settings.${x4?" You may need to reload as Firebase is not HMR aware.":""}`),cx("warn",{is:i,was:o})),s;{let a=r();return globalThis.\u0275AngularfireInstanceCache.push([n,a,i]),a}}function M4(n,e){try{return n.toString()===e.toString()}catch{return n===e}}var x4=typeof module<"u"&&!!module.hot,cx=(n,...e)=>{Fv()&&typeof console<"u"&&console[n](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var J_=new Y("angularfire2.auth.use-emulator"),X_=new Y("angularfire2.auth.settings"),ew=new Y("angularfire2.auth.tenant-id"),tw=new Y("angularfire2.auth.langugage-code"),nw=new Y("angularfire2.auth.use-device-language"),rw=new Y("angularfire.auth.persistence"),iw=(n,e,t,r,i,s,o,a)=>jf(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{let l=e.runOutsideAngular(()=>n.auth());if(t&&l.useEmulator(...t),r&&(l.tenantId=r),l.languageCode=i,s&&l.useDeviceLanguage(),o)for(let[c,d]of Object.entries(o))l.settings[c]=d;return a&&l.setPersistence(a),l},[t,r,i,s,o,a]),zu=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,r,i,s,o,a,l,c,d,f,m,y){let E=new ke,b=ie(void 0).pipe(En(o.outsideAngular),ot(()=>s.runOutsideAngular(()=>import("./chunk-SJDVR6DC.js"))),le(()=>qu(t,s,r)),le(M=>iw(M,s,a,c,d,f,l,m)),Fd({bufferSize:1,refCount:!1}));if(ks(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ie(null);else{b.pipe(Dn()).subscribe();let M=b.pipe(ot(V=>V.getRedirectResult().then(W=>W,()=>null)),sn,Fd({bufferSize:1,refCount:!1})),F=b.pipe(ot(V=>new Ce(W=>({unsubscribe:s.runOutsideAngular(()=>V.onAuthStateChanged(se=>W.next(se),se=>W.error(se),()=>W.complete()))})))),q=b.pipe(ot(V=>new Ce(W=>({unsubscribe:s.runOutsideAngular(()=>V.onIdTokenChanged(se=>W.next(se),se=>W.error(se),()=>W.complete()))}))));this.authState=M.pipe(Vd(F),Vn(o.outsideAngular),En(o.insideAngular)),this.user=M.pipe(Vd(q),Vn(o.outsideAngular),En(o.insideAngular)),this.idToken=this.user.pipe(ot(V=>V?Te(V.getIdToken()):ie(null))),this.idTokenResult=this.user.pipe(ot(V=>V?Te(V.getIdTokenResult()):ie(null))),this.credential=Cg(M,E,this.authState.pipe(At(V=>!V))).pipe(le(V=>V?.user?V:null),Vn(o.outsideAngular),En(o.insideAngular))}return dx(this,b,s,{spy:{apply:(M,F,q)=>{(M.startsWith("signIn")||M.startsWith("createUser"))&&q.then(V=>E.next(V))}}})}static \u0275fac=function(r){return new(r||n)(j(Sa),j(Aa,8),j(nn),j(Ee),j(Ff),j(J_,8),j(X_,8),j(ew,8),j(tw,8),j(nw,8),j(rw,8),j(Bs,8))};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),fx=(()=>{class n{constructor(){qt.registerVersion("angularfire",Us.full,"auth-compat")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ye({type:n});static \u0275inj=Qe({providers:[zu]})}return n})();var mx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},gx={};var Vi,sw;(function(){var n;function e(C,_){function I(){}I.prototype=_.prototype,C.D=_.prototype,C.prototype=new I,C.prototype.constructor=C,C.C=function(S,A,R){for(var D=Array(arguments.length-2),_n=2;_n<arguments.length;_n++)D[_n-2]=arguments[_n];return _.prototype[A].apply(S,D)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,_,I){I||(I=0);var S=Array(16);if(typeof _=="string")for(var A=0;16>A;++A)S[A]=_.charCodeAt(I++)|_.charCodeAt(I++)<<8|_.charCodeAt(I++)<<16|_.charCodeAt(I++)<<24;else for(A=0;16>A;++A)S[A]=_[I++]|_[I++]<<8|_[I++]<<16|_[I++]<<24;_=C.g[0],I=C.g[1],A=C.g[2];var R=C.g[3],D=_+(R^I&(A^R))+S[0]+3614090360&4294967295;_=I+(D<<7&4294967295|D>>>25),D=R+(A^_&(I^A))+S[1]+3905402710&4294967295,R=_+(D<<12&4294967295|D>>>20),D=A+(I^R&(_^I))+S[2]+606105819&4294967295,A=R+(D<<17&4294967295|D>>>15),D=I+(_^A&(R^_))+S[3]+3250441966&4294967295,I=A+(D<<22&4294967295|D>>>10),D=_+(R^I&(A^R))+S[4]+4118548399&4294967295,_=I+(D<<7&4294967295|D>>>25),D=R+(A^_&(I^A))+S[5]+1200080426&4294967295,R=_+(D<<12&4294967295|D>>>20),D=A+(I^R&(_^I))+S[6]+2821735955&4294967295,A=R+(D<<17&4294967295|D>>>15),D=I+(_^A&(R^_))+S[7]+4249261313&4294967295,I=A+(D<<22&4294967295|D>>>10),D=_+(R^I&(A^R))+S[8]+1770035416&4294967295,_=I+(D<<7&4294967295|D>>>25),D=R+(A^_&(I^A))+S[9]+2336552879&4294967295,R=_+(D<<12&4294967295|D>>>20),D=A+(I^R&(_^I))+S[10]+4294925233&4294967295,A=R+(D<<17&4294967295|D>>>15),D=I+(_^A&(R^_))+S[11]+2304563134&4294967295,I=A+(D<<22&4294967295|D>>>10),D=_+(R^I&(A^R))+S[12]+1804603682&4294967295,_=I+(D<<7&4294967295|D>>>25),D=R+(A^_&(I^A))+S[13]+4254626195&4294967295,R=_+(D<<12&4294967295|D>>>20),D=A+(I^R&(_^I))+S[14]+2792965006&4294967295,A=R+(D<<17&4294967295|D>>>15),D=I+(_^A&(R^_))+S[15]+1236535329&4294967295,I=A+(D<<22&4294967295|D>>>10),D=_+(A^R&(I^A))+S[1]+4129170786&4294967295,_=I+(D<<5&4294967295|D>>>27),D=R+(I^A&(_^I))+S[6]+3225465664&4294967295,R=_+(D<<9&4294967295|D>>>23),D=A+(_^I&(R^_))+S[11]+643717713&4294967295,A=R+(D<<14&4294967295|D>>>18),D=I+(R^_&(A^R))+S[0]+3921069994&4294967295,I=A+(D<<20&4294967295|D>>>12),D=_+(A^R&(I^A))+S[5]+3593408605&4294967295,_=I+(D<<5&4294967295|D>>>27),D=R+(I^A&(_^I))+S[10]+38016083&4294967295,R=_+(D<<9&4294967295|D>>>23),D=A+(_^I&(R^_))+S[15]+3634488961&4294967295,A=R+(D<<14&4294967295|D>>>18),D=I+(R^_&(A^R))+S[4]+3889429448&4294967295,I=A+(D<<20&4294967295|D>>>12),D=_+(A^R&(I^A))+S[9]+568446438&4294967295,_=I+(D<<5&4294967295|D>>>27),D=R+(I^A&(_^I))+S[14]+3275163606&4294967295,R=_+(D<<9&4294967295|D>>>23),D=A+(_^I&(R^_))+S[3]+4107603335&4294967295,A=R+(D<<14&4294967295|D>>>18),D=I+(R^_&(A^R))+S[8]+1163531501&4294967295,I=A+(D<<20&4294967295|D>>>12),D=_+(A^R&(I^A))+S[13]+2850285829&4294967295,_=I+(D<<5&4294967295|D>>>27),D=R+(I^A&(_^I))+S[2]+4243563512&4294967295,R=_+(D<<9&4294967295|D>>>23),D=A+(_^I&(R^_))+S[7]+1735328473&4294967295,A=R+(D<<14&4294967295|D>>>18),D=I+(R^_&(A^R))+S[12]+2368359562&4294967295,I=A+(D<<20&4294967295|D>>>12),D=_+(I^A^R)+S[5]+4294588738&4294967295,_=I+(D<<4&4294967295|D>>>28),D=R+(_^I^A)+S[8]+2272392833&4294967295,R=_+(D<<11&4294967295|D>>>21),D=A+(R^_^I)+S[11]+1839030562&4294967295,A=R+(D<<16&4294967295|D>>>16),D=I+(A^R^_)+S[14]+4259657740&4294967295,I=A+(D<<23&4294967295|D>>>9),D=_+(I^A^R)+S[1]+2763975236&4294967295,_=I+(D<<4&4294967295|D>>>28),D=R+(_^I^A)+S[4]+1272893353&4294967295,R=_+(D<<11&4294967295|D>>>21),D=A+(R^_^I)+S[7]+4139469664&4294967295,A=R+(D<<16&4294967295|D>>>16),D=I+(A^R^_)+S[10]+3200236656&4294967295,I=A+(D<<23&4294967295|D>>>9),D=_+(I^A^R)+S[13]+681279174&4294967295,_=I+(D<<4&4294967295|D>>>28),D=R+(_^I^A)+S[0]+3936430074&4294967295,R=_+(D<<11&4294967295|D>>>21),D=A+(R^_^I)+S[3]+3572445317&4294967295,A=R+(D<<16&4294967295|D>>>16),D=I+(A^R^_)+S[6]+76029189&4294967295,I=A+(D<<23&4294967295|D>>>9),D=_+(I^A^R)+S[9]+3654602809&4294967295,_=I+(D<<4&4294967295|D>>>28),D=R+(_^I^A)+S[12]+3873151461&4294967295,R=_+(D<<11&4294967295|D>>>21),D=A+(R^_^I)+S[15]+530742520&4294967295,A=R+(D<<16&4294967295|D>>>16),D=I+(A^R^_)+S[2]+3299628645&4294967295,I=A+(D<<23&4294967295|D>>>9),D=_+(A^(I|~R))+S[0]+4096336452&4294967295,_=I+(D<<6&4294967295|D>>>26),D=R+(I^(_|~A))+S[7]+1126891415&4294967295,R=_+(D<<10&4294967295|D>>>22),D=A+(_^(R|~I))+S[14]+2878612391&4294967295,A=R+(D<<15&4294967295|D>>>17),D=I+(R^(A|~_))+S[5]+4237533241&4294967295,I=A+(D<<21&4294967295|D>>>11),D=_+(A^(I|~R))+S[12]+1700485571&4294967295,_=I+(D<<6&4294967295|D>>>26),D=R+(I^(_|~A))+S[3]+2399980690&4294967295,R=_+(D<<10&4294967295|D>>>22),D=A+(_^(R|~I))+S[10]+4293915773&4294967295,A=R+(D<<15&4294967295|D>>>17),D=I+(R^(A|~_))+S[1]+2240044497&4294967295,I=A+(D<<21&4294967295|D>>>11),D=_+(A^(I|~R))+S[8]+1873313359&4294967295,_=I+(D<<6&4294967295|D>>>26),D=R+(I^(_|~A))+S[15]+4264355552&4294967295,R=_+(D<<10&4294967295|D>>>22),D=A+(_^(R|~I))+S[6]+2734768916&4294967295,A=R+(D<<15&4294967295|D>>>17),D=I+(R^(A|~_))+S[13]+1309151649&4294967295,I=A+(D<<21&4294967295|D>>>11),D=_+(A^(I|~R))+S[4]+4149444226&4294967295,_=I+(D<<6&4294967295|D>>>26),D=R+(I^(_|~A))+S[11]+3174756917&4294967295,R=_+(D<<10&4294967295|D>>>22),D=A+(_^(R|~I))+S[2]+718787259&4294967295,A=R+(D<<15&4294967295|D>>>17),D=I+(R^(A|~_))+S[9]+3951481745&4294967295,C.g[0]=C.g[0]+_&4294967295,C.g[1]=C.g[1]+(A+(D<<21&4294967295|D>>>11))&4294967295,C.g[2]=C.g[2]+A&4294967295,C.g[3]=C.g[3]+R&4294967295}r.prototype.u=function(C,_){_===void 0&&(_=C.length);for(var I=_-this.blockSize,S=this.B,A=this.h,R=0;R<_;){if(A==0)for(;R<=I;)i(this,C,R),R+=this.blockSize;if(typeof C=="string"){for(;R<_;)if(S[A++]=C.charCodeAt(R++),A==this.blockSize){i(this,S),A=0;break}}else for(;R<_;)if(S[A++]=C[R++],A==this.blockSize){i(this,S),A=0;break}}this.h=A,this.o+=_},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var _=1;_<C.length-8;++_)C[_]=0;var I=8*this.o;for(_=C.length-8;_<C.length;++_)C[_]=I&255,I/=256;for(this.u(C),C=Array(16),_=I=0;4>_;++_)for(var S=0;32>S;S+=8)C[I++]=this.g[_]>>>S&255;return C};function s(C,_){var I=a;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=_(C)}function o(C,_){this.h=_;for(var I=[],S=!0,A=C.length-1;0<=A;A--){var R=C[A]|0;S&&R==_||(I[A]=R,S=!1)}this.g=I}var a={};function l(C){return-128<=C&&128>C?s(C,function(_){return new o([_|0],0>_?-1:0)}):new o([C|0],0>C?-1:0)}function c(C){if(isNaN(C)||!isFinite(C))return f;if(0>C)return M(c(-C));for(var _=[],I=1,S=0;C>=I;S++)_[S]=C/I|0,I*=4294967296;return new o(_,0)}function d(C,_){if(C.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(C.charAt(0)=="-")return M(d(C.substring(1),_));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(_,8)),S=f,A=0;A<C.length;A+=8){var R=Math.min(8,C.length-A),D=parseInt(C.substring(A,A+R),_);8>R?(R=c(Math.pow(_,R)),S=S.j(R).add(c(D))):(S=S.j(I),S=S.add(c(D)))}return S}var f=l(0),m=l(1),y=l(16777216);n=o.prototype,n.m=function(){if(b(this))return-M(this).m();for(var C=0,_=1,I=0;I<this.g.length;I++){var S=this.i(I);C+=(0<=S?S:4294967296+S)*_,_*=4294967296}return C},n.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(E(this))return"0";if(b(this))return"-"+M(this).toString(C);for(var _=c(Math.pow(C,6)),I=this,S="";;){var A=W(I,_).g;I=F(I,A.j(_));var R=((0<I.g.length?I.g[0]:I.h)>>>0).toString(C);if(I=A,E(I))return R+S;for(;6>R.length;)R="0"+R;S=R+S}},n.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function E(C){if(C.h!=0)return!1;for(var _=0;_<C.g.length;_++)if(C.g[_]!=0)return!1;return!0}function b(C){return C.h==-1}n.l=function(C){return C=F(this,C),b(C)?-1:E(C)?0:1};function M(C){for(var _=C.g.length,I=[],S=0;S<_;S++)I[S]=~C.g[S];return new o(I,~C.h).add(m)}n.abs=function(){return b(this)?M(this):this},n.add=function(C){for(var _=Math.max(this.g.length,C.g.length),I=[],S=0,A=0;A<=_;A++){var R=S+(this.i(A)&65535)+(C.i(A)&65535),D=(R>>>16)+(this.i(A)>>>16)+(C.i(A)>>>16);S=D>>>16,R&=65535,D&=65535,I[A]=D<<16|R}return new o(I,I[I.length-1]&-2147483648?-1:0)};function F(C,_){return C.add(M(_))}n.j=function(C){if(E(this)||E(C))return f;if(b(this))return b(C)?M(this).j(M(C)):M(M(this).j(C));if(b(C))return M(this.j(M(C)));if(0>this.l(y)&&0>C.l(y))return c(this.m()*C.m());for(var _=this.g.length+C.g.length,I=[],S=0;S<2*_;S++)I[S]=0;for(S=0;S<this.g.length;S++)for(var A=0;A<C.g.length;A++){var R=this.i(S)>>>16,D=this.i(S)&65535,_n=C.i(A)>>>16,ui=C.i(A)&65535;I[2*S+2*A]+=D*ui,q(I,2*S+2*A),I[2*S+2*A+1]+=R*ui,q(I,2*S+2*A+1),I[2*S+2*A+1]+=D*_n,q(I,2*S+2*A+1),I[2*S+2*A+2]+=R*_n,q(I,2*S+2*A+2)}for(S=0;S<_;S++)I[S]=I[2*S+1]<<16|I[2*S];for(S=_;S<2*_;S++)I[S]=0;return new o(I,0)};function q(C,_){for(;(C[_]&65535)!=C[_];)C[_+1]+=C[_]>>>16,C[_]&=65535,_++}function V(C,_){this.g=C,this.h=_}function W(C,_){if(E(_))throw Error("division by zero");if(E(C))return new V(f,f);if(b(C))return _=W(M(C),_),new V(M(_.g),M(_.h));if(b(_))return _=W(C,M(_)),new V(M(_.g),_.h);if(30<C.g.length){if(b(C)||b(_))throw Error("slowDivide_ only works with positive integers.");for(var I=m,S=_;0>=S.l(C);)I=se(I),S=se(S);var A=J(I,1),R=J(S,1);for(S=J(S,2),I=J(I,2);!E(S);){var D=R.add(S);0>=D.l(C)&&(A=A.add(I),R=D),S=J(S,1),I=J(I,1)}return _=F(C,A.j(_)),new V(A,_)}for(A=f;0<=C.l(_);){for(I=Math.max(1,Math.floor(C.m()/_.m())),S=Math.ceil(Math.log(I)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),R=c(I),D=R.j(_);b(D)||0<D.l(C);)I-=S,R=c(I),D=R.j(_);E(R)&&(R=m),A=A.add(R),C=F(C,D)}return new V(A,C)}n.A=function(C){return W(this,C).h},n.and=function(C){for(var _=Math.max(this.g.length,C.g.length),I=[],S=0;S<_;S++)I[S]=this.i(S)&C.i(S);return new o(I,this.h&C.h)},n.or=function(C){for(var _=Math.max(this.g.length,C.g.length),I=[],S=0;S<_;S++)I[S]=this.i(S)|C.i(S);return new o(I,this.h|C.h)},n.xor=function(C){for(var _=Math.max(this.g.length,C.g.length),I=[],S=0;S<_;S++)I[S]=this.i(S)^C.i(S);return new o(I,this.h^C.h)};function se(C){for(var _=C.g.length+1,I=[],S=0;S<_;S++)I[S]=C.i(S)<<1|C.i(S-1)>>>31;return new o(I,C.h)}function J(C,_){var I=_>>5;_%=32;for(var S=C.g.length-I,A=[],R=0;R<S;R++)A[R]=0<_?C.i(R+I)>>>_|C.i(R+I+1)<<32-_:C.i(R+I);return new o(A,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,sw=gx.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,Vi=gx.Integer=o}).apply(typeof mx<"u"?mx:typeof self<"u"?self:typeof window<"u"?window:{});var Bf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Jr={};var ow,R4,Ma,aw,Gu,Uf,lw,uw,cw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,h,p){return u==Array.prototype||u==Object.prototype||(u[h]=p.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bf=="object"&&Bf];for(var h=0;h<u.length;++h){var p=u[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=t(this);function i(u,h){if(h)e:{var p=r;u=u.split(".");for(var g=0;g<u.length-1;g++){var x=u[g];if(!(x in p))break e;p=p[x]}u=u[u.length-1],g=p[u],h=h(g),h!=g&&h!=null&&e(p,u,{configurable:!0,writable:!0,value:h})}}function s(u,h){u instanceof String&&(u+="");var p=0,g=!1,x={next:function(){if(!g&&p<u.length){var k=p++;return{value:h(k,u[k]),done:!1}}return g=!0,{done:!0,value:void 0}}};return x[Symbol.iterator]=function(){return x},x}i("Array.prototype.values",function(u){return u||function(){return s(this,function(h,p){return p})}});var o=o||{},a=this||self;function l(u){var h=typeof u;return h=h!="object"?h:u?Array.isArray(u)?"array":h:"null",h=="array"||h=="object"&&typeof u.length=="number"}function c(u){var h=typeof u;return h=="object"&&u!=null||h=="function"}function d(u,h,p){return u.call.apply(u.bind,arguments)}function f(u,h,p){if(!u)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var x=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(x,g),u.apply(h,x)}}return function(){return u.apply(h,arguments)}}function m(u,h,p){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,m.apply(null,arguments)}function y(u,h){var p=Array.prototype.slice.call(arguments,1);return function(){var g=p.slice();return g.push.apply(g,arguments),u.apply(this,g)}}function E(u,h){function p(){}p.prototype=h.prototype,u.aa=h.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(g,x,k){for(var G=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)G[Be-2]=arguments[Be];return h.prototype[x].apply(g,G)}}function b(u){let h=u.length;if(0<h){let p=Array(h);for(let g=0;g<h;g++)p[g]=u[g];return p}return[]}function M(u,h){for(let p=1;p<arguments.length;p++){let g=arguments[p];if(l(g)){let x=u.length||0,k=g.length||0;u.length=x+k;for(let G=0;G<k;G++)u[x+G]=g[G]}else u.push(g)}}class F{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function q(u){return/^[\s\xa0]*$/.test(u)}function V(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function W(u){return W[" "](u),u}W[" "]=function(){};var se=V().indexOf("Gecko")!=-1&&!(V().toLowerCase().indexOf("webkit")!=-1&&V().indexOf("Edge")==-1)&&!(V().indexOf("Trident")!=-1||V().indexOf("MSIE")!=-1)&&V().indexOf("Edge")==-1;function J(u,h,p){for(let g in u)h.call(p,u[g],g,u)}function C(u,h){for(let p in u)h.call(void 0,u[p],p,u)}function _(u){let h={};for(let p in u)h[p]=u[p];return h}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(u,h){let p,g;for(let x=1;x<arguments.length;x++){g=arguments[x];for(p in g)u[p]=g[p];for(let k=0;k<I.length;k++)p=I[k],Object.prototype.hasOwnProperty.call(g,p)&&(u[p]=g[p])}}function A(u){var h=1;u=u.split(":");let p=[];for(;0<h&&u.length;)p.push(u.shift()),h--;return u.length&&p.push(u.join(":")),p}function R(u){a.setTimeout(()=>{throw u},0)}function D(){var u=De;let h=null;return u.g&&(h=u.g,u.g=u.g.next,u.g||(u.h=null),h.next=null),h}class _n{constructor(){this.h=this.g=null}add(h,p){let g=ui.get();g.set(h,p),this.h?this.h.next=g:this.g=g,this.h=g}}var ui=new F(()=>new te,u=>u.reset());class te{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let re,ae=!1,De=new _n,ct=()=>{let u=a.Promise.resolve(void 0);re=()=>{u.then(wn)}};var wn=()=>{for(var u;u=D();){try{u.h.call(u.g)}catch(p){R(p)}var h=ui;h.j(u),100>h.h&&(h.h++,u.next=h.g,h.g=u)}ae=!1};function nt(){this.s=this.s,this.C=this.C}nt.prototype.s=!1,nt.prototype.ma=function(){this.s||(this.s=!0,this.N())},nt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function qe(u,h){this.type=u,this.g=this.target=h,this.defaultPrevented=!1}qe.prototype.h=function(){this.defaultPrevented=!0};var ze=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,h=Object.defineProperty({},"passive",{get:function(){u=!0}});try{let p=()=>{};a.addEventListener("test",p,h),a.removeEventListener("test",p,h)}catch{}return u}();function ci(u,h){if(qe.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,g=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=h,h=u.relatedTarget){if(se){e:{try{W(h.nodeName);var x=!0;break e}catch{}x=!1}x||(h=null)}}else p=="mouseover"?h=u.fromElement:p=="mouseout"&&(h=u.toElement);this.relatedTarget=h,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Mm[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&ci.aa.h.call(this)}}E(ci,qe);var Mm={2:"touch",3:"pen",4:"mouse"};ci.prototype.h=function(){ci.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var rt="closure_listenable_"+(1e6*Math.random()|0),Tr=0;function Xt(u,h,p,g,x){this.listener=u,this.proxy=null,this.src=h,this.type=p,this.capture=!!g,this.ha=x,this.key=++Tr,this.da=this.fa=!1}function Sr(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function di(u){this.src=u,this.g={},this.h=0}di.prototype.add=function(u,h,p,g,x){var k=u.toString();u=this.g[k],u||(u=this.g[k]=[],this.h++);var G=Rm(u,h,g,x);return-1<G?(h=u[G],p||(h.fa=!1)):(h=new Xt(h,this.src,k,!!g,x),h.fa=p,u.push(h)),h};function xm(u,h){var p=h.type;if(p in u.g){var g=u.g[p],x=Array.prototype.indexOf.call(g,h,void 0),k;(k=0<=x)&&Array.prototype.splice.call(g,x,1),k&&(Sr(h),u.g[p].length==0&&(delete u.g[p],u.h--))}}function Rm(u,h,p,g){for(var x=0;x<u.length;++x){var k=u[x];if(!k.da&&k.listener==h&&k.capture==!!p&&k.ha==g)return x}return-1}var Nm="closure_lm_"+(1e6*Math.random()|0),Pm={};function QI(u,h,p,g,x){if(g&&g.once)return ZI(u,h,p,g,x);if(Array.isArray(h)){for(var k=0;k<h.length;k++)QI(u,h[k],p,g,x);return null}return p=Vm(p),u&&u[rt]?u.K(h,p,c(g)?!!g.capture:!!g,x):YI(u,h,p,!1,g,x)}function YI(u,h,p,g,x,k){if(!h)throw Error("Invalid event type");var G=c(x)?!!x.capture:!!x,Be=Om(u);if(Be||(u[Nm]=Be=new di(u)),p=Be.add(h,p,g,G,k),p.proxy)return p;if(g=zP(),p.proxy=g,g.src=u,g.listener=p,u.addEventListener)ze||(x=G),x===void 0&&(x=!1),u.addEventListener(h.toString(),g,x);else if(u.attachEvent)u.attachEvent(XI(h.toString()),g);else if(u.addListener&&u.removeListener)u.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return p}function zP(){function u(p){return h.call(u.src,u.listener,p)}let h=GP;return u}function ZI(u,h,p,g,x){if(Array.isArray(h)){for(var k=0;k<h.length;k++)ZI(u,h[k],p,g,x);return null}return p=Vm(p),u&&u[rt]?u.L(h,p,c(g)?!!g.capture:!!g,x):YI(u,h,p,!0,g,x)}function JI(u,h,p,g,x){if(Array.isArray(h))for(var k=0;k<h.length;k++)JI(u,h[k],p,g,x);else g=c(g)?!!g.capture:!!g,p=Vm(p),u&&u[rt]?(u=u.i,h=String(h).toString(),h in u.g&&(k=u.g[h],p=Rm(k,p,g,x),-1<p&&(Sr(k[p]),Array.prototype.splice.call(k,p,1),k.length==0&&(delete u.g[h],u.h--)))):u&&(u=Om(u))&&(h=u.g[h.toString()],u=-1,h&&(u=Rm(h,p,g,x)),(p=-1<u?h[u]:null)&&km(p))}function km(u){if(typeof u!="number"&&u&&!u.da){var h=u.src;if(h&&h[rt])xm(h.i,u);else{var p=u.type,g=u.proxy;h.removeEventListener?h.removeEventListener(p,g,u.capture):h.detachEvent?h.detachEvent(XI(p),g):h.addListener&&h.removeListener&&h.removeListener(g),(p=Om(h))?(xm(p,u),p.h==0&&(p.src=null,h[Nm]=null)):Sr(u)}}}function XI(u){return u in Pm?Pm[u]:Pm[u]="on"+u}function GP(u,h){if(u.da)u=!0;else{h=new ci(h,this);var p=u.listener,g=u.ha||u.src;u.fa&&km(u),u=p.call(g,h)}return u}function Om(u){return u=u[Nm],u instanceof di?u:null}var Fm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vm(u){return typeof u=="function"?u:(u[Fm]||(u[Fm]=function(h){return u.handleEvent(h)}),u[Fm])}function kt(){nt.call(this),this.i=new di(this),this.M=this,this.F=null}E(kt,nt),kt.prototype[rt]=!0,kt.prototype.removeEventListener=function(u,h,p,g){JI(this,u,h,p,g)};function $t(u,h){var p,g=u.F;if(g)for(p=[];g;g=g.F)p.push(g);if(u=u.M,g=h.type||h,typeof h=="string")h=new qe(h,u);else if(h instanceof qe)h.target=h.target||u;else{var x=h;h=new qe(g,u),S(h,x)}if(x=!0,p)for(var k=p.length-1;0<=k;k--){var G=h.g=p[k];x=Uc(G,g,!0,h)&&x}if(G=h.g=u,x=Uc(G,g,!0,h)&&x,x=Uc(G,g,!1,h)&&x,p)for(k=0;k<p.length;k++)G=h.g=p[k],x=Uc(G,g,!1,h)&&x}kt.prototype.N=function(){if(kt.aa.N.call(this),this.i){var u=this.i,h;for(h in u.g){for(var p=u.g[h],g=0;g<p.length;g++)Sr(p[g]);delete u.g[h],u.h--}}this.F=null},kt.prototype.K=function(u,h,p,g){return this.i.add(String(u),h,!1,p,g)},kt.prototype.L=function(u,h,p,g){return this.i.add(String(u),h,!0,p,g)};function Uc(u,h,p,g){if(h=u.i.g[String(h)],!h)return!0;h=h.concat();for(var x=!0,k=0;k<h.length;++k){var G=h[k];if(G&&!G.da&&G.capture==p){var Be=G.listener,Tt=G.ha||G.src;G.fa&&xm(u.i,G),x=Be.call(Tt,g)!==!1&&x}}return x&&!g.defaultPrevented}function eD(u,h,p){if(typeof u=="function")p&&(u=m(u,p));else if(u&&typeof u.handleEvent=="function")u=m(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(u,h||0)}function tD(u){u.g=eD(()=>{u.g=null,u.i&&(u.i=!1,tD(u))},u.l);let h=u.h;u.h=null,u.m.apply(null,h)}class WP extends nt{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:tD(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _l(u){nt.call(this),this.h=u,this.g={}}E(_l,nt);var nD=[];function rD(u){J(u.g,function(h,p){this.g.hasOwnProperty(p)&&km(h)},u),u.g={}}_l.prototype.N=function(){_l.aa.N.call(this),rD(this)},_l.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Lm=a.JSON.stringify,KP=a.JSON.parse,QP=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function jm(){}jm.prototype.h=null;function iD(u){return u.h||(u.h=u.i())}function sD(){}var wl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Bm(){qe.call(this,"d")}E(Bm,qe);function Um(){qe.call(this,"c")}E(Um,qe);var os={},oD=null;function $c(){return oD=oD||new kt}os.La="serverreachability";function aD(u){qe.call(this,os.La,u)}E(aD,qe);function El(u){let h=$c();$t(h,new aD(h))}os.STAT_EVENT="statevent";function lD(u,h){qe.call(this,os.STAT_EVENT,u),this.stat=h}E(lD,qe);function Ht(u){let h=$c();$t(h,new lD(h,u))}os.Ma="timingevent";function uD(u,h){qe.call(this,os.Ma,u),this.size=h}E(uD,qe);function Il(u,h){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},h)}function Dl(){this.g=!0}Dl.prototype.xa=function(){this.g=!1};function YP(u,h,p,g,x,k){u.info(function(){if(u.g)if(k)for(var G="",Be=k.split("&"),Tt=0;Tt<Be.length;Tt++){var Pe=Be[Tt].split("=");if(1<Pe.length){var Ot=Pe[0];Pe=Pe[1];var Ft=Ot.split("_");G=2<=Ft.length&&Ft[1]=="type"?G+(Ot+"="+Pe+"&"):G+(Ot+"=redacted&")}}else G=null;else G=k;return"XMLHTTP REQ ("+g+") [attempt "+x+"]: "+h+`
`+p+`
`+G})}function ZP(u,h,p,g,x,k,G){u.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+x+"]: "+h+`
`+p+`
`+k+" "+G})}function Io(u,h,p,g){u.info(function(){return"XMLHTTP TEXT ("+h+"): "+XP(u,p)+(g?" "+g:"")})}function JP(u,h){u.info(function(){return"TIMEOUT: "+h})}Dl.prototype.info=function(){};function XP(u,h){if(!u.g)return h;if(!h)return null;try{var p=JSON.parse(h);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var g=p[u];if(!(2>g.length)){var x=g[1];if(Array.isArray(x)&&!(1>x.length)){var k=x[0];if(k!="noop"&&k!="stop"&&k!="close")for(var G=1;G<x.length;G++)x[G]=""}}}}return Lm(p)}catch{return h}}var Hc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},cD={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},$m;function qc(){}E(qc,jm),qc.prototype.g=function(){return new XMLHttpRequest},qc.prototype.i=function(){return{}},$m=new qc;function hi(u,h,p,g){this.j=u,this.i=h,this.l=p,this.R=g||1,this.U=new _l(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new dD}function dD(){this.i=null,this.g="",this.h=!1}var hD={},Hm={};function qm(u,h,p){u.L=1,u.v=Kc(Ar(h)),u.m=p,u.P=!0,fD(u,null)}function fD(u,h){u.F=Date.now(),zc(u),u.A=Ar(u.v);var p=u.A,g=u.R;Array.isArray(g)||(g=[String(g)]),SD(p.i,"t",g),u.C=0,p=u.j.J,u.h=new dD,u.g=zD(u.j,p?h:null,!u.m),0<u.O&&(u.M=new WP(m(u.Y,u,u.g),u.O)),h=u.U,p=u.g,g=u.ca;var x="readystatechange";Array.isArray(x)||(x&&(nD[0]=x.toString()),x=nD);for(var k=0;k<x.length;k++){var G=QI(p,x[k],g||h.handleEvent,!1,h.h||h);if(!G)break;h.g[G.key]=G}h=u.H?_(u.H):{},u.m?(u.u||(u.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,h)):(u.u="GET",u.g.ea(u.A,u.u,null,h)),El(),YP(u.i,u.u,u.A,u.l,u.R,u.m)}hi.prototype.ca=function(u){u=u.target;let h=this.M;h&&Mr(u)==3?h.j():this.Y(u)},hi.prototype.Y=function(u){try{if(u==this.g)e:{let Ft=Mr(this.g);var h=this.g.Ba();let bo=this.g.Z();if(!(3>Ft)&&(Ft!=3||this.g&&(this.h.h||this.g.oa()||kD(this.g)))){this.J||Ft!=4||h==7||(h==8||0>=bo?El(3):El(2)),zm(this);var p=this.g.Z();this.X=p;t:if(pD(this)){var g=kD(this.g);u="";var x=g.length,k=Mr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){as(this),Cl(this);var G="";break t}this.h.i=new a.TextDecoder}for(h=0;h<x;h++)this.h.h=!0,u+=this.h.i.decode(g[h],{stream:!(k&&h==x-1)});g.length=0,this.h.g+=u,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=p==200,ZP(this.i,this.u,this.A,this.l,this.R,Ft,p),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,Tt=this.g;if((Be=Tt.g?Tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(Be)){var Pe=Be;break t}}Pe=null}if(p=Pe)Io(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gm(this,p);else{this.o=!1,this.s=3,Ht(12),as(this),Cl(this);break e}}if(this.P){p=!0;let On;for(;!this.J&&this.C<G.length;)if(On=ek(this,G),On==Hm){Ft==4&&(this.s=4,Ht(14),p=!1),Io(this.i,this.l,null,"[Incomplete Response]");break}else if(On==hD){this.s=4,Ht(15),Io(this.i,this.l,G,"[Invalid Chunk]"),p=!1;break}else Io(this.i,this.l,On,null),Gm(this,On);if(pD(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ft!=4||G.length!=0||this.h.h||(this.s=1,Ht(16),p=!1),this.o=this.o&&p,!p)Io(this.i,this.l,G,"[Invalid Chunked Response]"),as(this),Cl(this);else if(0<G.length&&!this.W){this.W=!0;var Ot=this.j;Ot.g==this&&Ot.ba&&!Ot.M&&(Ot.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),Jm(Ot),Ot.M=!0,Ht(11))}}else Io(this.i,this.l,G,null),Gm(this,G);Ft==4&&as(this),this.o&&!this.J&&(Ft==4?UD(this.j,this):(this.o=!1,zc(this)))}else yk(this.g),p==400&&0<G.indexOf("Unknown SID")?(this.s=3,Ht(12)):(this.s=0,Ht(13)),as(this),Cl(this)}}}catch{}finally{}};function pD(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function ek(u,h){var p=u.C,g=h.indexOf(`
`,p);return g==-1?Hm:(p=Number(h.substring(p,g)),isNaN(p)?hD:(g+=1,g+p>h.length?Hm:(h=h.slice(g,g+p),u.C=g+p,h)))}hi.prototype.cancel=function(){this.J=!0,as(this)};function zc(u){u.S=Date.now()+u.I,mD(u,u.I)}function mD(u,h){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Il(m(u.ba,u),h)}function zm(u){u.B&&(a.clearTimeout(u.B),u.B=null)}hi.prototype.ba=function(){this.B=null;let u=Date.now();0<=u-this.S?(JP(this.i,this.A),this.L!=2&&(El(),Ht(17)),as(this),this.s=2,Cl(this)):mD(this,this.S-u)};function Cl(u){u.j.G==0||u.J||UD(u.j,u)}function as(u){zm(u);var h=u.M;h&&typeof h.ma=="function"&&h.ma(),u.M=null,rD(u.U),u.g&&(h=u.g,u.g=null,h.abort(),h.ma())}function Gm(u,h){try{var p=u.j;if(p.G!=0&&(p.g==u||Wm(p.h,u))){if(!u.K&&Wm(p.h,u)&&p.G==3){try{var g=p.Da.g.parse(h)}catch{g=null}if(Array.isArray(g)&&g.length==3){var x=g;if(x[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)Xc(p),Zc(p);else break e;Zm(p),Ht(18)}}else p.za=x[1],0<p.za-p.T&&37500>x[2]&&p.F&&p.v==0&&!p.C&&(p.C=Il(m(p.Za,p),6e3));if(1>=vD(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else us(p,11)}else if((u.K||p.g==u)&&Xc(p),!q(h))for(x=p.Da.g.parse(h),h=0;h<x.length;h++){let Pe=x[h];if(p.T=Pe[0],Pe=Pe[1],p.G==2)if(Pe[0]=="c"){p.K=Pe[1],p.ia=Pe[2];let Ot=Pe[3];Ot!=null&&(p.la=Ot,p.j.info("VER="+p.la));let Ft=Pe[4];Ft!=null&&(p.Aa=Ft,p.j.info("SVER="+p.Aa));let bo=Pe[5];bo!=null&&typeof bo=="number"&&0<bo&&(g=1.5*bo,p.L=g,p.j.info("backChannelRequestTimeoutMs_="+g)),g=p;let On=u.g;if(On){let td=On.g?On.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(td){var k=g.h;k.g||td.indexOf("spdy")==-1&&td.indexOf("quic")==-1&&td.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(Km(k,k.h),k.h=null))}if(g.D){let Xm=On.g?On.g.getResponseHeader("X-HTTP-Session-Id"):null;Xm&&(g.ya=Xm,Ge(g.I,g.D,Xm))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),g=p;var G=u;if(g.qa=qD(g,g.J?g.ia:null,g.W),G.K){_D(g.h,G);var Be=G,Tt=g.L;Tt&&(Be.I=Tt),Be.B&&(zm(Be),zc(Be)),g.g=G}else jD(g);0<p.i.length&&Jc(p)}else Pe[0]!="stop"&&Pe[0]!="close"||us(p,7);else p.G==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?us(p,7):Ym(p):Pe[0]!="noop"&&p.l&&p.l.ta(Pe),p.v=0)}}El(4)}catch{}}var tk=class{constructor(u,h){this.g=u,this.map=h}};function gD(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function yD(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function vD(u){return u.h?1:u.g?u.g.size:0}function Wm(u,h){return u.h?u.h==h:u.g?u.g.has(h):!1}function Km(u,h){u.g?u.g.add(h):u.h=h}function _D(u,h){u.h&&u.h==h?u.h=null:u.g&&u.g.has(h)&&u.g.delete(h)}gD.prototype.cancel=function(){if(this.i=wD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let u of this.g.values())u.cancel();this.g.clear()}};function wD(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let h=u.i;for(let p of u.g.values())h=h.concat(p.D);return h}return b(u.i)}function nk(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var h=[],p=u.length,g=0;g<p;g++)h.push(u[g]);return h}h=[],p=0;for(g in u)h[p++]=u[g];return h}function rk(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var h=[];u=u.length;for(var p=0;p<u;p++)h.push(p);return h}h=[],p=0;for(let g in u)h[p++]=g;return h}}}function ED(u,h){if(u.forEach&&typeof u.forEach=="function")u.forEach(h,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,h,void 0);else for(var p=rk(u),g=nk(u),x=g.length,k=0;k<x;k++)h.call(void 0,g[k],p&&p[k],u)}var ID=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ik(u,h){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var g=u[p].indexOf("="),x=null;if(0<=g){var k=u[p].substring(0,g);x=u[p].substring(g+1)}else k=u[p];h(k,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function ls(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ls){this.h=u.h,Gc(this,u.j),this.o=u.o,this.g=u.g,Wc(this,u.s),this.l=u.l;var h=u.i,p=new Sl;p.i=h.i,h.g&&(p.g=new Map(h.g),p.h=h.h),DD(this,p),this.m=u.m}else u&&(h=String(u).match(ID))?(this.h=!1,Gc(this,h[1]||"",!0),this.o=bl(h[2]||""),this.g=bl(h[3]||"",!0),Wc(this,h[4]),this.l=bl(h[5]||"",!0),DD(this,h[6]||"",!0),this.m=bl(h[7]||"")):(this.h=!1,this.i=new Sl(null,this.h))}ls.prototype.toString=function(){var u=[],h=this.j;h&&u.push(Tl(h,CD,!0),":");var p=this.g;return(p||h=="file")&&(u.push("//"),(h=this.o)&&u.push(Tl(h,CD,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(Tl(p,p.charAt(0)=="/"?ak:ok,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",Tl(p,uk)),u.join("")};function Ar(u){return new ls(u)}function Gc(u,h,p){u.j=p?bl(h,!0):h,u.j&&(u.j=u.j.replace(/:$/,""))}function Wc(u,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);u.s=h}else u.s=null}function DD(u,h,p){h instanceof Sl?(u.i=h,ck(u.i,u.h)):(p||(h=Tl(h,lk)),u.i=new Sl(h,u.h))}function Ge(u,h,p){u.i.set(h,p)}function Kc(u){return Ge(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function bl(u,h){return u?h?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Tl(u,h,p){return typeof u=="string"?(u=encodeURI(u).replace(h,sk),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function sk(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var CD=/[#\/\?@]/g,ok=/[#\?:]/g,ak=/[#\?]/g,lk=/[#\?@]/g,uk=/#/g;function Sl(u,h){this.h=this.g=null,this.i=u||null,this.j=!!h}function fi(u){u.g||(u.g=new Map,u.h=0,u.i&&ik(u.i,function(h,p){u.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}n=Sl.prototype,n.add=function(u,h){fi(this),this.i=null,u=Do(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(h),this.h+=1,this};function bD(u,h){fi(u),h=Do(u,h),u.g.has(h)&&(u.i=null,u.h-=u.g.get(h).length,u.g.delete(h))}function TD(u,h){return fi(u),h=Do(u,h),u.g.has(h)}n.forEach=function(u,h){fi(this),this.g.forEach(function(p,g){p.forEach(function(x){u.call(h,x,g,this)},this)},this)},n.na=function(){fi(this);let u=Array.from(this.g.values()),h=Array.from(this.g.keys()),p=[];for(let g=0;g<h.length;g++){let x=u[g];for(let k=0;k<x.length;k++)p.push(h[g])}return p},n.V=function(u){fi(this);let h=[];if(typeof u=="string")TD(this,u)&&(h=h.concat(this.g.get(Do(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)h=h.concat(u[p])}return h},n.set=function(u,h){return fi(this),this.i=null,u=Do(this,u),TD(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[h]),this.h+=1,this},n.get=function(u,h){return u?(u=this.V(u),0<u.length?String(u[0]):h):h};function SD(u,h,p){bD(u,h),0<p.length&&(u.i=null,u.g.set(Do(u,h),b(p)),u.h+=p.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let u=[],h=Array.from(this.g.keys());for(var p=0;p<h.length;p++){var g=h[p];let k=encodeURIComponent(String(g)),G=this.V(g);for(g=0;g<G.length;g++){var x=k;G[g]!==""&&(x+="="+encodeURIComponent(String(G[g]))),u.push(x)}}return this.i=u.join("&")};function Do(u,h){return h=String(h),u.j&&(h=h.toLowerCase()),h}function ck(u,h){h&&!u.j&&(fi(u),u.i=null,u.g.forEach(function(p,g){var x=g.toLowerCase();g!=x&&(bD(this,g),SD(this,x,p))},u)),u.j=h}function dk(u,h){let p=new Dl;if(a.Image){let g=new Image;g.onload=y(pi,p,"TestLoadImage: loaded",!0,h,g),g.onerror=y(pi,p,"TestLoadImage: error",!1,h,g),g.onabort=y(pi,p,"TestLoadImage: abort",!1,h,g),g.ontimeout=y(pi,p,"TestLoadImage: timeout",!1,h,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=u}else h(!1)}function hk(u,h){let p=new Dl,g=new AbortController,x=setTimeout(()=>{g.abort(),pi(p,"TestPingServer: timeout",!1,h)},1e4);fetch(u,{signal:g.signal}).then(k=>{clearTimeout(x),k.ok?pi(p,"TestPingServer: ok",!0,h):pi(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(x),pi(p,"TestPingServer: error",!1,h)})}function pi(u,h,p,g,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),g(p)}catch{}}function fk(){this.g=new QP}function pk(u,h,p){let g=p||"";try{ED(u,function(x,k){let G=x;c(x)&&(G=Lm(x)),h.push(g+k+"="+encodeURIComponent(G))})}catch(x){throw h.push(g+"type="+encodeURIComponent("_badmap")),x}}function Al(u){this.l=u.Ub||null,this.j=u.eb||!1}E(Al,jm),Al.prototype.g=function(){return new Qc(this.l,this.j)},Al.prototype.i=function(u){return function(){return u}}({});function Qc(u,h){kt.call(this),this.D=u,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(Qc,kt),n=Qc.prototype,n.open=function(u,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=h,this.readyState=1,xl(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(h.body=u),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ml(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,xl(this)),this.g&&(this.readyState=3,xl(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;AD(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function AD(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var h=u.value?u.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!u.done}))&&(this.response=this.responseText+=h)}u.done?Ml(this):xl(this),this.readyState==3&&AD(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,Ml(this))},n.Qa=function(u){this.g&&(this.response=u,Ml(this))},n.ga=function(){this.g&&Ml(this)};function Ml(u){u.readyState=4,u.l=null,u.j=null,u.v=null,xl(u)}n.setRequestHeader=function(u,h){this.u.append(u,h)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let u=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=h.next();return u.join(`\r
`)};function xl(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Qc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function MD(u){let h="";return J(u,function(p,g){h+=g,h+=":",h+=p,h+=`\r
`}),h}function Qm(u,h,p){e:{for(g in p){var g=!1;break e}g=!0}g||(p=MD(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):Ge(u,h,p))}function it(u){kt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(it,kt);var mk=/^https?$/i,gk=["POST","PUT"];n=it.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,h,p,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);h=h?h.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$m.g(),this.v=this.o?iD(this.o):iD($m),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(h,String(u),!0),this.B=!1}catch(k){xD(this,k);return}if(u=p||"",p=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var x in g)p.set(x,g[x]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let k of g.keys())p.set(k,g.get(k));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(p.keys()).find(k=>k.toLowerCase()=="content-type"),x=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(gk,h,void 0))||g||x||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[k,G]of p)this.g.setRequestHeader(k,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{PD(this),this.u=!0,this.g.send(u),this.u=!1}catch(k){xD(this,k)}};function xD(u,h){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=h,u.m=5,RD(u),Yc(u)}function RD(u){u.A||(u.A=!0,$t(u,"complete"),$t(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,$t(this,"complete"),$t(this,"abort"),Yc(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yc(this,!0)),it.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ND(this):this.bb())},n.bb=function(){ND(this)};function ND(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Mr(u)!=4||u.Z()!=2)){if(u.u&&Mr(u)==4)eD(u.Ea,0,u);else if($t(u,"readystatechange"),Mr(u)==4){u.h=!1;try{let G=u.Z();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var g;if(g=G===0){var x=String(u.D).match(ID)[1]||null;!x&&a.self&&a.self.location&&(x=a.self.location.protocol.slice(0,-1)),g=!mk.test(x?x.toLowerCase():"")}p=g}if(p)$t(u,"complete"),$t(u,"success");else{u.m=6;try{var k=2<Mr(u)?u.g.statusText:""}catch{k=""}u.l=k+" ["+u.Z()+"]",RD(u)}}finally{Yc(u)}}}}function Yc(u,h){if(u.g){PD(u);let p=u.g,g=u.v[0]?()=>{}:null;u.g=null,u.v=null,h||$t(u,"ready");try{p.onreadystatechange=g}catch{}}}function PD(u){u.I&&(a.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function Mr(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<Mr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var h=this.g.responseText;return u&&h.indexOf(u)==0&&(h=h.substring(u.length)),KP(h)}};function kD(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function yk(u){let h={};u=(u.g&&2<=Mr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<u.length;g++){if(q(u[g]))continue;var p=A(u[g]);let x=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();let k=h[x]||[];h[x]=k,k.push(p)}C(h,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Rl(u,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||h}function OD(u){this.Aa=0,this.i=[],this.j=new Dl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Rl("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Rl("baseRetryDelayMs",5e3,u),this.cb=Rl("retryDelaySeedMs",1e4,u),this.Wa=Rl("forwardChannelMaxRetries",2,u),this.wa=Rl("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new gD(u&&u.concurrentRequestLimit),this.Da=new fk,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=OD.prototype,n.la=8,n.G=1,n.connect=function(u,h,p,g){Ht(0),this.W=u,this.H=h||{},p&&g!==void 0&&(this.H.OSID=p,this.H.OAID=g),this.F=this.X,this.I=qD(this,null,this.W),Jc(this)};function Ym(u){if(FD(u),u.G==3){var h=u.U++,p=Ar(u.I);if(Ge(p,"SID",u.K),Ge(p,"RID",h),Ge(p,"TYPE","terminate"),Nl(u,p),h=new hi(u,u.j,h),h.L=2,h.v=Kc(Ar(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!p&&a.Image&&(new Image().src=h.v,p=!0),p||(h.g=zD(h.j,null),h.g.ea(h.v)),h.F=Date.now(),zc(h)}HD(u)}function Zc(u){u.g&&(Jm(u),u.g.cancel(),u.g=null)}function FD(u){Zc(u),u.u&&(a.clearTimeout(u.u),u.u=null),Xc(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Jc(u){if(!yD(u.h)&&!u.s){u.s=!0;var h=u.Ga;re||ct(),ae||(re(),ae=!0),De.add(h,u),u.B=0}}function vk(u,h){return vD(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=h.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Il(m(u.Ga,u,h),$D(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;let x=new hi(this,this.j,u),k=this.o;if(this.S&&(k?(k=_(k),S(k,this.S)):k=this.S),this.m!==null||this.O||(x.H=k,k=null),this.P)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var g=this.i[p];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(h+=g,4096<h){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=LD(this,x,h),p=Ar(this.I),Ge(p,"RID",u),Ge(p,"CVER",22),this.D&&Ge(p,"X-HTTP-Session-Id",this.D),Nl(this,p),k&&(this.O?h="headers="+encodeURIComponent(String(MD(k)))+"&"+h:this.m&&Qm(p,this.m,k)),Km(this.h,x),this.Ua&&Ge(p,"TYPE","init"),this.P?(Ge(p,"$req",h),Ge(p,"SID","null"),x.T=!0,qm(x,p,null)):qm(x,p,h),this.G=2}}else this.G==3&&(u?VD(this,u):this.i.length==0||yD(this.h)||VD(this))};function VD(u,h){var p;h?p=h.l:p=u.U++;let g=Ar(u.I);Ge(g,"SID",u.K),Ge(g,"RID",p),Ge(g,"AID",u.T),Nl(u,g),u.m&&u.o&&Qm(g,u.m,u.o),p=new hi(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),h&&(u.i=h.D.concat(u.i)),h=LD(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Km(u.h,p),qm(p,g,h)}function Nl(u,h){u.H&&J(u.H,function(p,g){Ge(h,g,p)}),u.l&&ED({},function(p,g){Ge(h,g,p)})}function LD(u,h,p){p=Math.min(u.i.length,p);var g=u.l?m(u.l.Na,u.l,u):null;e:{var x=u.i;let k=-1;for(;;){let G=["count="+p];k==-1?0<p?(k=x[0].g,G.push("ofs="+k)):k=0:G.push("ofs="+k);let Be=!0;for(let Tt=0;Tt<p;Tt++){let Pe=x[Tt].g,Ot=x[Tt].map;if(Pe-=k,0>Pe)k=Math.max(0,x[Tt].g-100),Be=!1;else try{pk(Ot,G,"req"+Pe+"_")}catch{g&&g(Ot)}}if(Be){g=G.join("&");break e}}}return u=u.i.splice(0,p),h.D=u,g}function jD(u){if(!u.g&&!u.u){u.Y=1;var h=u.Fa;re||ct(),ae||(re(),ae=!0),De.add(h,u),u.v=0}}function Zm(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Il(m(u.Fa,u),$D(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,BD(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Il(m(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ht(10),Zc(this),BD(this))};function Jm(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function BD(u){u.g=new hi(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var h=Ar(u.qa);Ge(h,"RID","rpc"),Ge(h,"SID",u.K),Ge(h,"AID",u.T),Ge(h,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ge(h,"TO",u.ja),Ge(h,"TYPE","xmlhttp"),Nl(u,h),u.m&&u.o&&Qm(h,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=Kc(Ar(h)),p.m=null,p.P=!0,fD(p,u)}n.Za=function(){this.C!=null&&(this.C=null,Zc(this),Zm(this),Ht(19))};function Xc(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function UD(u,h){var p=null;if(u.g==h){Xc(u),Jm(u),u.g=null;var g=2}else if(Wm(u.h,h))p=h.D,_D(u.h,h),g=1;else return;if(u.G!=0){if(h.o)if(g==1){p=h.m?h.m.length:0,h=Date.now()-h.F;var x=u.B;g=$c(),$t(g,new uD(g,p)),Jc(u)}else jD(u);else if(x=h.s,x==3||x==0&&0<h.X||!(g==1&&vk(u,h)||g==2&&Zm(u)))switch(p&&0<p.length&&(h=u.h,h.i=h.i.concat(p)),x){case 1:us(u,5);break;case 4:us(u,10);break;case 3:us(u,6);break;default:us(u,2)}}}function $D(u,h){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*h}function us(u,h){if(u.j.info("Error code "+h),h==2){var p=m(u.fb,u),g=u.Xa;let x=!g;g=new ls(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Gc(g,"https"),Kc(g),x?dk(g.toString(),p):hk(g.toString(),p)}else Ht(2);u.G=0,u.l&&u.l.sa(h),HD(u),FD(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Ht(2)):(this.j.info("Failed to ping google.com"),Ht(1))};function HD(u){if(u.G=0,u.ka=[],u.l){let h=wD(u.h);(h.length!=0||u.i.length!=0)&&(M(u.ka,h),M(u.ka,u.i),u.h.i.length=0,b(u.i),u.i.length=0),u.l.ra()}}function qD(u,h,p){var g=p instanceof ls?Ar(p):new ls(p);if(g.g!="")h&&(g.g=h+"."+g.g),Wc(g,g.s);else{var x=a.location;g=x.protocol,h=h?h+"."+x.hostname:x.hostname,x=+x.port;var k=new ls(null);g&&Gc(k,g),h&&(k.g=h),x&&Wc(k,x),p&&(k.l=p),g=k}return p=u.D,h=u.ya,p&&h&&Ge(g,p,h),Ge(g,"VER",u.la),Nl(u,g),g}function zD(u,h,p){if(h&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=u.Ca&&!u.pa?new it(new Al({eb:p})):new it(u.pa),h.Ha(u.J),h}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function GD(){}n=GD.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ed(){}ed.prototype.g=function(u,h){return new an(u,h)};function an(u,h){kt.call(this),this.g=new OD(h),this.l=u,this.h=h&&h.messageUrlParams||null,u=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(u?u["X-WebChannel-Content-Type"]=h.messageContentType:u={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(u?u["X-WebChannel-Client-Profile"]=h.va:u={"X-WebChannel-Client-Profile":h.va}),this.g.S=u,(u=h&&h.Sb)&&!q(u)&&(this.g.m=u),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!q(h)&&(this.g.D=h,u=this.h,u!==null&&h in u&&(u=this.h,h in u&&delete u[h])),this.j=new Co(this)}E(an,kt),an.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){Ym(this.g)},an.prototype.o=function(u){var h=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=Lm(u),u=p);h.i.push(new tk(h.Ya++,u)),h.G==3&&Jc(h)},an.prototype.N=function(){this.g.l=null,delete this.j,Ym(this.g),delete this.g,an.aa.N.call(this)};function WD(u){Bm.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var h=u.__sm__;if(h){e:{for(let p in h){u=p;break e}u=void 0}(this.i=u)&&(u=this.i,h=h!==null&&u in h?h[u]:void 0),this.data=h}else this.data=u}E(WD,Bm);function KD(){Um.call(this),this.status=1}E(KD,Um);function Co(u){this.g=u}E(Co,GD),Co.prototype.ua=function(){$t(this.g,"a")},Co.prototype.ta=function(u){$t(this.g,new WD(u))},Co.prototype.sa=function(u){$t(this.g,new KD)},Co.prototype.ra=function(){$t(this.g,"b")},ed.prototype.createWebChannel=ed.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,cw=Jr.createWebChannelTransport=function(){return new ed},uw=Jr.getStatEventTarget=function(){return $c()},lw=Jr.Event=os,Uf=Jr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Hc.NO_ERROR=0,Hc.TIMEOUT=8,Hc.HTTP_ERROR=6,Gu=Jr.ErrorCode=Hc,cD.COMPLETE="complete",aw=Jr.EventType=cD,sD.EventType=wl,wl.OPEN="a",wl.CLOSE="b",wl.ERROR="c",wl.MESSAGE="d",kt.prototype.listen=kt.prototype.K,Ma=Jr.WebChannel=sD,R4=Jr.FetchXmlHttpFactory=Al,it.prototype.listenOnce=it.prototype.L,it.prototype.getLastError=it.prototype.Ka,it.prototype.getLastErrorCode=it.prototype.Ba,it.prototype.getStatus=it.prototype.Z,it.prototype.getResponseJson=it.prototype.Oa,it.prototype.getResponseText=it.prototype.oa,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Ha,ow=Jr.XhrIo=it}).apply(typeof Bf<"u"?Bf:typeof self<"u"?self:typeof window<"u"?window:{});var yx="@firebase/firestore";var vt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};vt.UNAUTHENTICATED=new vt(null),vt.GOOGLE_CREDENTIALS=new vt("google-credentials-uid"),vt.FIRST_PARTY=new vt("first-party-uid"),vt.MOCK_USER=new vt("mock-user");var ol="10.14.0";var qi=new id("@firebase/firestore");function ka(){return qi.logLevel}function w1(n){qi.setLogLevel(n)}function B(n,...e){if(qi.logLevel<=Xn.DEBUG){let t=e.map(mE);qi.debug(`Firestore (${ol}): ${n}`,...t)}}function dt(n,...e){if(qi.logLevel<=Xn.ERROR){let t=e.map(mE);qi.error(`Firestore (${ol}): ${n}`,...t)}}function Wn(n,...e){if(qi.logLevel<=Xn.WARN){let t=e.map(mE);qi.warn(`Firestore (${ol}): ${n}`,...t)}}function mE(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function ee(n="Unexpected state"){let e=`FIRESTORE (${ol}) INTERNAL ASSERTION FAILED: `+n;throw dt(e),new Error(e)}function ne(n,e){n||ee()}function E1(n,e){n||ee()}function K(n,e){return n}var O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},L=class extends tC{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Dt=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Zf=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},gw=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(vt.UNAUTHENTICATED))}shutdown(){}},yw=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},vw=class{constructor(e){this.t=e,this.currentUser=vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ne(this.o===void 0);let r=this.i,i=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve(),s=new Dt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Dt,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let l=s;e.enqueueRetryable(()=>P(this,null,function*(){yield l.promise,yield i(this.currentUser)}))},a=l=>{B("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?a(l):(B("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Dt)}},0),o()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(B("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ne(typeof r.accessToken=="string"),new Zf(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return ne(e===null||typeof e=="string"),new vt(e)}},_w=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=vt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},ww=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new _w(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(vt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Ew=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Iw=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){ne(this.o===void 0);let r=s=>{s.error!=null&&B("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,B("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{B("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):B("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ne(typeof t.token=="string"),this.R=t.token,new Ew(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function N4(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var Jf=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=N4(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}};function he(n,e){return n<e?-1:n>e?1:0}function Ha(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function I1(n){return n+"\0"}var et=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new L(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new L(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new L(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new L(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?he(this.nanoseconds,e.nanoseconds):he(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var oe=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new et(0,0))}static max(){return new n(new et(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Xf=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&ee(),r===void 0?r=e.length-t:r>e.length-t&&ee(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},xe=class n extends Xf{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new L(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},P4=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ht=class n extends Xf{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return P4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,s=()=>{if(r.length===0)throw new L(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new L(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new L(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new L(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var Q=class n{constructor(e){this.path=e}static fromPath(e){return new n(xe.fromString(e))}static fromName(e){return new n(xe.fromString(e).popFirst(5))}static empty(){return new n(xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return xe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new xe(e.slice()))}};var qa=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};function Dw(n){return n.fields.find(e=>e.kind===2)}function Hs(n){return n.fields.filter(e=>e.kind!==2)}qa.UNKNOWN_ID=-1;var Ba=class{constructor(e,t){this.fieldPath=e,this.kind=t}};var ic=class n{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new n(0,Nn.min())}};function D1(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=oe.fromTimestamp(r===1e9?new et(t+1,0):new et(t,r));return new Nn(i,Q.empty(),e)}function C1(n){return new Nn(n.readTime,n.key,-1)}var Nn=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(oe.min(),Q.empty(),-1)}static max(){return new n(oe.max(),Q.empty(),-1)}};function gE(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Q.comparator(n.documentKey,e.documentKey),t!==0?t:he(n.largestBatchId,e.largestBatchId))}var b1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ep=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function es(n){return P(this,null,function*(){if(n.code!==O.FAILED_PRECONDITION||n.message!==b1)throw n;B("LocalStore","Unexpectedly lost primary lease")})}var N=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},l=>r(l))}),o=!0,s===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let l=0;l<s;l++){let c=l;t(e[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,t){return new n((r,i)=>{let s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}};var tp=class n{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new Dt,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new Qs(e,t.error)):this.V.resolve()},this.transaction.onerror=r=>{let i=yE(r.target.error);this.V.reject(new Qs(e,i))}}static open(e,t,r,i){try{return new n(t,e.transaction(i,r))}catch(s){throw new Qs(t,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(B("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let t=this.transaction.objectStore(e);return new bw(t)}},zi=class n{constructor(e,t,r){this.name=e,this.version=t,this.p=r,n.S(Pl())===12.2&&dt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return B("SimpleDb","Removing database:",e),qs(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!rd())return!1;if(n.v())return!0;let e=Pl(),t=n.S(e),r=0<t&&t<10,i=T1(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,t){return e.store(t)}static S(e){let t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}M(e){return P(this,null,function*(){return this.db||(B("SimpleDb","Opening database:",this.name),this.db=yield new Promise((t,r)=>{let i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{let o=s.target.result;t(o)},i.onblocked=()=>{r(new Qs(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{let o=s.target.error;o.name==="VersionError"?r(new L(O.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new L(O.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Qs(e,o))},i.onupgradeneeded=s=>{B("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);let o=s.target.result;this.p.O(o,i.transaction,s.oldVersion,this.version).next(()=>{B("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=t=>this.N(t)),this.db})}L(e){this.N=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){return P(this,null,function*(){let s=t==="readonly",o=0;for(;;){++o;try{this.db=yield this.M(e);let a=tp.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(c=>(a.g(),c)).catch(c=>(a.abort(c),N.reject(c))).toPromise();return l.catch(()=>{}),yield a.m,l}catch(a){let l=a,c=l.name!=="FirebaseError"&&o<3;if(B("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}})}close(){this.db&&this.db.close(),this.db=void 0}};function T1(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}var Cw=class{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return qs(this.B.delete())}},Qs=class extends L{constructor(e,t){super(O.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}};function ts(n){return n.name==="IndexedDbTransactionError"}var bw=class{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(B("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(B("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),qs(r)}add(e){return B("SimpleDb","ADD",this.store.name,e,e),qs(this.store.add(e))}get(e){return qs(this.store.get(e)).next(t=>(t===void 0&&(t=null),B("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return B("SimpleDb","DELETE",this.store.name,e),qs(this.store.delete(e))}count(){return B("SimpleDb","COUNT",this.store.name),qs(this.store.count())}U(e,t){let r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){let s=i.getAll(r.range);return new N((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{let s=this.cursor(r),o=[];return this.W(s,(a,l)=>{o.push(l)}).next(()=>o)}}G(e,t){let r=this.store.getAll(e,t===null?void 0:t);return new N((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}j(e,t){B("SimpleDb","DELETE ALL",this.store.name);let r=this.options(e,t);r.H=!1;let i=this.cursor(r);return this.W(i,(s,o,a)=>a.delete())}J(e,t){let r;t?r=e:(r={},t=e);let i=this.cursor(r);return this.W(i,t)}Y(e){let t=this.cursor({});return new N((r,i)=>{t.onerror=s=>{let o=yE(s.target.error);i(o)},t.onsuccess=s=>{let o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}W(e,t){let r=[];return new N((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{let a=o.target.result;if(!a)return void i();let l=new Cw(a),c=t(a.primaryKey,a.value,l);if(c instanceof N){let d=c.catch(f=>(l.done(),N.reject(f)));r.push(d)}l.isDone?i():l.K===null?a.continue():a.continue(l.K)}}).next(()=>N.waitFor(r))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){let r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}};function qs(n){return new N((e,t)=>{n.onsuccess=r=>{let i=r.target.result;e(i)},n.onerror=r=>{let i=yE(r.target.error);t(i)}})}var vx=!1;function yE(n){let e=zi.S(Pl());if(e>=12.2&&e<13){let t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){let r=new L("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return vx||(vx=!0,setTimeout(()=>{throw r},0)),r}}return n}var Tw=class{constructor(e,t){this.asyncQueue=e,this.Z=t,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){B("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,()=>P(this,null,function*(){this.task=null;try{B("IndexBackfiller",`Documents written: ${yield this.Z.ee()}`)}catch(t){ts(t)?B("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",t):yield es(t)}yield this.X(6e4)}))}},Sw=class{constructor(e,t){this.localStore=e,this.persistence=t}ee(e=50){return P(this,null,function*(){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.te(t,e))})}te(e,t){let r=new Set,i=t,s=!0;return N.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return B("IndexBackfiller",`Processing collection: ${o}`),this.ne(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>t-i)}ne(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(s=>{let o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.re(i,s)).next(a=>(B("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>o.size)}))}re(e,t){let r=e;return t.changes.forEach((i,s)=>{let o=C1(s);gE(o,r)>0&&(r=o)}),new Nn(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}};var mn=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function bc(n){return n==null}function sc(n){return n===0&&1/n==-1/0}function S1(n){return typeof n=="number"&&Number.isInteger(n)&&!sc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Yt(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=_x(e)),e=k4(n.get(t),e);return _x(e)}function k4(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let s=n.charAt(i);switch(s){case"\0":t+="";break;case"":t+="";break;default:t+=s}}return t}function _x(n){return n+""}function pr(n){let e=n.length;if(ne(e>=2),e===2)return ne(n.charAt(0)===""&&n.charAt(1)===""),xe.emptyPath();let t=e-2,r=[],i="";for(let s=0;s<e;){let o=n.indexOf("",s);switch((o<0||o>t)&&ee(),n.charAt(o+1)){case"":let a=n.substring(s,o),l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=n.substring(s,o),i+="\0";break;case"":i+=n.substring(s,o+1);break;default:ee()}s=o+2}return new xe(r)}var wx=["userId","batchId"];function Gf(n,e){return[n,Yt(e)]}function A1(n,e,t){return[n,Yt(e),t]}var O4={},F4=["prefixPath","collectionGroup","readTime","documentId"],V4=["prefixPath","collectionGroup","documentId"],L4=["collectionGroup","readTime","prefixPath","documentId"],j4=["canonicalId","targetId"],B4=["targetId","path"],U4=["path","targetId"],$4=["collectionId","parent"],H4=["indexId","uid"],q4=["uid","sequenceNumber"],z4=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],G4=["indexId","uid","orderedDocumentKey"],W4=["userId","collectionPath","documentId"],K4=["userId","collectionPath","largestBatchId"],Q4=["userId","collectionGroup","largestBatchId"],M1=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Y4=[...M1,"documentOverlays"],x1=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],R1=x1,vE=[...R1,"indexConfiguration","indexState","indexEntries"],Z4=vE,J4=[...vE,"globals"];var oc=class extends ep{constructor(e,t){super(),this._e=e,this.currentSequenceNumber=t}};function Ct(n,e){let t=K(n);return zi.F(t._e,e)}function Ex(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ao(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function N1(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Ke=class n{constructor(e,t){this.comparator=e,this.root=t||gr.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,gr.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ja(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ja(this.root,e,this.comparator,!1)}getReverseIterator(){return new ja(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ja(this.root,e,this.comparator,!0)}},ja=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},gr=class n{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new n(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ee();let e=this.left.check();if(e!==this.right.check())throw ee();return e+(this.isRed()?0:1)}};gr.EMPTY=null,gr.RED=!0,gr.BLACK=!1;gr.EMPTY=new class{constructor(){this.size=0}get key(){throw ee()}get value(){throw ee()}get color(){throw ee()}get left(){throw ee()}get right(){throw ee()}copy(e,t,r,i,s){return this}insert(e,t,r){return new gr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var $e=class n{constructor(e){this.comparator=e,this.data=new Ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new np(this.data.getIterator())}getIteratorFrom(e){return new np(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},np=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};function xa(n){return n.hasNext()?n.getNext():void 0}var gn=class n{constructor(e){this.fields=e,e.sort(ht.comparator)}static empty(){return new n([])}unionWith(e){let t=new $e(ht.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ha(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var rp=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};function P1(){return typeof atob<"u"}var pt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new rp("Invalid base64 string: "+s):s}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return he(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};pt.EMPTY_BYTE_STRING=new pt("");var X4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ti(n){if(ne(!!n),typeof n=="string"){let e=0,t=X4.exec(n);if(ne(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Je(n.seconds),nanos:Je(n.nanos)}}function Je(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Gi(n){return typeof n=="string"?pt.fromBase64String(n):pt.fromUint8Array(n)}function Kp(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function _E(n){let e=n.mapValue.fields.__previous_value__;return Kp(e)?_E(e):e}function ac(n){let e=ti(n.mapValue.fields.__local_write_time__.timestampValue);return new et(e.seconds,e.nanos)}var Aw=class{constructor(e,t,r,i,s,o,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}},Wi=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var $i={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Wf={nullValue:"NULL_VALUE"};function Ys(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Kp(n)?4:k1(n)?9007199254740991:Qp(n)?10:11:ee()}function _r(n,e){if(n===e)return!0;let t=Ys(n);if(t!==Ys(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ac(n).isEqual(ac(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=ti(i.timestampValue),a=ti(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return Gi(i.bytesValue).isEqual(Gi(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return Je(i.geoPointValue.latitude)===Je(s.geoPointValue.latitude)&&Je(i.geoPointValue.longitude)===Je(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Je(i.integerValue)===Je(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Je(i.doubleValue),a=Je(s.doubleValue);return o===a?sc(o)===sc(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return Ha(n.arrayValue.values||[],e.arrayValue.values||[],_r);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Ex(o)!==Ex(a))return!1;for(let l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!_r(o[l],a[l])))return!1;return!0}(n,e);default:return ee()}}function lc(n,e){return(n.values||[]).find(t=>_r(t,e))!==void 0}function Ki(n,e){if(n===e)return 0;let t=Ys(n),r=Ys(e);if(t!==r)return he(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return he(n.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Je(s.integerValue||s.doubleValue),l=Je(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return Ix(n.timestampValue,e.timestampValue);case 4:return Ix(ac(n),ac(e));case 5:return he(n.stringValue,e.stringValue);case 6:return function(s,o){let a=Gi(s),l=Gi(o);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){let d=he(a[c],l[c]);if(d!==0)return d}return he(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){let a=he(Je(s.latitude),Je(o.latitude));return a!==0?a:he(Je(s.longitude),Je(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Dx(n.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,d;let f=s.fields||{},m=o.fields||{},y=(a=f.value)===null||a===void 0?void 0:a.arrayValue,E=(l=m.value)===null||l===void 0?void 0:l.arrayValue,b=he(((c=y?.values)===null||c===void 0?void 0:c.length)||0,((d=E?.values)===null||d===void 0?void 0:d.length)||0);return b!==0?b:Dx(y,E)}(n.mapValue,e.mapValue);case 11:return function(s,o){if(s===$i.mapValue&&o===$i.mapValue)return 0;if(s===$i.mapValue)return 1;if(o===$i.mapValue)return-1;let a=s.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){let m=he(l[f],d[f]);if(m!==0)return m;let y=Ki(a[l[f]],c[d[f]]);if(y!==0)return y}return he(l.length,d.length)}(n.mapValue,e.mapValue);default:throw ee()}}function Ix(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return he(n,e);let t=ti(n),r=ti(e),i=he(t.seconds,r.seconds);return i!==0?i:he(t.nanos,r.nanos)}function Dx(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let s=Ki(t[i],r[i]);if(s)return s}return he(t.length,r.length)}function za(n){return Mw(n)}function Mw(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=ti(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Gi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Q.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let s of t.values||[])i?i=!1:r+=",",r+=Mw(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${Mw(t.fields[o])}`;return i+"}"}(n.mapValue):ee()}function Zs(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function xw(n){return!!n&&"integerValue"in n}function uc(n){return!!n&&"arrayValue"in n}function Cx(n){return!!n&&"nullValue"in n}function bx(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Kf(n){return!!n&&"mapValue"in n}function Qp(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Xu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return ao(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Xu(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Xu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function k1(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var O1={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function eH(n){return"nullValue"in n?Wf:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Zs(Wi.empty(),Q.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?Qp(n)?O1:{mapValue:{}}:ee()}function tH(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Zs(Wi.empty(),Q.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?O1:"mapValue"in n?Qp(n)?{mapValue:{}}:$i:ee()}function Tx(n,e){let t=Ki(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function Sx(n,e){let t=Ki(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}var Bt=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Kf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xu(t)}setAll(e){let t=ht.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){let l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=Xu(o):i.push(a.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){let t=this.field(e.popLast());Kf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return _r(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Kf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ao(t,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new n(Xu(this.value))}};function F1(n){let e=[];return ao(n.fields,(t,r)=>{let i=new ht([t]);if(Kf(r)){let s=F1(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new gn(e)}var _t=class n{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new n(e,0,oe.min(),oe.min(),oe.min(),Bt.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,oe.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,oe.min(),oe.min(),Bt.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,oe.min(),oe.min(),Bt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var wr=class{constructor(e,t){this.position=e,this.inclusive=t}};function Ax(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let s=e[i],o=n.position[i];if(s.field.isKeyField()?r=Q.comparator(Q.fromName(o.referenceValue),t.key):r=Ki(o,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Mx(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!_r(n.position[t],e.position[t]))return!1;return!0}var Js=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function nH(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var ip=class{},be=class n extends ip{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new Pw(e,t,r):t==="array-contains"?new Fw(e,r):t==="in"?new sp(e,r):t==="not-in"?new Vw(e,r):t==="array-contains-any"?new Lw(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new kw(e,r):new Ow(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Ki(t,this.value)):t!==null&&Ys(this.value)===Ys(t)&&this.matchesComparison(Ki(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Le=class n extends ip{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return Ga(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function Ga(n){return n.op==="and"}function Rw(n){return n.op==="or"}function wE(n){return V1(n)&&Ga(n)}function V1(n){for(let e of n.filters)if(e instanceof Le)return!1;return!0}function Nw(n){if(n instanceof be)return n.field.canonicalString()+n.op.toString()+za(n.value);if(wE(n))return n.filters.map(e=>Nw(e)).join(",");{let e=n.filters.map(t=>Nw(t)).join(",");return`${n.op}(${e})`}}function L1(n,e){return n instanceof be?function(r,i){return i instanceof be&&r.op===i.op&&r.field.isEqual(i.field)&&_r(r.value,i.value)}(n,e):n instanceof Le?function(r,i){return i instanceof Le&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&L1(o,i.filters[a]),!0):!1}(n,e):void ee()}function j1(n,e){let t=n.filters.concat(e);return Le.create(t,n.op)}function B1(n){return n instanceof be?function(t){return`${t.field.canonicalString()} ${t.op} ${za(t.value)}`}(n):n instanceof Le?function(t){return t.op.toString()+" {"+t.getFilters().map(B1).join(" ,")+"}"}(n):"Filter"}var Pw=class extends be{constructor(e,t,r){super(e,t,r),this.key=Q.fromName(r.referenceValue)}matches(e){let t=Q.comparator(e.key,this.key);return this.matchesComparison(t)}},kw=class extends be{constructor(e,t){super(e,"in",t),this.keys=U1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},Ow=class extends be{constructor(e,t){super(e,"not-in",t),this.keys=U1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function U1(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Q.fromName(r.referenceValue))}var Fw=class extends be{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return uc(t)&&lc(t.arrayValue,this.value)}},sp=class extends be{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&lc(this.value.arrayValue,t)}},Vw=class extends be{constructor(e,t){super(e,"not-in",t)}matches(e){if(lc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!lc(this.value.arrayValue,t)}},Lw=class extends be{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!uc(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>lc(this.value.arrayValue,r))}};var jw=class{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function Bw(n,e=null,t=[],r=[],i=null,s=null,o=null){return new jw(n,e,t,r,i,s,o)}function Xs(n){let e=K(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Nw(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),bc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>za(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>za(r)).join(",")),e.ue=t}return e.ue}function Tc(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!nH(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!L1(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Mx(n.startAt,e.startAt)&&Mx(n.endAt,e.endAt)}function op(n){return Q.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function ap(n,e){return n.filters.filter(t=>t instanceof be&&t.field.isEqual(e))}function xx(n,e,t){let r=Wf,i=!0;for(let s of ap(n,e)){let o=Wf,a=!0;switch(s.op){case"<":case"<=":o=eH(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=Wf}Tx({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(t!==null){for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){let o=t.position[s];Tx({value:r,inclusive:i},{value:o,inclusive:t.inclusive})<0&&(r=o,i=t.inclusive);break}}return{value:r,inclusive:i}}function Rx(n,e,t){let r=$i,i=!0;for(let s of ap(n,e)){let o=$i,a=!0;switch(s.op){case">=":case">":o=tH(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=$i}Sx({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(t!==null){for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){let o=t.position[s];Sx({value:r,inclusive:i},{value:o,inclusive:t.inclusive})>0&&(r=o,i=t.inclusive);break}}return{value:r,inclusive:i}}var Kn=class{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function $1(n,e,t,r,i,s,o,a){return new Kn(n,e,t,r,i,s,o,a)}function al(n){return new Kn(n)}function Nx(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function EE(n){return n.collectionGroup!==null}function Ua(n){let e=K(n);if(e.ce===null){e.ce=[];let t=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new $e(ht.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Js(s,r))}),t.has(ht.keyField().canonicalString())||e.ce.push(new Js(ht.keyField(),r))}return e.ce}function Zt(n){let e=K(n);return e.le||(e.le=rH(e,Ua(n))),e.le}function rH(n,e){if(n.limitType==="F")return Bw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Js(i.field,s)});let t=n.endAt?new wr(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new wr(n.startAt.position,n.startAt.inclusive):null;return Bw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Uw(n,e){let t=n.filters.concat([e]);return new Kn(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function lp(n,e,t){return new Kn(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Sc(n,e){return Tc(Zt(n),Zt(e))&&n.limitType===e.limitType}function H1(n){return`${Xs(Zt(n))}|lt:${n.limitType}`}function Oa(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>B1(i)).join(", ")}]`),bc(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>za(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>za(i)).join(",")),`Target(${r})`}(Zt(n))}; limitType=${n.limitType})`}function Ac(n,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Q.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(let s of Ua(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){let c=Ax(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Ua(r),i)||r.endAt&&!function(o,a,l){let c=Ax(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Ua(r),i))}(n,e)}function q1(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function z1(n){return(e,t)=>{let r=!1;for(let i of Ua(n)){let s=iH(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function iH(n,e,t){let r=n.field.isKeyField()?Q.comparator(e.key,t.key):function(s,o,a){let l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Ki(l,c):ee()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ee()}}var Er=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ao(this.inner,(t,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return N1(this.inner)}size(){return this.innerSize}};var sH=new Ke(Q.comparator);function on(){return sH}var G1=new Ke(Q.comparator);function Zu(...n){let e=G1;for(let t of n)e=e.insert(t.key,t);return e}function W1(n){let e=G1;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function mr(){return ec()}function K1(){return ec()}function ec(){return new Er(n=>n.toString(),(n,e)=>n.isEqual(e))}var oH=new Ke(Q.comparator),aH=new $e(Q.comparator);function fe(...n){let e=aH;for(let t of n)e=e.add(t);return e}var lH=new $e(he);function IE(){return lH}function DE(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sc(e)?"-0":e}}function Q1(n){return{integerValue:""+n}}function Y1(n,e){return S1(e)?Q1(e):DE(n,e)}var Wa=class{constructor(){this._=void 0}};function uH(n,e,t){return n instanceof Qi?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Kp(s)&&(s=_E(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof ni?J1(n,e):n instanceof ri?X1(n,e):function(i,s){let o=Z1(i,s),a=Px(o)+Px(i.Pe);return xw(o)&&xw(i.Pe)?Q1(a):DE(i.serializer,a)}(n,e)}function cH(n,e,t){return n instanceof ni?J1(n,e):n instanceof ri?X1(n,e):t}function Z1(n,e){return n instanceof Yi?function(r){return xw(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Qi=class extends Wa{},ni=class extends Wa{constructor(e){super(),this.elements=e}};function J1(n,e){let t=eR(e);for(let r of n.elements)t.some(i=>_r(i,r))||t.push(r);return{arrayValue:{values:t}}}var ri=class extends Wa{constructor(e){super(),this.elements=e}};function X1(n,e){let t=eR(e);for(let r of n.elements)t=t.filter(i=>!_r(i,r));return{arrayValue:{values:t}}}var Yi=class extends Wa{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function Px(n){return Je(n.integerValue||n.doubleValue)}function eR(n){return uc(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}var eo=class{constructor(e,t){this.field=e,this.transform=t}};function dH(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof ni&&i instanceof ni||r instanceof ri&&i instanceof ri?Ha(r.elements,i.elements,_r):r instanceof Yi&&i instanceof Yi?_r(r.Pe,i.Pe):r instanceof Qi&&i instanceof Qi}(n.transform,e.transform)}var $w=class{constructor(e,t){this.version=e,this.transformResults=t}},ut=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Qf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Ka=class{};function tR(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Ji(n.key,ut.none()):new Zi(n.key,n.data,ut.none());{let t=n.data,r=Bt.empty(),i=new $e(ht.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Qn(n.key,r,new gn(i.toArray()),ut.none())}}function hH(n,e,t){n instanceof Zi?function(i,s,o){let a=i.value.clone(),l=Ox(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Qn?function(i,s,o){if(!Qf(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=Ox(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(nR(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,e,t):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function tc(n,e,t,r){return n instanceof Zi?function(s,o,a,l){if(!Qf(s.precondition,o))return a;let c=s.value.clone(),d=Fx(s.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(n,e,t,r):n instanceof Qn?function(s,o,a,l){if(!Qf(s.precondition,o))return a;let c=Fx(s.fieldTransforms,l,o),d=o.data;return d.setAll(nR(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(n,e,t,r):function(s,o,a){return Qf(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(n,e,t)}function fH(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),s=Z1(r.transform,i||null);s!=null&&(t===null&&(t=Bt.empty()),t.set(r.field,s))}return t||null}function kx(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ha(r,i,(s,o)=>dH(s,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Zi=class extends Ka{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Qn=class extends Ka{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function nR(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function Ox(n,e,t){let r=new Map;ne(n.length===t.length);for(let i=0;i<t.length;i++){let s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,cH(o,a,t[i]))}return r}function Fx(n,e,t){let r=new Map;for(let i of n){let s=i.transform,o=t.data.field(i.field);r.set(i.field,uH(s,o,e))}return r}var Ji=class extends Ka{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},cc=class extends Ka{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var dc=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&hH(s,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=tc(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=tc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=K1();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;let l=tR(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(oe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),fe())}isEqual(e){return this.batchId===e.batchId&&Ha(this.mutations,e.mutations,(t,r)=>kx(t,r))&&Ha(this.baseMutations,e.baseMutations,(t,r)=>kx(t,r))}},Hw=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){ne(e.mutations.length===r.length);let i=function(){return oH}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new n(e,t,r,i)}};var hc=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var qw=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var gt,Me;function rR(n){switch(n){default:return ee();case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0}}function iR(n){if(n===void 0)return dt("GRPC error has no .code"),O.UNKNOWN;switch(n){case gt.OK:return O.OK;case gt.CANCELLED:return O.CANCELLED;case gt.UNKNOWN:return O.UNKNOWN;case gt.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case gt.INTERNAL:return O.INTERNAL;case gt.UNAVAILABLE:return O.UNAVAILABLE;case gt.UNAUTHENTICATED:return O.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case gt.NOT_FOUND:return O.NOT_FOUND;case gt.ALREADY_EXISTS:return O.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return O.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case gt.ABORTED:return O.ABORTED;case gt.OUT_OF_RANGE:return O.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return O.UNIMPLEMENTED;case gt.DATA_LOSS:return O.DATA_LOSS;default:return ee()}}(Me=gt||(gt={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";var Vx=null;function sR(){return new TextEncoder}var pH=new Vi([4294967295,4294967295],0);function Lx(n){let e=sR().encode(n),t=new sw;return t.update(e),new Uint8Array(t.digest())}function jx(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Vi([t,r],0),new Vi([i,s],0)]}var zw=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ks(`Invalid padding: ${t}`);if(r<0)throw new Ks(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ks(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Ks(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Vi.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(Vi.fromNumber(r)));return i.compare(pH)===1&&(i=new Vi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=Lx(e),[r,i]=jx(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new n(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let t=Lx(e),[r,i]=jx(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Ks=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var fc=class n{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,pc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(oe.min(),i,new Ke(he),on(),fe())}},pc=class n{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,fe(),fe(),fe())}};var $a=class{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}},up=class{constructor(e,t){this.targetId=e,this.me=t}},cp=class{constructor(e,t,r=pt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},dp=class{constructor(){this.fe=0,this.ge=Ux(),this.pe=pt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=fe(),t=fe(),r=fe();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ee()}}),new pc(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=Ux()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ne(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},Gw=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=on(),this.qe=Bx(),this.Qe=new Ke(he)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:ee()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){let t=e.targetId,r=e.me.count,i=this.Je(t);if(i){let s=i.target;if(op(s))if(r===0){let o=new Q(s.path);this.Ue(t,o,_t.newNoDocument(o,oe.min()))}else ne(r===1);else{let o=this.Ye(t);if(o!==r){let a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(t);let c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,c)}Vx?.et(function(d,f,m,y,E){var b,M,F,q,V,W;let se={localCacheCount:d,existenceFilterCount:f.count,databaseId:m.database,projectId:m.projectId},J=f.unchangedNames;return J&&(se.bloomFilter={applied:E===0,hashCount:(b=J?.hashCount)!==null&&b!==void 0?b:0,bitmapLength:(q=(F=(M=J?.bits)===null||M===void 0?void 0:M.bitmap)===null||F===void 0?void 0:F.length)!==null&&q!==void 0?q:0,padding:(W=(V=J?.bits)===null||V===void 0?void 0:V.padding)!==null&&W!==void 0?W:0,mightContain:C=>{var _;return(_=y?.mightContain(C))!==null&&_!==void 0&&_}}),se}(o,e.me,this.Le.tt(),a,l))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t,o,a;try{o=Gi(r).toUint8Array()}catch(l){if(l instanceof rp)return Wn("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new zw(o,i,s)}catch(l){return Wn(l instanceof Ks?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){let r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,s,null),i++)}),i}rt(e){let t=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&op(a.target)){let l=new Q(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,_t.newNoDocument(l,e))}s.be&&(t.set(o,s.ve()),s.Ce())}});let r=fe();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{let c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new fc(e,t,this.Qe,this.ke,r);return this.ke=on(),this.qe=Bx(),this.Qe=new Ke(he),i}$e(e,t){if(!this.ze(e))return;let r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new dp,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new $e(he),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||B("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new dp),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function Bx(){return new Ke(Q.comparator)}function Ux(){return new Ke(Q.comparator)}var mH={asc:"ASCENDING",desc:"DESCENDING"},gH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yH={and:"AND",or:"OR"},Ww=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function Kw(n,e){return n.useProto3Json||bc(e)?e:{value:e}}function Qa(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function oR(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function vH(n,e){return Qa(n,e.toTimestamp())}function ft(n){return ne(!!n),oe.fromTimestamp(function(t){let r=ti(t);return new et(r.seconds,r.nanos)}(n))}function CE(n,e){return Qw(n,e).canonicalString()}function Qw(n,e){let t=function(i){return new xe(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function aR(n){let e=xe.fromString(n);return ne(yR(e)),e}function mc(n,e){return CE(n.databaseId,e.path)}function yr(n,e){let t=aR(e);if(t.get(1)!==n.databaseId.projectId)throw new L(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new L(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Q(cR(t))}function lR(n,e){return CE(n.databaseId,e)}function uR(n){let e=aR(n);return e.length===4?xe.emptyPath():cR(e)}function Yw(n){return new xe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function cR(n){return ne(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function $x(n,e,t){return{name:mc(n,e),fields:t.value.mapValue.fields}}function dR(n,e,t){let r=yr(n,e.name),i=ft(e.updateTime),s=e.createTime?ft(e.createTime):oe.min(),o=new Bt({mapValue:{fields:e.fields}}),a=_t.newFoundDocument(r,i,s,o);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}function _H(n,e){return"found"in e?function(r,i){ne(!!i.found),i.found.name,i.found.updateTime;let s=yr(r,i.found.name),o=ft(i.found.updateTime),a=i.found.createTime?ft(i.found.createTime):oe.min(),l=new Bt({mapValue:{fields:i.found.fields}});return _t.newFoundDocument(s,o,a,l)}(n,e):"missing"in e?function(r,i){ne(!!i.missing),ne(!!i.readTime);let s=yr(r,i.missing),o=ft(i.readTime);return _t.newNoDocument(s,o)}(n,e):ee()}function wH(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(ne(d===void 0||typeof d=="string"),pt.fromBase64String(d||"")):(ne(d===void 0||d instanceof Buffer||d instanceof Uint8Array),pt.fromUint8Array(d||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){let d=c.code===void 0?O.UNKNOWN:iR(c.code);return new L(d,c.message||"")}(o);t=new cp(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=yr(n,r.document.name),s=ft(r.document.updateTime),o=r.document.createTime?ft(r.document.createTime):oe.min(),a=new Bt({mapValue:{fields:r.document.fields}}),l=_t.newFoundDocument(i,s,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];t=new $a(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=yr(n,r.document),s=r.readTime?ft(r.readTime):oe.min(),o=_t.newNoDocument(i,s),a=r.removedTargetIds||[];t=new $a([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=yr(n,r.document),s=r.removedTargetIds||[];t=new $a([],s,i,null)}else{if(!("filter"in e))return ee();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new qw(i,s),a=r.targetId;t=new up(a,o)}}return t}function gc(n,e){let t;if(e instanceof Zi)t={update:$x(n,e.key,e.value)};else if(e instanceof Ji)t={delete:mc(n,e.key)};else if(e instanceof Qn)t={update:$x(n,e.key,e.data),updateMask:TH(e.fieldMask)};else{if(!(e instanceof cc))return ee();t={verify:mc(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof Qi)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ni)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ri)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Yi)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ee()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:vH(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ee()}(n,e.precondition)),t}function Zw(n,e){let t=e.currentDocument?function(s){return s.updateTime!==void 0?ut.updateTime(ft(s.updateTime)):s.exists!==void 0?ut.exists(s.exists):ut.none()}(e.currentDocument):ut.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let l=null;if("setToServerValue"in a)ne(a.setToServerValue==="REQUEST_TIME"),l=new Qi;else if("appendMissingElements"in a){let d=a.appendMissingElements.values||[];l=new ni(d)}else if("removeAllFromArray"in a){let d=a.removeAllFromArray.values||[];l=new ri(d)}else"increment"in a?l=new Yi(o,a.increment):ee();let c=ht.fromServerFormat(a.fieldPath);return new eo(c,l)}(n,i)):[];if(e.update){e.update.name;let i=yr(n,e.update.name),s=new Bt({mapValue:{fields:e.update.fields}});if(e.updateMask){let o=function(l){let c=l.fieldPaths||[];return new gn(c.map(d=>ht.fromServerFormat(d)))}(e.updateMask);return new Qn(i,s,o,t,r)}return new Zi(i,s,t,r)}if(e.delete){let i=yr(n,e.delete);return new Ji(i,t)}if(e.verify){let i=yr(n,e.verify);return new cc(i,t)}return ee()}function EH(n,e){return n&&n.length>0?(ne(e!==void 0),n.map(t=>function(i,s){let o=i.updateTime?ft(i.updateTime):ft(s);return o.isEqual(oe.min())&&(o=ft(s)),new $w(o,i.transformResults||[])}(t,e))):[]}function hR(n,e){return{documents:[lR(n,e.path)]}}function fR(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=lR(n,i);let s=function(c){if(c.length!==0)return gR(Le.create(c,"and"))}(e.filters);s&&(t.structuredQuery.where=s);let o=function(c){if(c.length!==0)return c.map(d=>function(m){return{field:Fa(m.field),direction:DH(m.dir)}}(d))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);let a=Kw(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:t,parent:i}}function pR(n){let e=uR(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){ne(r===1);let d=t.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];t.where&&(s=function(f){let m=mR(f);return m instanceof Le&&wE(m)?m.getFilters():[m]}(t.where));let o=[];t.orderBy&&(o=function(f){return f.map(m=>function(E){return new Js(Va(E.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(m))}(t.orderBy));let a=null;t.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,bc(m)?null:m}(t.limit));let l=null;t.startAt&&(l=function(f){let m=!!f.before,y=f.values||[];return new wr(y,m)}(t.startAt));let c=null;return t.endAt&&(c=function(f){let m=!f.before,y=f.values||[];return new wr(y,m)}(t.endAt)),$1(e,i,o,s,a,"F",l,c)}function IH(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function mR(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Va(t.unaryFilter.field);return be.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Va(t.unaryFilter.field);return be.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Va(t.unaryFilter.field);return be.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Va(t.unaryFilter.field);return be.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ee()}}(n):n.fieldFilter!==void 0?function(t){return be.create(Va(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ee()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Le.create(t.compositeFilter.filters.map(r=>mR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ee()}}(t.compositeFilter.op))}(n):ee()}function DH(n){return mH[n]}function CH(n){return gH[n]}function bH(n){return yH[n]}function Fa(n){return{fieldPath:n.canonicalString()}}function Va(n){return ht.fromServerFormat(n.fieldPath)}function gR(n){return n instanceof be?function(t){if(t.op==="=="){if(bx(t.value))return{unaryFilter:{field:Fa(t.field),op:"IS_NAN"}};if(Cx(t.value))return{unaryFilter:{field:Fa(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(bx(t.value))return{unaryFilter:{field:Fa(t.field),op:"IS_NOT_NAN"}};if(Cx(t.value))return{unaryFilter:{field:Fa(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fa(t.field),op:CH(t.op),value:t.value}}}(n):n instanceof Le?function(t){let r=t.getFilters().map(i=>gR(i));return r.length===1?r[0]:{compositeFilter:{op:bH(t.op),filters:r}}}(n):ee()}function TH(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function yR(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Ya=class n{constructor(e,t,r,i,s=oe.min(),o=oe.min(),a=pt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var hp=class{constructor(e){this.ct=e}};function SH(n,e){let t;if(e.document)t=dR(n.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){let r=Q.fromSegments(e.noDocument.path),i=no(e.noDocument.readTime);t=_t.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ee();{let r=Q.fromSegments(e.unknownDocument.path),i=no(e.unknownDocument.version);t=_t.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(i){let s=new et(i[0],i[1]);return oe.fromTimestamp(s)}(e.readTime)),t}function Hx(n,e){let t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:fp(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,o){return{name:mc(s,o.key),fields:o.data.value.mapValue.fields,updateTime:Qa(s,o.version.toTimestamp()),createTime:Qa(s,o.createTime.toTimestamp())}}(n.ct,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:to(e.version)};else{if(!e.isUnknownDocument())return ee();r.unknownDocument={path:t.path.toArray(),version:to(e.version)}}return r}function fp(n){let e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function to(n){let e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function no(n){let e=new et(n.seconds,n.nanoseconds);return oe.fromTimestamp(e)}function zs(n,e){let t=(e.baseMutations||[]).map(s=>Zw(n.ct,s));for(let s=0;s<e.mutations.length-1;++s){let o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){let a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}let r=e.mutations.map(s=>Zw(n.ct,s)),i=et.fromMillis(e.localWriteTimeMs);return new dc(e.batchId,i,t,r)}function Ju(n){let e=no(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?no(n.lastLimboFreeSnapshotVersion):oe.min(),r;return r=function(s){return s.documents!==void 0}(n.query)?function(s){return ne(s.documents.length===1),Zt(al(uR(s.documents[0])))}(n.query):function(s){return Zt(pR(s))}(n.query),new Ya(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,pt.fromBase64String(n.resumeToken))}function vR(n,e){let t=to(e.snapshotVersion),r=to(e.lastLimboFreeSnapshotVersion),i;i=op(e.target)?hR(n.ct,e.target):fR(n.ct,e.target)._t;let s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Xs(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function bE(n){let e=pR({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?lp(e,e.limit,"L"):e}function dw(n,e){return new hc(e.largestBatchId,Zw(n.ct,e.overlayMutation))}function qx(n,e){let t=e.path.lastSegment();return[n,Yt(e.path.popLast()),t]}function zx(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:to(r.readTime),documentKey:Yt(r.documentKey.path),largestBatchId:r.largestBatchId}}var Jw=class{getBundleMetadata(e,t){return Gx(e).get(t).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:no(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,t){return Gx(e).put(function(i){return{bundleId:i.id,createTime:to(ft(i.createTime)),version:i.version}}(t))}getNamedQuery(e,t){return Wx(e).get(t).next(r=>{if(r)return function(s){return{name:s.name,query:bE(s.bundledQuery),readTime:no(s.readTime)}}(r)})}saveNamedQuery(e,t){return Wx(e).put(function(i){return{name:i.name,readTime:to(ft(i.readTime)),bundledQuery:i.bundledQuery}}(t))}};function Gx(n){return Ct(n,"bundles")}function Wx(n){return Ct(n,"namedQueries")}var pp=class n{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){let r=t.uid||"";return new n(e,r)}getOverlay(e,t){return Wu(e).get(qx(this.userId,t)).next(r=>r?dw(this.serializer,r):null)}getOverlays(e,t){let r=mr();return N.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){let i=[];return r.forEach((s,o)=>{let a=new hc(t,o);i.push(this.ht(e,a))}),N.waitFor(i)}removeOverlaysForBatchId(e,t,r){let i=new Set;t.forEach(o=>i.add(Yt(o.getCollectionPath())));let s=[];return i.forEach(o=>{let a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(Wu(e).j("collectionPathOverlayIndex",a))}),N.waitFor(s)}getOverlaysForCollection(e,t,r){let i=mr(),s=Yt(t),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Wu(e).U("collectionPathOverlayIndex",o).next(a=>{for(let l of a){let c=dw(this.serializer,l);i.set(c.getKey(),c)}return i})}getOverlaysForCollectionGroup(e,t,r,i){let s=mr(),o,a=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Wu(e).J({index:"collectionGroupOverlayIndex",range:a},(l,c,d)=>{let f=dw(this.serializer,c);s.size()<i||f.largestBatchId===o?(s.set(f.getKey(),f),o=f.largestBatchId):d.done()}).next(()=>s)}ht(e,t){return Wu(e).put(function(i,s,o){let[a,l,c]=qx(s,o.mutation.key);return{userId:s,collectionPath:l,documentId:c,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:gc(i.ct,o.mutation)}}(this.serializer,this.userId,t))}};function Wu(n){return Ct(n,"documentOverlays")}var Xw=class{Pt(e){return Ct(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(t=>{let r=t?.value;return r?pt.fromUint8Array(r):pt.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.Pt(e).put({name:"sessionToken",value:t.toUint8Array()})}};var Xr=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Je(e.integerValue));else if("doubleValue"in e){let r=Je(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),sc(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=ti(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(Gi(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?k1(e)?this.dt(t,Number.MAX_SAFE_INTEGER):Qp(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):ee()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let r=e.fields||{};this.dt(t,55);for(let i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;let s=e.fields||{};this.dt(t,53);let o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(t,15),t.At(Je(a)),this.Vt(o,t),this.Tt(s[o],t)}bt(e,t){let r=e.values||[];this.dt(t,50);for(let i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),Q.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};Xr.vt=new Xr;function AH(n){if(n===0)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function Kx(n){let e=64-function(r){let i=0;for(let s=0;s<8;++s){let o=AH(255&r[s]);if(i+=o,o!==8)break}return i}(n);return Math.ceil(e/8)}var e0=class{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){let t=e[Symbol.iterator](),r=t.next();for(;!r.done;)this.Ft(r.value),r=t.next();this.Mt()}xt(e){let t=e[Symbol.iterator](),r=t.next();for(;!r.done;)this.Ot(r.value),r=t.next();this.Nt()}Lt(e){for(let t of e){let r=t.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{let i=t.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Bt(e){for(let t of e){let r=t.charCodeAt(0);if(r<128)this.Ot(r);else if(r<2048)this.Ot(960|r>>>6),this.Ot(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Ot(480|r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r);else{let i=t.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){let t=this.qt(e),r=Kx(t);this.Qt(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Kt(e){let t=this.qt(e),r=Kx(t);this.Qt(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){let t=function(s){let o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=(128&t[0])!=0;t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ft(e){let t=255&e;t===0?(this.Ut(0),this.Ut(255)):t===255?(this.Ut(255),this.Ut(0)):this.Ut(t)}Ot(e){let t=255&e;t===0?(this.Gt(0),this.Gt(255)):t===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){let t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);let i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}},t0=class{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}},n0=class{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}},Gs=class{constructor(){this.jt=new e0,this.Ht=new t0(this.jt),this.Jt=new n0(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}};var Ws=class n{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Zt(){let e=this.directionalValue.length,t=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new n(this.indexId,this.documentKey,this.arrayValue,r)}};function Li(n,e){let t=n.indexId-e.indexId;return t!==0?t:(t=Qx(n.arrayValue,e.arrayValue),t!==0?t:(t=Qx(n.directionalValue,e.directionalValue),t!==0?t:Q.comparator(n.documentKey,e.documentKey)))}function Qx(n,e){for(let t=0;t<n.length&&t<e.length;++t){let r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}var mp=class{constructor(e){this.Xt=new $e((t,r)=>ht.comparator(t.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(let t of e.filters){let r=t;r.isInequality()?this.Xt=this.Xt.add(r):this.tn.push(r)}}get nn(){return this.Xt.size>1}rn(e){if(ne(e.collectionGroup===this.collectionId),this.nn)return!1;let t=Dw(e);if(t!==void 0&&!this.sn(t))return!1;let r=Hs(e),i=new Set,s=0,o=0;for(;s<r.length&&this.sn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Xt.size>0){let a=this.Xt.getIterator().getNext();if(!i.has(a.field.canonicalString())){let l=r[s];if(!this.on(a,l)||!this._n(this.en[o++],l))return!1}++s}for(;s<r.length;++s){let a=r[s];if(o>=this.en.length||!this._n(this.en[o++],a))return!1}return!0}an(){if(this.nn)return null;let e=new $e(ht.comparator),t=[];for(let r of this.tn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new Ba(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new Ba(r.field,0))}for(let r of this.en)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new Ba(r.field,r.dir==="asc"?0:1)));return new qa(qa.UNKNOWN_ID,this.collectionId,t,ic.empty())}sn(e){for(let t of this.tn)if(this.on(t,e))return!0;return!1}on(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;let r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}_n(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}};function _R(n){var e,t;if(ne(n instanceof be||n instanceof Le),n instanceof be){if(n instanceof sp){let i=((t=(e=n.value.arrayValue)===null||e===void 0?void 0:e.values)===null||t===void 0?void 0:t.map(s=>be.create(n.field,"==",s)))||[];return Le.create(i,"or")}return n}let r=n.filters.map(i=>_R(i));return Le.create(r,n.op)}function MH(n){if(n.getFilters().length===0)return[];let e=s0(_R(n));return ne(wR(e)),r0(e)||i0(e)?[e]:e.getFilters()}function r0(n){return n instanceof be}function i0(n){return n instanceof Le&&wE(n)}function wR(n){return r0(n)||i0(n)||function(t){if(t instanceof Le&&Rw(t)){for(let r of t.getFilters())if(!r0(r)&&!i0(r))return!1;return!0}return!1}(n)}function s0(n){if(ne(n instanceof be||n instanceof Le),n instanceof be)return n;if(n.filters.length===1)return s0(n.filters[0]);let e=n.filters.map(r=>s0(r)),t=Le.create(e,n.op);return t=gp(t),wR(t)?t:(ne(t instanceof Le),ne(Ga(t)),ne(t.filters.length>1),t.filters.reduce((r,i)=>TE(r,i)))}function TE(n,e){let t;return ne(n instanceof be||n instanceof Le),ne(e instanceof be||e instanceof Le),t=n instanceof be?e instanceof be?function(i,s){return Le.create([i,s],"and")}(n,e):Yx(n,e):e instanceof be?Yx(e,n):function(i,s){if(ne(i.filters.length>0&&s.filters.length>0),Ga(i)&&Ga(s))return j1(i,s.getFilters());let o=Rw(i)?i:s,a=Rw(i)?s:i,l=o.filters.map(c=>TE(c,a));return Le.create(l,"or")}(n,e),gp(t)}function Yx(n,e){if(Ga(e))return j1(e,n.getFilters());{let t=e.filters.map(r=>TE(n,r));return Le.create(t,"or")}}function gp(n){if(ne(n instanceof be||n instanceof Le),n instanceof be)return n;let e=n.getFilters();if(e.length===1)return gp(e[0]);if(V1(n))return n;let t=e.map(i=>gp(i)),r=[];return t.forEach(i=>{i instanceof be?r.push(i):i instanceof Le&&(i.op===n.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Le.create(r,n.op)}var o0=class{constructor(){this.un=new yc}addToCollectionParentIndex(e,t){return this.un.add(t),N.resolve()}getCollectionParents(e,t){return N.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return N.resolve()}deleteFieldIndex(e,t){return N.resolve()}deleteAllFieldIndexes(e){return N.resolve()}createTargetIndexes(e,t){return N.resolve()}getDocumentsMatchingTarget(e,t){return N.resolve(null)}getIndexType(e,t){return N.resolve(0)}getFieldIndexes(e,t){return N.resolve([])}getNextCollectionGroupToUpdate(e){return N.resolve(null)}getMinOffset(e,t){return N.resolve(Nn.min())}getMinOffsetFromCollectionGroup(e,t){return N.resolve(Nn.min())}updateCollectionGroup(e,t,r){return N.resolve()}updateIndexEntries(e,t){return N.resolve()}},yc=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new $e(xe.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new $e(xe.comparator)).toArray()}};var $f=new Uint8Array(0),a0=class{constructor(e,t){this.databaseId=t,this.cn=new yc,this.ln=new Er(r=>Xs(r),(r,i)=>Tc(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.cn.has(t)){let r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.cn.add(t)});let s={collectionId:r,parent:Yt(i)};return Zx(e).put(s)}return N.resolve()}getCollectionParents(e,t){let r=[],i=IDBKeyRange.bound([t,""],[I1(t),""],!1,!0);return Zx(e).U(i).next(s=>{for(let o of s){if(o.collectionId!==t)break;r.push(pr(o.parent))}return r})}addFieldIndex(e,t){let r=Ku(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(t);delete i.indexId;let s=r.add(i);if(t.indexState){let o=Na(e);return s.next(a=>{o.put(zx(a,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){let r=Ku(e),i=Na(e),s=Ra(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){let t=Ku(e),r=Ra(e),i=Na(e);return t.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,t){return N.forEach(this.hn(t),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){let s=new mp(r).an();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,t){let r=Ra(e),i=!0,s=new Map;return N.forEach(this.hn(t),o=>this.Pn(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=fe(),a=[];return N.forEach(s,(l,c)=>{B("IndexedDbIndexManager",`Using index ${function(V){return`id=${V.indexId}|cg=${V.collectionGroup}|f=${V.fields.map(W=>`${W.fieldPath}:${W.kind}`).join(",")}`}(l)} to execute ${Xs(t)}`);let d=function(V,W){let se=Dw(W);if(se===void 0)return null;for(let J of ap(V,se.fieldPath))switch(J.op){case"array-contains-any":return J.value.arrayValue.values||[];case"array-contains":return[J.value]}return null}(c,l),f=function(V,W){let se=new Map;for(let J of Hs(W))for(let C of ap(V,J.fieldPath))switch(C.op){case"==":case"in":se.set(J.fieldPath.canonicalString(),C.value);break;case"not-in":case"!=":return se.set(J.fieldPath.canonicalString(),C.value),Array.from(se.values())}return null}(c,l),m=function(V,W){let se=[],J=!0;for(let C of Hs(W)){let _=C.kind===0?xx(V,C.fieldPath,V.startAt):Rx(V,C.fieldPath,V.startAt);se.push(_.value),J&&(J=_.inclusive)}return new wr(se,J)}(c,l),y=function(V,W){let se=[],J=!0;for(let C of Hs(W)){let _=C.kind===0?Rx(V,C.fieldPath,V.endAt):xx(V,C.fieldPath,V.endAt);se.push(_.value),J&&(J=_.inclusive)}return new wr(se,J)}(c,l),E=this.In(l,c,m),b=this.In(l,c,y),M=this.Tn(l,c,f),F=this.En(l.indexId,d,E,m.inclusive,b,y.inclusive,M);return N.forEach(F,q=>r.G(q,t.limit).next(V=>{V.forEach(W=>{let se=Q.fromSegments(W.documentKey);o.has(se)||(o=o.add(se),a.push(se))})}))}).next(()=>a)}return N.resolve(null)})}hn(e){let t=this.ln.get(e);return t||(e.filters.length===0?t=[e]:t=MH(Le.create(e.filters,"and")).map(r=>Bw(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,t),t)}En(e,t,r,i,s,o,a){let l=(t!=null?t.length:1)*Math.max(r.length,s.length),c=l/(t!=null?t.length:1),d=[];for(let f=0;f<l;++f){let m=t?this.dn(t[f/c]):$f,y=this.An(e,m,r[f%c],i),E=this.Rn(e,m,s[f%c],o),b=a.map(M=>this.An(e,m,M,!0));d.push(...this.createRange(y,E,b))}return d}An(e,t,r,i){let s=new Ws(e,Q.empty(),t,r);return i?s:s.Zt()}Rn(e,t,r,i){let s=new Ws(e,Q.empty(),t,r);return i?s.Zt():s}Pn(e,t){let r=new mp(t),i=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(let a of s)r.rn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,t){let r=2,i=this.hn(t);return N.forEach(i,s=>this.Pn(e,s).next(o=>{o?r!==0&&o.fields.length<function(l){let c=new $e(ht.comparator),d=!1;for(let f of l.filters)for(let m of f.getFlattenedFilters())m.field.isKeyField()||(m.op==="array-contains"||m.op==="array-contains-any"?d=!0:c=c.add(m.field));for(let f of l.orderBy)f.field.isKeyField()||(c=c.add(f.field));return c.size+(d?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(t)&&i.length>1&&r===2?1:r)}Vn(e,t){let r=new Gs;for(let i of Hs(e)){let s=t.data.field(i.fieldPath);if(s==null)return null;let o=r.Yt(i.kind);Xr.vt.It(s,o)}return r.zt()}dn(e){let t=new Gs;return Xr.vt.It(e,t.Yt(0)),t.zt()}mn(e,t){let r=new Gs;return Xr.vt.It(Zs(this.databaseId,t),r.Yt(function(s){let o=Hs(s);return o.length===0?0:o[o.length-1].kind}(e))),r.zt()}Tn(e,t,r){if(r===null)return[];let i=[];i.push(new Gs);let s=0;for(let o of Hs(e)){let a=r[s++];for(let l of i)if(this.fn(t,o.fieldPath)&&uc(a))i=this.gn(i,o,a);else{let c=l.Yt(o.kind);Xr.vt.It(a,c)}}return this.pn(i)}In(e,t,r){return this.Tn(e,t,r.position)}pn(e){let t=[];for(let r=0;r<e.length;++r)t[r]=e[r].zt();return t}gn(e,t,r){let i=[...e],s=[];for(let o of r.arrayValue.values||[])for(let a of i){let l=new Gs;l.seed(a.zt()),Xr.vt.It(o,l.Yt(t.kind)),s.push(l)}return s}fn(e,t){return!!e.filters.find(r=>r instanceof be&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,t){let r=Ku(e),i=Na(e);return(t?r.U("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.U()).next(s=>{let o=[];return N.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(d,f){let m=f?new ic(f.sequenceNumber,new Nn(no(f.readTime),new Q(pr(f.documentKey)),f.largestBatchId)):ic.empty(),y=d.fields.map(([E,b])=>new Ba(ht.fromServerFormat(E),b));return new qa(d.indexId,d.collectionGroup,y,m)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((r,i)=>{let s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:he(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){let i=Ku(e),s=Na(e);return this.yn(e).next(o=>i.U("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(a=>N.forEach(a,l=>s.put(zx(l.indexId,this.uid,o,r)))))}updateIndexEntries(e,t){let r=new Map;return N.forEach(t,(i,s)=>{let o=r.get(i.collectionGroup);return(o?N.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),N.forEach(a,l=>this.wn(e,i,l).next(c=>{let d=this.Sn(s,l);return c.isEqual(d)?N.resolve():this.bn(e,s,l,c,d)}))))})}Dn(e,t,r,i){return Ra(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(r,t.key),documentKey:t.key.path.toArray()})}vn(e,t,r,i){return Ra(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(r,t.key),t.key.path.toArray()])}wn(e,t,r){let i=Ra(e),s=new $e(Li);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.mn(r,t)])},(o,a)=>{s=s.add(new Ws(r.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>s)}Sn(e,t){let r=new $e(Li),i=this.Vn(t,e);if(i==null)return r;let s=Dw(t);if(s!=null){let o=e.data.field(s.fieldPath);if(uc(o))for(let a of o.arrayValue.values||[])r=r.add(new Ws(t.indexId,e.key,this.dn(a),i))}else r=r.add(new Ws(t.indexId,e.key,$f,i));return r}bn(e,t,r,i,s){B("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);let o=[];return function(l,c,d,f,m){let y=l.getIterator(),E=c.getIterator(),b=xa(y),M=xa(E);for(;b||M;){let F=!1,q=!1;if(b&&M){let V=d(b,M);V<0?q=!0:V>0&&(F=!0)}else b!=null?q=!0:F=!0;F?(f(M),M=xa(E)):q?(m(b),b=xa(y)):(b=xa(y),M=xa(E))}}(i,s,Li,a=>{o.push(this.Dn(e,t,r,a))},a=>{o.push(this.vn(e,t,r,a))}),N.waitFor(o)}yn(e){let t=1;return Na(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((o,a)=>Li(o,a)).filter((o,a,l)=>!a||Li(o,l[a-1])!==0);let i=[];i.push(e);for(let o of r){let a=Li(o,e),l=Li(o,t);if(a===0)i[0]=e.Zt();else if(a>0&&l<0)i.push(o),i.push(o.Zt());else if(l>0)break}i.push(t);let s=[];for(let o=0;o<i.length;o+=2){if(this.Cn(i[o],i[o+1]))return[];let a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,$f,[]],l=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,$f,[]];s.push(IDBKeyRange.bound(a,l))}return s}Cn(e,t){return Li(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Jx)}getMinOffset(e,t){return N.mapArray(this.hn(t),r=>this.Pn(e,r).next(i=>i||ee())).next(Jx)}};function Zx(n){return Ct(n,"collectionParents")}function Ra(n){return Ct(n,"indexEntries")}function Ku(n){return Ct(n,"indexConfiguration")}function Na(n){return Ct(n,"indexState")}function Jx(n){ne(n.length!==0);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){let i=n[r].indexState.offset;gE(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Nn(e.readTime,e.documentKey,t)}var Xx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Rn=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};function ER(n,e,t){let r=n.store("mutations"),i=n.store("documentMutations"),s=[],o=IDBKeyRange.only(t.batchId),a=0,l=r.J({range:o},(d,f,m)=>(a++,m.delete()));s.push(l.next(()=>{ne(a===1)}));let c=[];for(let d of t.mutations){let f=A1(e,d.key.path,t.batchId);s.push(i.delete(f)),c.push(d.key)}return N.waitFor(s).next(()=>c)}function yp(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ee();e=n.noDocument}return JSON.stringify(e).length}Rn.DEFAULT_COLLECTION_PERCENTILE=10,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rn.DEFAULT=new Rn(41943040,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rn.DISABLED=new Rn(-1,0,0);var vp=class n{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Fn={}}static lt(e,t,r,i){ne(e.uid!=="");let s=e.isAuthenticated()?e.uid:"";return new n(s,t,r,i)}checkEmpty(e){let t=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ji(e).J({index:"userMutationsIndex",range:r},(i,s,o)=>{t=!1,o.done()}).next(()=>t)}addMutationBatch(e,t,r,i){let s=La(e),o=ji(e);return o.add({}).next(a=>{ne(typeof a=="number");let l=new dc(a,t,r,i),c=function(y,E,b){let M=b.baseMutations.map(q=>gc(y.ct,q)),F=b.mutations.map(q=>gc(y.ct,q));return{userId:E,batchId:b.batchId,localWriteTimeMs:b.localWriteTime.toMillis(),baseMutations:M,mutations:F}}(this.serializer,this.userId,l),d=[],f=new $e((m,y)=>he(m.canonicalString(),y.canonicalString()));for(let m of i){let y=A1(this.userId,m.key.path,a);f=f.add(m.key.path.popLast()),d.push(o.put(c)),d.push(s.put(y,O4))}return f.forEach(m=>{d.push(this.indexManager.addToCollectionParentIndex(e,m))}),e.addOnCommittedListener(()=>{this.Fn[a]=l.keys()}),N.waitFor(d).next(()=>l)})}lookupMutationBatch(e,t){return ji(e).get(t).next(r=>r?(ne(r.userId===this.userId),zs(this.serializer,r)):null)}Mn(e,t){return this.Fn[t]?N.resolve(this.Fn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){let i=r.keys();return this.Fn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return ji(e).J({index:"userMutationsIndex",range:i},(o,a,l)=>{a.userId===this.userId&&(ne(a.batchId>=r),s=zs(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){let t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return ji(e).J({index:"userMutationsIndex",range:t,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){let t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ji(e).U("userMutationsIndex",t).next(r=>r.map(i=>zs(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){let r=Gf(this.userId,t.path),i=IDBKeyRange.lowerBound(r),s=[];return La(e).J({range:i},(o,a,l)=>{let[c,d,f]=o,m=pr(d);if(c===this.userId&&t.path.isEqual(m))return ji(e).get(f).next(y=>{if(!y)throw ee();ne(y.userId===this.userId),s.push(zs(this.serializer,y))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new $e(he),i=[];return t.forEach(s=>{let o=Gf(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=La(e).J({range:a},(c,d,f)=>{let[m,y,E]=c,b=pr(y);m===this.userId&&s.path.isEqual(b)?r=r.add(E):f.done()});i.push(l)}),N.waitFor(i).next(()=>this.xn(e,r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,s=Gf(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new $e(he);return La(e).J({range:o},(l,c,d)=>{let[f,m,y]=l,E=pr(m);f===this.userId&&r.isPrefixOf(E)?E.length===i&&(a=a.add(y)):d.done()}).next(()=>this.xn(e,a))}xn(e,t){let r=[],i=[];return t.forEach(s=>{i.push(ji(e).get(s).next(o=>{if(o===null)throw ee();ne(o.userId===this.userId),r.push(zs(this.serializer,o))}))}),N.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return ER(e._e,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.On(t.batchId)}),N.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return N.resolve();let r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return La(e).J({range:r},(s,o,a)=>{if(s[0]===this.userId){let l=pr(s[1]);i.push(l)}else a.done()}).next(()=>{ne(i.length===0)})})}containsKey(e,t){return IR(e,this.userId,t)}Nn(e){return DR(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}};function IR(n,e,t){let r=Gf(e,t.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return La(n).J({range:s,H:!0},(a,l,c)=>{let[d,f,m]=a;d===e&&f===i&&(o=!0),c.done()}).next(()=>o)}function ji(n){return Ct(n,"mutations")}function La(n){return Ct(n,"documentMutations")}function DR(n){return Ct(n,"mutationQueues")}var Za=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var l0=class{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.qn(e).next(t=>{let r=new Za(t.highestTargetId);return t.highestTargetId=r.next(),this.Qn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(t=>oe.fromTimestamp(new et(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.qn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Qn(e,i)))}addTargetData(e,t){return this.Kn(e,t).next(()=>this.qn(e).next(r=>(r.targetCount+=1,this.$n(t,r),this.Qn(e,r))))}updateTargetData(e,t){return this.Kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Pa(e).delete(t.targetId)).next(()=>this.qn(e)).next(r=>(ne(r.targetCount>0),r.targetCount-=1,this.Qn(e,r)))}removeTargets(e,t,r){let i=0,s=[];return Pa(e).J((o,a)=>{let l=Ju(a);l.sequenceNumber<=t&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>N.waitFor(s)).next(()=>i)}forEachTarget(e,t){return Pa(e).J((r,i)=>{let s=Ju(i);t(s)})}qn(e){return e1(e).get("targetGlobalKey").next(t=>(ne(t!==null),t))}Qn(e,t){return e1(e).put("targetGlobalKey",t)}Kn(e,t){return Pa(e).put(vR(this.serializer,t))}$n(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.qn(e).next(t=>t.targetCount)}getTargetData(e,t){let r=Xs(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return Pa(e).J({range:i,index:"queryTargetsIndex"},(o,a,l)=>{let c=Ju(a);Tc(t,c.target)&&(s=c,l.done())}).next(()=>s)}addMatchingKeys(e,t,r){let i=[],s=Bi(e);return t.forEach(o=>{let a=Yt(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),N.waitFor(i)}removeMatchingKeys(e,t,r){let i=Bi(e);return N.forEach(t,s=>{let o=Yt(s.path);return N.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,t){let r=Bi(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){let r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Bi(e),s=fe();return i.J({range:r,H:!0},(o,a,l)=>{let c=pr(o[1]),d=new Q(c);s=s.add(d)}).next(()=>s)}containsKey(e,t){let r=Yt(t.path),i=IDBKeyRange.bound([r],[I1(r)],!1,!0),s=0;return Bi(e).J({index:"documentTargetsIndex",H:!0,range:i},([o,a],l,c)=>{o!==0&&(s++,c.done())}).next(()=>s>0)}ot(e,t){return Pa(e).get(t).next(r=>r?Ju(r):null)}};function Pa(n){return Ct(n,"targets")}function e1(n){return Ct(n,"targetGlobal")}function Bi(n){return Ct(n,"targetDocuments")}function t1([n,e],[t,r]){let i=he(n,t);return i===0?he(e,r):i}var u0=class{constructor(e){this.Un=e,this.buffer=new $e(t1),this.Wn=0}Gn(){return++this.Wn}zn(e){let t=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();t1(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},c0=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){B("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>P(this,null,function*(){this.jn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){ts(t)?B("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):yield es(t)}yield this.Hn(3e5)}))}},d0=class{constructor(e,t){this.Jn=e,this.params=t}calculateTargetCount(e,t){return this.Jn.Yn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return N.resolve(mn.oe);let r=new u0(t);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Jn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(B("LruGarbageCollector","Garbage collection skipped; disabled"),N.resolve(Xx)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(B("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Xx):this.Xn(e,t))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,t){let r,i,s,o,a,l,c,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(B("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,t))).next(f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),ka()<=Xn.DEBUG&&B("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),N.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}};function xH(n,e){return new d0(n,e)}var h0=class{constructor(e,t){this.db=e,this.garbageCollector=xH(this,t)}Yn(e){let t=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}er(e){let t=0;return this.Zn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Zn(e,t){return this.tr(e,(r,i)=>t(i))}addReference(e,t,r){return Hf(e,r)}removeReference(e,t,r){return Hf(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Hf(e,t)}nr(e,t){return function(i,s){let o=!1;return DR(i).Y(a=>IR(i,a,s).next(l=>(l&&(o=!0),N.resolve(!l)))).next(()=>o)}(e,t)}removeOrphanedDocuments(e,t){let r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],s=0;return this.tr(e,(o,a)=>{if(a<=t){let l=this.nr(e,o).next(c=>{if(!c)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,oe.min()),Bi(e).delete(function(f){return[0,Yt(f.path)]}(o))))});i.push(l)}}).next(()=>N.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Hf(e,t)}tr(e,t){let r=Bi(e),i,s=mn.oe;return r.J({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:c})=>{o===0?(s!==mn.oe&&t(new Q(pr(i)),s),s=c,i=l):s=mn.oe}).next(()=>{s!==mn.oe&&t(new Q(pr(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}};function Hf(n,e){return Bi(n).put(function(r,i){return{targetId:0,path:Yt(r.path),sequenceNumber:i}}(e,n.currentSequenceNumber))}var _p=class{constructor(){this.changes=new Er(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,_t.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?N.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var f0=class{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return $s(e).put(r)}removeEntry(e,t,r){return $s(e).delete(function(s,o){let a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],fp(o),a[a.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.rr(e,r)))}getEntry(e,t){let r=_t.newInvalidDocument(t);return $s(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Qu(t))},(i,s)=>{r=this.ir(t,s)}).next(()=>r)}sr(e,t){let r={size:0,document:_t.newInvalidDocument(t)};return $s(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Qu(t))},(i,s)=>{r={document:this.ir(t,s),size:yp(s)}}).next(()=>r)}getEntries(e,t){let r=on();return this._r(e,t,(i,s)=>{let o=this.ir(i,s);r=r.insert(i,o)}).next(()=>r)}ar(e,t){let r=on(),i=new Ke(Q.comparator);return this._r(e,t,(s,o)=>{let a=this.ir(s,o);r=r.insert(s,a),i=i.insert(s,yp(o))}).next(()=>({documents:r,ur:i}))}_r(e,t,r){if(t.isEmpty())return N.resolve();let i=new $e(i1);t.forEach(l=>i=i.add(l));let s=IDBKeyRange.bound(Qu(i.first()),Qu(i.last())),o=i.getIterator(),a=o.getNext();return $s(e).J({index:"documentKeyIndex",range:s},(l,c,d)=>{let f=Q.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&i1(a,f)<0;)r(a,null),a=o.getNext();a&&a.isEqual(f)&&(r(a,c),a=o.hasNext()?o.getNext():null),a?d.$(Qu(a)):d.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,s){let o=t.path,a=[o.popLast().toArray(),o.lastSegment(),fp(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return $s(e).U(IDBKeyRange.bound(a,l,!0)).next(c=>{s?.incrementDocumentReadCount(c.length);let d=on();for(let f of c){let m=this.ir(Q.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);m.isFoundDocument()&&(Ac(t,m)||i.has(m.key))&&(d=d.insert(m.key,m))}return d})}getAllFromCollectionGroup(e,t,r,i){let s=on(),o=r1(t,r),a=r1(t,Nn.max());return $s(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,c,d)=>{let f=this.ir(Q.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);s=s.insert(f.key,f),s.size===i&&d.done()}).next(()=>s)}newChangeBuffer(e){return new p0(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return n1(e).get("remoteDocumentGlobalKey").next(t=>(ne(!!t),t))}rr(e,t){return n1(e).put("remoteDocumentGlobalKey",t)}ir(e,t){if(t){let r=SH(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(oe.min())))return r}return _t.newInvalidDocument(e)}};function CR(n){return new f0(n)}var p0=class extends _p{constructor(e,t){super(),this.cr=e,this.trackRemovals=t,this.lr=new Er(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){let t=[],r=0,i=new $e((s,o)=>he(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{let a=this.lr.get(s);if(t.push(this.cr.removeEntry(e,s,a.readTime)),o.isValidDocument()){let l=Hx(this.cr.serializer,o);i=i.add(s.path.popLast());let c=yp(l);r+=c-a.size,t.push(this.cr.addEntry(e,s,l))}else if(r-=a.size,this.trackRemovals){let l=Hx(this.cr.serializer,o.convertToNoDocument(oe.min()));t.push(this.cr.addEntry(e,s,l))}}),i.forEach(s=>{t.push(this.cr.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.cr.updateMetadata(e,r)),N.waitFor(t)}getFromCache(e,t){return this.cr.sr(e,t).next(r=>(this.lr.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.cr.ar(e,t).next(({documents:r,ur:i})=>(i.forEach((s,o)=>{this.lr.set(s,{size:o,readTime:r.get(s).readTime})}),r))}};function n1(n){return Ct(n,"remoteDocumentGlobal")}function $s(n){return Ct(n,"remoteDocumentsV14")}function Qu(n){let e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function r1(n,e){let t=e.documentKey.path.toArray();return[n,fp(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function i1(n,e){let t=n.path.toArray(),r=e.path.toArray(),i=0;for(let s=0;s<t.length-2&&s<r.length-2;++s)if(i=he(t[s],r[s]),i)return i;return i=he(t.length,r.length),i||(i=he(t[t.length-2],r[r.length-2]),i||he(t[t.length-1],r[r.length-1]))}var m0=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var wp=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&tc(r.mutation,i,gn.empty(),et.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,fe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=fe()){let i=mr();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=Zu();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){let r=mr();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,fe()))}populateOverlays(e,t,r){let i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=on(),o=ec(),a=function(){return ec()}();return t.forEach((l,c)=>{let d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof Qn)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),tc(d.mutation,c,d.mutation.getFieldMask(),et.now())):o.set(c.key,gn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,d)=>o.set(c,d)),t.forEach((c,d)=>{var f;return a.set(c,new m0(d,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,t){let r=ec(),i=new Ke((o,a)=>o-a),s=fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(let a of o)a.keys().forEach(l=>{let c=t.get(l);if(c===null)return;let d=r.get(l)||gn.empty();d=a.applyToLocalView(c,d),r.set(l,d);let f=(i.get(a.batchId)||fe()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let l=a.getNext(),c=l.key,d=l.value,f=K1();d.forEach(m=>{if(!s.has(m)){let y=tR(t.get(m),r.get(m));y!==null&&f.set(m,y),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return N.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(o){return Q.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):EE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):N.resolve(mr()),a=-1,l=s;return o.next(c=>N.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?N.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{l=l.insert(d,m)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,fe())).next(d=>({batchId:a,changes:W1(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Q(t)).next(r=>{let i=Zu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let s=t.collectionGroup,o=Zu();return this.indexManager.getCollectionParents(e,s).next(a=>N.forEach(a,l=>{let c=function(f,m){return new Kn(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(t,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((l,c)=>{let d=c.getKey();o.get(d)===null&&(o=o.insert(d,_t.newInvalidDocument(d)))});let a=Zu();return o.forEach((l,c)=>{let d=s.get(l);d!==void 0&&tc(d.mutation,c,gn.empty(),et.now()),Ac(t,c)&&(a=a.insert(l,c))}),a})}};var g0=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return N.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:ft(i.createTime)}}(t)),N.resolve()}getNamedQuery(e,t){return N.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:bE(i.bundledQuery),readTime:ft(i.readTime)}}(t)),N.resolve()}};var y0=class{constructor(){this.overlays=new Ke(Q.comparator),this.Ir=new Map}getOverlay(e,t){return N.resolve(this.overlays.get(t))}getOverlays(e,t){let r=mr();return N.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.ht(e,t,s)}),N.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),N.resolve()}getOverlaysForCollection(e,t,r){let i=mr(),s=t.length+1,o=new Q(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return N.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Ke((c,d)=>c-d),o=this.overlays.getIterator();for(;o.hasNext();){let c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=mr(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}let a=mr(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return N.resolve(a)}ht(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new hc(t,r));let s=this.Ir.get(t);s===void 0&&(s=fe(),this.Ir.set(t,s)),this.Ir.set(t,s.add(r.key))}};var v0=class{constructor(){this.sessionToken=pt.EMPTY_BYTE_STRING}getSessionToken(e){return N.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,N.resolve()}};var vc=class{constructor(){this.Tr=new $e(yt.Er),this.dr=new $e(yt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let r=new yt(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new yt(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){let t=new Q(new xe([])),r=new yt(t,e),i=new yt(t,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new Q(new xe([])),r=new yt(t,e),i=new yt(t,e+1),s=fe();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let t=new yt(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},yt=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return Q.comparator(e.key,t.key)||he(e.wr,t.wr)}static Ar(e,t){return he(e.wr,t.wr)||Q.comparator(e.key,t.key)}};var _0=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new $e(yt.Er)}checkEmpty(e){return N.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new dc(s,t,r,i);this.mutationQueue.push(o);for(let a of i)this.br=this.br.add(new yt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return N.resolve(o)}lookupMutationBatch(e,t){return N.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.vr(r),s=i<0?0:i;return N.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return N.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return N.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new yt(t,0),i=new yt(t,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let a=this.Dr(o.wr);s.push(a)}),N.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new $e(he);return t.forEach(i=>{let s=new yt(i,0),o=new yt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),N.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,s=r;Q.isDocumentKey(s)||(s=s.child(""));let o=new yt(new Q(s),0),a=new $e(he);return this.br.forEachWhile(l=>{let c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.wr)),!0)},o),N.resolve(this.Cr(a))}Cr(e){let t=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){ne(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return N.forEach(t.mutations,i=>{let s=new yt(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){let r=new yt(t,0),i=this.br.firstAfterOrEqual(r);return N.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,N.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var w0=class{constructor(e){this.Mr=e,this.docs=function(){return new Ke(Q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return N.resolve(r?r.document.mutableCopy():_t.newInvalidDocument(t))}getEntries(e,t){let r=on();return t.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():_t.newInvalidDocument(i))}),N.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=on(),o=t.path,a=new Q(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){let{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||gE(C1(d),r)<=0||(i.has(d.key)||Ac(t,d))&&(s=s.insert(d.key,d.mutableCopy()))}return N.resolve(s)}getAllFromCollectionGroup(e,t,r,i){ee()}Or(e,t){return N.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new E0(this)}getSize(e){return N.resolve(this.size)}},E0=class extends _p{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),N.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var I0=class{constructor(e){this.persistence=e,this.Nr=new Er(t=>Xs(t),Tc),this.lastRemoteSnapshotVersion=oe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new vc,this.targetCount=0,this.kr=Za.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),N.resolve()}getLastRemoteSnapshotVersion(e){return N.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return N.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),N.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),N.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new Za(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,N.resolve()}updateTargetData(e,t){return this.Kn(t),N.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,N.resolve()}removeTargets(e,t,r){let i=0,s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),N.waitFor(s).next(()=>i)}getTargetCount(e){return N.resolve(this.targetCount)}getTargetData(e,t){let r=this.Nr.get(t)||null;return N.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),N.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);let i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),N.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),N.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Br.yr(t);return N.resolve(r)}containsKey(e,t){return N.resolve(this.Br.containsKey(t))}};var Ep=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new mn(0),this.Kr=!1,this.Kr=!0,this.$r=new v0,this.referenceDelegate=e(this),this.Ur=new I0(this),this.indexManager=new o0,this.remoteDocumentCache=function(i){return new w0(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new hp(t),this.Gr=new g0(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new y0,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new _0(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){B("MemoryPersistence","Starting transaction:",e);let i=new D0(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,t){return N.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}},D0=class extends ep{constructor(e){super(),this.currentSequenceNumber=e}},Ip=class n{constructor(e){this.persistence=e,this.Jr=new vc,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw ee()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),N.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),N.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),N.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return N.forEach(this.Xr,r=>{let i=Q.fromPath(r);return this.ei(e,i).next(s=>{s||t.removeEntry(i,oe.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return N.or([()=>N.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var C0=class{constructor(e){this.serializer=e}O(e,t,r,i){let s=new tp("createOrUpgrade",t);r<1&&i>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",wx,{unique:!0}),l.createObjectStore("documentMutations")}(e),s1(e),function(l){l.createObjectStore("remoteDocuments")}(e));let o=N.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),s1(e)),o=o.next(()=>function(l){let c=l.store("targetGlobal"),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:oe.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",d)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(l,c){return c.store("mutations").U().next(d=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",wx,{unique:!0});let f=c.store("mutations"),m=d.map(y=>f.put(y));return N.waitFor(m)})}(e,s))),o=o.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.ni(s))),r<6&&i>=6&&(o=o.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ri(s)))),r<7&&i>=7&&(o=o.next(()=>this.ii(s))),r<8&&i>=8&&(o=o.next(()=>this.si(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.oi(s))),r<11&&i>=11&&(o=o.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(l){let c=l.createObjectStore("documentOverlays",{keyPath:W4});c.createIndex("collectionPathOverlayIndex",K4,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",Q4,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(l){let c=l.createObjectStore("remoteDocumentsV14",{keyPath:F4});c.createIndex("documentKeyIndex",V4),c.createIndex("collectionGroupIndex",L4)}(e)).next(()=>this._i(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.ai(e,s))),r<15&&i>=15&&(o=o.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:H4}).createIndex("sequenceNumberIndex",q4,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:z4}).createIndex("documentKeyIndex",G4,{unique:!1})}(e))),r<16&&i>=16&&(o=o.next(()=>{t.objectStore("indexState").clear()}).next(()=>{t.objectStore("indexEntries").clear()})),r<17&&i>=17&&(o=o.next(()=>{(function(l){l.createObjectStore("globals",{keyPath:"name"})})(e)})),o}ri(e){let t=0;return e.store("remoteDocuments").J((r,i)=>{t+=yp(i)}).next(()=>{let r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ni(e){let t=e.store("mutationQueues"),r=e.store("mutations");return t.U().next(i=>N.forEach(i,s=>{let o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",o).next(a=>N.forEach(a,l=>{ne(l.userId===s.userId);let c=zs(this.serializer,l);return ER(e,s.userId,c).next(()=>{})}))}))}ii(e){let t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{let s=[];return r.J((o,a)=>{let l=new xe(o),c=function(f){return[0,Yt(f)]}(l);s.push(t.get(c).next(d=>d?N.resolve():(f=>t.put({targetId:0,path:Yt(f),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>N.waitFor(s))})}si(e,t){e.createObjectStore("collectionParents",{keyPath:$4});let r=t.store("collectionParents"),i=new yc,s=o=>{if(i.add(o)){let a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:Yt(l)})}};return t.store("remoteDocuments").J({H:!0},(o,a)=>{let l=new xe(o);return s(l.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([o,a,l],c)=>{let d=pr(a);return s(d.popLast())}))}oi(e){let t=e.store("targets");return t.J((r,i)=>{let s=Ju(i),o=vR(this.serializer,s);return t.put(o)})}_i(e,t){let r=t.store("remoteDocuments"),i=[];return r.J((s,o)=>{let a=t.store("remoteDocumentsV14"),l=function(f){return f.document?new Q(xe.fromString(f.document.name).popFirst(5)):f.noDocument?Q.fromSegments(f.noDocument.path):f.unknownDocument?Q.fromSegments(f.unknownDocument.path):ee()}(o).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(c))}).next(()=>N.waitFor(i))}ai(e,t){let r=t.store("mutations"),i=CR(this.serializer),s=new Ep(Ip.Zr,this.serializer.ct);return r.U().next(o=>{let a=new Map;return o.forEach(l=>{var c;let d=(c=a.get(l.userId))!==null&&c!==void 0?c:fe();zs(this.serializer,l).keys().forEach(f=>d=d.add(f)),a.set(l.userId,d)}),N.forEach(a,(l,c)=>{let d=new vt(c),f=pp.lt(this.serializer,d),m=s.getIndexManager(d),y=vp.lt(d,this.serializer,m,s.referenceDelegate);return new wp(i,y,f,m).recalculateAndSaveOverlaysForDocumentKeys(new oc(t,mn.oe),l).next()})})}};function s1(n){n.createObjectStore("targetDocuments",{keyPath:B4}).createIndex("documentTargetsIndex",U4,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",j4,{unique:!0}),n.createObjectStore("targetGlobal")}var hw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",b0=class n{constructor(e,t,r,i,s,o,a,l,c,d,f=17){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.ui=s,this.window=o,this.document=a,this.ci=c,this.li=d,this.hi=f,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=m=>Promise.resolve(),!n.D())throw new L(O.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new h0(this,i),this.Ai=t+"main",this.serializer=new hp(l),this.Ri=new zi(this.Ai,this.hi,new C0(this.serializer)),this.$r=new Xw,this.Ur=new l0(this.referenceDelegate,this.serializer),this.remoteDocumentCache=CR(this.serializer),this.Gr=new Jw,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,d===!1&&dt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new L(O.FAILED_PRECONDITION,hw);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new mn(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){return this.di=t=>P(this,null,function*(){if(this.started)return e(t)}),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(t=>P(this,null,function*(){t.newVersion===null&&(yield e())}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget(()=>P(this,null,function*(){this.started&&(yield this.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>qf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(t=>{t||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(t=>this.isPrimary&&!t?this.bi(e).next(()=>!1):!!t&&this.Di(e).next(()=>!0))).catch(e=>{if(ts(e))return B("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return B("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return Yu(e).get("owner").next(t=>N.resolve(this.vi(t)))}Ci(e){return qf(e).delete(this.clientId)}Fi(){return P(this,null,function*(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();let e=yield this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{let r=Ct(t,"clientMetadata");return r.U().next(i=>{let s=this.xi(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return N.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Vi)for(let t of e)this.Vi.removeItem(this.Oi(t.clientId))}})}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?N.resolve(!0):Yu(e).get("owner").next(t=>{if(t!==null&&this.Mi(t.leaseTimestampMs,5e3)&&!this.Ni(t.ownerId)){if(this.vi(t)&&this.networkEnabled)return!0;if(!this.vi(t)){if(!t.allowTabSynchronization)throw new L(O.FAILED_PRECONDITION,hw);return!1}}return!(!this.networkEnabled||!this.inForeground)||qf(e).U().next(r=>this.xi(r,5e3).find(i=>{if(this.clientId!==i.clientId){let s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&B("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){return P(this,null,function*(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),yield this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{let t=new oc(e,mn.oe);return this.bi(t).next(()=>this.Ci(t))}),this.Ri.close(),this.qi()})}xi(e,t){return e.filter(r=>this.Mi(r.updateTimeMs,t)&&!this.Ni(r.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>qf(e).U().next(t=>this.xi(t,18e5).map(r=>r.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,t){return vp.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new a0(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return pp.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,t,r){B("IndexedDbPersistence","Starting transaction:",e);let i=t==="readonly"?"readonly":"readwrite",s=function(l){return l===17?J4:l===16?Z4:l===15?vE:l===14?R1:l===13?x1:l===12?Y4:l===11?M1:void ee()}(this.hi),o;return this.Ri.runTransaction(e,i,s,a=>(o=new oc(a,this.Qr?this.Qr.next():mn.oe),t==="readwrite-primary"?this.wi(o).next(l=>!!l||this.Si(o)).next(l=>{if(!l)throw dt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new L(O.FAILED_PRECONDITION,b1);return r(o)}).next(l=>this.Di(o).next(()=>l)):this.Ki(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Ki(e){return Yu(e).get("owner").next(t=>{if(t!==null&&this.Mi(t.leaseTimestampMs,5e3)&&!this.Ni(t.ownerId)&&!this.vi(t)&&!(this.li||this.allowTabSynchronization&&t.allowTabSynchronization))throw new L(O.FAILED_PRECONDITION,hw)})}Di(e){let t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Yu(e).put("owner",t)}static D(){return zi.D()}bi(e){let t=Yu(e);return t.get("owner").next(r=>this.vi(r)?(B("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):N.resolve())}Mi(e,t){let r=Date.now();return!(e<r-t)&&(!(e>r)||(dt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();let t=/(?:Version|Mobile)\/1[456]/;ng()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var t;try{let r=((t=this.Vi)===null||t===void 0?void 0:t.getItem(this.Oi(e)))!==null;return B("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return dt("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){dt("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}};function Yu(n){return Ct(n,"owner")}function qf(n){return Ct(n,"clientMetadata")}function SE(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}var T0=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=fe(),i=fe();for(let s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new n(e,t.fromCache,r,i)}};var S0=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Dp=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return ng()?8:T1(Pl())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){let s={result:null};return this.Yi(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new S0;return this.Xi(e,t,o).next(a=>{if(s.result=a,this.zi)return this.es(e,t,o,a.size)})}).next(()=>s.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(ka()<=Xn.DEBUG&&B("QueryEngine","SDK will not create cache indexes for query:",Oa(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),N.resolve()):(ka()<=Xn.DEBUG&&B("QueryEngine","Query:",Oa(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(ka()<=Xn.DEBUG&&B("QueryEngine","The SDK decides to create cache indexes for query:",Oa(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zt(t))):N.resolve())}Yi(e,t){if(Nx(t))return N.resolve(null);let r=Zt(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=lp(t,null,"F"),r=Zt(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=fe(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{let c=this.ts(t,a);return this.ns(t,c,o,l.readTime)?this.Yi(e,lp(t,null,"F")):this.rs(e,c,t,l)}))})))}Zi(e,t,r,i){return Nx(t)||i.isEqual(oe.min())?N.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(t,s);return this.ns(t,o,r,i)?N.resolve(null):(ka()<=Xn.DEBUG&&B("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Oa(t)),this.rs(e,o,t,D1(i,-1)).next(a=>a))})}ts(e,t){let r=new $e(z1(e));return t.forEach((i,s)=>{Ac(e,s)&&(r=r.add(s))}),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,t,r){return ka()<=Xn.DEBUG&&B("QueryEngine","Using full collection scan to execute query:",Oa(t)),this.Ji.getDocumentsMatchingQuery(e,t,Nn.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}};var A0=class{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new Ke(he),this._s=new Er(s=>Xs(s),Tc),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wp(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function bR(n,e,t,r){return new A0(n,e,t,r)}function TR(n,e){return P(this,null,function*(){let t=K(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],l=fe();for(let c of i){o.push(c.batchId);for(let d of c.mutations)l=l.add(d.key)}for(let c of s){a.push(c.batchId);for(let d of c.mutations)l=l.add(d.key)}return t.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})})}function RH(n,e){let t=K(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){let f=c.batch,m=f.keys(),y=N.resolve();return m.forEach(E=>{y=y.next(()=>d.getEntry(l,E)).next(b=>{let M=c.docVersions.get(E);ne(M!==null),b.version.compareTo(M)<0&&(f.applyToRemoteDocument(b,c),b.isValidDocument()&&(b.setReadTime(c.commitVersion),d.addEntry(b)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=fe();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function SR(n){let e=K(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function NH(n,e){let t=K(n),r=e.snapshotVersion,i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;let a=[];e.targetChanges.forEach((d,f)=>{let m=i.get(f);if(!m)return;a.push(t.Ur.removeMatchingKeys(s,d.removedDocuments,f).next(()=>t.Ur.addMatchingKeys(s,d.addedDocuments,f)));let y=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?y=y.withResumeToken(pt.EMPTY_BYTE_STRING,oe.min()).withLastLimboFreeSnapshotVersion(oe.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,r)),i=i.insert(f,y),function(b,M,F){return b.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(m,y,d)&&a.push(t.Ur.updateTargetData(s,y))});let l=on(),c=fe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(AR(s,o,e.documentUpdates).next(d=>{l=d.Ps,c=d.Is})),!r.isEqual(oe.min())){let d=t.Ur.getLastRemoteSnapshotVersion(s).next(f=>t.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return N.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(t.os=i,s))}function AR(n,e,t){let r=fe(),i=fe();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=on();return t.forEach((a,l)=>{let c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(oe.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):B("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function PH(n,e){let t=K(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Ja(n,e){let t=K(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(s=>s?(i=s,N.resolve(i)):t.Ur.allocateTargetId(r).next(o=>(i=new Ya(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}function Xa(n,e,t){return P(this,null,function*(){let r=K(n),i=r.os.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!ts(o))throw o;B("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function Cp(n,e,t){let r=K(n),i=oe.min(),s=fe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){let f=K(l),m=f._s.get(d);return m!==void 0?N.resolve(f.os.get(m)):f.Ur.getTargetData(c,d)}(r,o,Zt(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,t?i:oe.min(),t?s:fe())).next(a=>(RR(r,q1(e),a),{documents:a,Ts:s})))}function MR(n,e){let t=K(n),r=K(t.Ur),i=t.os.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",s=>r.ot(s,e).next(o=>o?o.target:null))}function xR(n,e){let t=K(n),r=t.us.get(e)||oe.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.cs.getAllFromCollectionGroup(i,e,D1(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(RR(t,e,i),i))}function RR(n,e,t){let r=n.us.get(e)||oe.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.us.set(e,r)}function kH(n,e,t,r){return P(this,null,function*(){let i=K(n),s=fe(),o=on();for(let c of t){let d=e.Es(c.metadata.name);c.document&&(s=s.add(d));let f=e.ds(c);f.setReadTime(e.As(c.metadata.readTime)),o=o.insert(d,f)}let a=i.cs.newChangeBuffer({trackRemovals:!0}),l=yield Ja(i,function(d){return Zt(al(xe.fromString(`__bundle__/docs/${d}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",c=>AR(c,a,o).next(d=>(a.apply(c),d)).next(d=>i.Ur.removeMatchingKeysForTargetId(c,l.targetId).next(()=>i.Ur.addMatchingKeys(c,s,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,d.Ps,d.Is)).next(()=>d.Ps)))})}function OH(r,i){return P(this,arguments,function*(n,e,t=fe()){let s=yield Ja(n,Zt(bE(e.bundledQuery))),o=K(n);return o.persistence.runTransaction("Save named query","readwrite",a=>{let l=ft(e.readTime);if(s.snapshotVersion.compareTo(l)>=0)return o.Gr.saveNamedQuery(a,e);let c=s.withResumeToken(pt.EMPTY_BYTE_STRING,l);return o.os=o.os.insert(c.targetId,c),o.Ur.updateTargetData(a,c).next(()=>o.Ur.removeMatchingKeysForTargetId(a,s.targetId)).next(()=>o.Ur.addMatchingKeys(a,t,s.targetId)).next(()=>o.Gr.saveNamedQuery(a,e))})})}function o1(n,e){return`firestore_clients_${n}_${e}`}function a1(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function fw(n,e){return`firestore_targets_${n}_${e}`}var bp=class n{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Rs(e,t,r){let i=JSON.parse(r),s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new L(i.error.code,i.error.message))),o?new n(e,t,i.state,s):(dt("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Vs(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},nc=class n{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Rs(e,t){let r=JSON.parse(t),i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new L(r.error.code,r.error.message))),s?new n(e,r.state,i):(dt("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Vs(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},Tp=class n{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Rs(e,t){let r=JSON.parse(t),i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=IE();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=S1(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new n(e,s):(dt("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}},M0=class n{constructor(e,t){this.clientId=e,this.onlineState=t}static Rs(e){let t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new n(t.clientId,t.onlineState):(dt("SharedClientState",`Failed to parse online state: ${e}`),null)}},_c=class{constructor(){this.activeTargetIds=IE()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}},rc=class{constructor(e,t,r,i,s){this.window=e,this.ui=t,this.persistenceKey=r,this.ps=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new Ke(he),this.started=!1,this.bs=[];let o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Ds=o1(this.persistenceKey,this.ps),this.vs=function(l){return`firestore_sequence_number_${l}`}(this.persistenceKey),this.Ss=this.Ss.insert(this.ps,new _c),this.Cs=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.xs=function(l){return`firestore_online_state_${l}`}(this.persistenceKey),this.Os=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}start(){return P(this,null,function*(){let e=yield this.syncEngine.Qi();for(let r of e){if(r===this.ps)continue;let i=this.getItem(o1(this.persistenceKey,r));if(i){let s=Tp.Rs(r,i);s&&(this.Ss=this.Ss.insert(s.clientId,s))}}this.Ns();let t=this.storage.getItem(this.xs);if(t){let r=this.Ls(t);r&&this.Bs(r)}for(let r of this.bs)this.ws(r);this.bs=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0})}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let t=!1;return this.Ss.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,t,r){this.qs(e,t,r),this.Qs(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){let i=this.storage.getItem(fw(this.persistenceKey,e));if(i){let s=nc.Rs(e,i);s&&(r=s.state)}}return t&&this.Ks.fs(e),this.Ns(),r}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(fw(this.persistenceKey,e))}updateQueryState(e,t,r){this.$s(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Qs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){let t=this.storage.getItem(e);return B("SharedClientState","READ",e,t),t}setItem(e,t){B("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){B("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){let t=e;if(t.storageArea===this.storage){if(B("SharedClientState","EVENT",t.key,t.newValue),t.key===this.Ds)return void dt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable(()=>P(this,null,function*(){if(this.started){if(t.key!==null){if(this.Cs.test(t.key)){if(t.newValue==null){let r=this.Gs(t.key);return this.zs(r,null)}{let r=this.js(t.key,t.newValue);if(r)return this.zs(r.clientId,r)}}else if(this.Fs.test(t.key)){if(t.newValue!==null){let r=this.Hs(t.key,t.newValue);if(r)return this.Js(r)}}else if(this.Ms.test(t.key)){if(t.newValue!==null){let r=this.Ys(t.key,t.newValue);if(r)return this.Zs(r)}}else if(t.key===this.xs){if(t.newValue!==null){let r=this.Ls(t.newValue);if(r)return this.Bs(r)}}else if(t.key===this.vs){let r=function(s){let o=mn.oe;if(s!=null)try{let a=JSON.parse(s);ne(typeof a=="number"),o=a}catch(a){dt("SharedClientState","Failed to read sequence number from WebStorage",a)}return o}(t.newValue);r!==mn.oe&&this.sequenceNumberHandler(r)}else if(t.key===this.Os){let r=this.Xs(t.newValue);yield Promise.all(r.map(i=>this.syncEngine.eo(i)))}}}else this.bs.push(t)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,t,r){let i=new bp(this.currentUser,e,t,r),s=a1(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Vs())}Qs(e){let t=a1(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Us(e){let t={clientId:this.ps,onlineState:e};this.storage.setItem(this.xs,JSON.stringify(t))}$s(e,t,r){let i=fw(this.persistenceKey,e),s=new nc(e,t,r);this.setItem(i,s.Vs())}Ws(e){let t=JSON.stringify(Array.from(e));this.setItem(this.Os,t)}Gs(e){let t=this.Cs.exec(e);return t?t[1]:null}js(e,t){let r=this.Gs(e);return Tp.Rs(r,t)}Hs(e,t){let r=this.Fs.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return bp.Rs(new vt(s),i,t)}Ys(e,t){let r=this.Ms.exec(e),i=Number(r[1]);return nc.Rs(i,t)}Ls(e){return M0.Rs(e)}Xs(e){return JSON.parse(e)}Js(e){return P(this,null,function*(){if(e.user.uid===this.currentUser.uid)return this.syncEngine.no(e.batchId,e.state,e.error);B("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,t){let r=t?this.Ss.insert(e,t):this.Ss.remove(e),i=this.ks(this.Ss),s=this.ks(r),o=[],a=[];return s.forEach(l=>{i.has(l)||o.push(l)}),i.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.io(o,a).then(()=>{this.Ss=r})}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let t=IE();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}},Sp=class{constructor(){this.so=new _c,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new _c,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var x0=class{_o(e){}shutdown(){}};var Ap=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){B("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){B("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var zf=null;function pw(){return zf===null?zf=function(){return 268435456+Math.round(2147483648*Math.random())}():zf++,"0x"+zf.toString(16)}var FH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var R0=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var jt="WebChannelConnection",N0=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(t,r,i,s,o){let a=pw(),l=this.xo(t,r.toUriEncodedString());B("RestConnection",`Sending RPC '${t}' ${a}:`,l,i);let c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(t,l,c,i).then(d=>(B("RestConnection",`Received RPC '${t}' ${a}: `,d),d),d=>{throw Wn("RestConnection",`RPC '${t}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}Lo(t,r,i,s,o,a){return this.Mo(t,r,i,s,o)}Oo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ol}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}xo(t,r){let i=FH[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){let s=pw();return new Promise((o,a)=>{let l=new ow;l.setWithCredentials(!0),l.listenOnce(aw.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Gu.NO_ERROR:let d=l.getResponseJson();B(jt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Gu.TIMEOUT:B(jt,`RPC '${e}' ${s} timed out`),a(new L(O.DEADLINE_EXCEEDED,"Request time out"));break;case Gu.HTTP_ERROR:let f=l.getStatus();if(B(jt,`RPC '${e}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);let y=m?.error;if(y&&y.status&&y.message){let E=function(M){let F=M.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(F)>=0?F:O.UNKNOWN}(y.status);a(new L(E,y.message))}else a(new L(O.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new L(O.UNAVAILABLE,"Connection failed."));break;default:ee()}}finally{B(jt,`RPC '${e}' ${s} completed.`)}});let c=JSON.stringify(i);B(jt,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",c,r,15)})}Bo(e,t,r){let i=pw(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=cw(),a=uw(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;let d=s.join("");B(jt,`Creating RPC '${e}' stream ${i}: ${d}`,l);let f=o.createWebChannel(d,l),m=!1,y=!1,E=new R0({Io:M=>{y?B(jt,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(m||(B(jt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),m=!0),B(jt,`RPC '${e}' stream ${i} sending:`,M),f.send(M))},To:()=>f.close()}),b=(M,F,q)=>{M.listen(F,V=>{try{q(V)}catch(W){setTimeout(()=>{throw W},0)}})};return b(f,Ma.EventType.OPEN,()=>{y||(B(jt,`RPC '${e}' stream ${i} transport opened.`),E.yo())}),b(f,Ma.EventType.CLOSE,()=>{y||(y=!0,B(jt,`RPC '${e}' stream ${i} transport closed`),E.So())}),b(f,Ma.EventType.ERROR,M=>{y||(y=!0,Wn(jt,`RPC '${e}' stream ${i} transport errored:`,M),E.So(new L(O.UNAVAILABLE,"The operation could not be completed")))}),b(f,Ma.EventType.MESSAGE,M=>{var F;if(!y){let q=M.data[0];ne(!!q);let V=q,W=V.error||((F=V[0])===null||F===void 0?void 0:F.error);if(W){B(jt,`RPC '${e}' stream ${i} received error:`,W);let se=W.status,J=function(I){let S=gt[I];if(S!==void 0)return iR(S)}(se),C=W.message;J===void 0&&(J=O.INTERNAL,C="Unknown error status: "+se+" with message "+W.message),y=!0,E.So(new L(J,C)),f.close()}else B(jt,`RPC '${e}' stream ${i} received:`,q),E.bo(q)}}),b(a,lw.STAT_EVENT,M=>{M.stat===Uf.PROXY?B(jt,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===Uf.NOPROXY&&B(jt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.wo()},0),E}};function NR(){return typeof window<"u"?window:null}function Yf(){return typeof document<"u"?document:null}function Mc(n){return new Ww(n,!0)}var wc=class{constructor(e,t,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&B("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Mp=class{constructor(e,t,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new wc(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return P(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return P(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return P(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===O.RESOURCE_EXHAUSTED?(dt(t.toString()),dt("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{let i=new L(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){let r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>P(this,null,function*(){this.state=0,this.start()}))}I_(e){return B("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(B("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},P0=class extends Mp{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=wH(this.serializer,e),r=function(s){if(!("targetChange"in s))return oe.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?oe.min():o.readTime?ft(o.readTime):oe.min()}(e);return this.listener.d_(t,r)}A_(e){let t={};t.database=Yw(this.serializer),t.addTarget=function(s,o){let a,l=o.target;if(a=op(l)?{documents:hR(s,l)}:{query:fR(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=oR(s,o.resumeToken);let c=Kw(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(oe.min())>0){a.readTime=Qa(s,o.snapshotVersion.toTimestamp());let c=Kw(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);let r=IH(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){let t={};t.database=Yw(this.serializer),t.removeTarget=e,this.a_(t)}},k0=class extends Mp{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return ne(!!e.streamToken),this.lastStreamToken=e.streamToken,ne(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ne(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=EH(e.writeResults,e.commitTime),r=ft(e.commitTime);return this.listener.g_(r,t)}p_(){let e={};e.database=Yw(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>gc(this.serializer,r))};this.a_(t)}};var O0=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new L(O.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Qw(t,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new L(O.UNKNOWN,s.toString())})}Lo(e,t,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Qw(t,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new L(O.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},F0=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(dt(t),this.D_=!1):B("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var V0=class{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>P(this,null,function*(){ns(this)&&(B("RemoteStore","Restarting streams for network reachability change."),yield function(l){return P(this,null,function*(){let c=K(l);c.L_.add(4),yield ll(c),c.q_.set("Unknown"),c.L_.delete(4),yield xc(c)})}(this))}))}),this.q_=new F0(r,i)}};function xc(n){return P(this,null,function*(){if(ns(n))for(let e of n.B_)yield e(!0)})}function ll(n){return P(this,null,function*(){for(let e of n.B_)yield e(!1)})}function Yp(n,e){let t=K(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),xE(t)?ME(t):cl(t).r_()&&AE(t,e))}function el(n,e){let t=K(n),r=cl(t);t.N_.delete(e),r.r_()&&PR(t,e),t.N_.size===0&&(r.r_()?r.o_():ns(t)&&t.q_.set("Unknown"))}function AE(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(oe.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}cl(n).A_(e)}function PR(n,e){n.Q_.xe(e),cl(n).R_(e)}function ME(n){n.Q_=new Gw({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),cl(n).start(),n.q_.v_()}function xE(n){return ns(n)&&!cl(n).n_()&&n.N_.size>0}function ns(n){return K(n).L_.size===0}function kR(n){n.Q_=void 0}function VH(n){return P(this,null,function*(){n.q_.set("Online")})}function LH(n){return P(this,null,function*(){n.N_.forEach((e,t)=>{AE(n,e)})})}function jH(n,e){return P(this,null,function*(){kR(n),xE(n)?(n.q_.M_(e),ME(n)):n.q_.set("Unknown")})}function BH(n,e,t){return P(this,null,function*(){if(n.q_.set("Online"),e instanceof cp&&e.state===2&&e.cause)try{yield function(i,s){return P(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))})}(n,e)}catch(r){B("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield xp(n,r)}else if(e instanceof $a?n.Q_.Ke(e):e instanceof up?n.Q_.He(e):n.Q_.We(e),!t.isEqual(oe.min()))try{let r=yield SR(n.localStore);t.compareTo(r)>=0&&(yield function(s,o){let a=s.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){let d=s.N_.get(c);d&&s.N_.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{let d=s.N_.get(l);if(!d)return;s.N_.set(l,d.withResumeToken(pt.EMPTY_BYTE_STRING,d.snapshotVersion)),PR(s,l);let f=new Ya(d.target,l,c,d.sequenceNumber);AE(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){B("RemoteStore","Failed to raise snapshot:",r),yield xp(n,r)}})}function xp(n,e,t){return P(this,null,function*(){if(!ts(e))throw e;n.L_.add(1),yield ll(n),n.q_.set("Offline"),t||(t=()=>SR(n.localStore)),n.asyncQueue.enqueueRetryable(()=>P(this,null,function*(){B("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield xc(n)}))})}function OR(n,e){return e().catch(t=>xp(n,t,e))}function ul(n){return P(this,null,function*(){let e=K(n),t=Xi(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;UH(e);)try{let i=yield PH(e.localStore,r);if(i===null){e.O_.length===0&&t.o_();break}r=i.batchId,$H(e,i)}catch(i){yield xp(e,i)}FR(e)&&VR(e)})}function UH(n){return ns(n)&&n.O_.length<10}function $H(n,e){n.O_.push(e);let t=Xi(n);t.r_()&&t.V_&&t.m_(e.mutations)}function FR(n){return ns(n)&&!Xi(n).n_()&&n.O_.length>0}function VR(n){Xi(n).start()}function HH(n){return P(this,null,function*(){Xi(n).p_()})}function qH(n){return P(this,null,function*(){let e=Xi(n);for(let t of n.O_)e.m_(t.mutations)})}function zH(n,e,t){return P(this,null,function*(){let r=n.O_.shift(),i=Hw.from(r,e,t);yield OR(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield ul(n)})}function GH(n,e){return P(this,null,function*(){e&&Xi(n).V_&&(yield function(r,i){return P(this,null,function*(){if(function(o){return rR(o)&&o!==O.ABORTED}(i.code)){let s=r.O_.shift();Xi(r).s_(),yield OR(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield ul(r)}})}(n,e)),FR(n)&&VR(n)})}function l1(n,e){return P(this,null,function*(){let t=K(n);t.asyncQueue.verifyOperationInProgress(),B("RemoteStore","RemoteStore received new credentials");let r=ns(t);t.L_.add(3),yield ll(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield xc(t)})}function L0(n,e){return P(this,null,function*(){let t=K(n);e?(t.L_.delete(2),yield xc(t)):e||(t.L_.add(2),yield ll(t),t.q_.set("Unknown"))})}function cl(n){return n.K_||(n.K_=function(t,r,i){let s=K(t);return s.w_(),new P0(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Eo:VH.bind(null,n),Ro:LH.bind(null,n),mo:jH.bind(null,n),d_:BH.bind(null,n)}),n.B_.push(e=>P(this,null,function*(){e?(n.K_.s_(),xE(n)?ME(n):n.q_.set("Unknown")):(yield n.K_.stop(),kR(n))}))),n.K_}function Xi(n){return n.U_||(n.U_=function(t,r,i){let s=K(t);return s.w_(),new k0(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:HH.bind(null,n),mo:GH.bind(null,n),f_:qH.bind(null,n),g_:zH.bind(null,n)}),n.B_.push(e=>P(this,null,function*(){e?(n.U_.s_(),yield ul(n)):(yield n.U_.stop(),n.O_.length>0&&(B("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var j0=class n{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Dt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){let o=Date.now()+r,a=new n(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function dl(n,e){if(dt("AsyncQueue",`${e}: ${n}`),ts(n))return new L(O.UNAVAILABLE,`${e}: ${n}`);throw n}var Rp=class n{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Q.comparator(t.key,r.key):(t,r)=>Q.comparator(t.key,r.key),this.keyedMap=Zu(),this.sortedSet=new Ke(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Np=class{constructor(){this.W_=new Ke(Q.comparator)}track(e){let t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):ee():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}},tl=class n{constructor(e,t,r,i,s,o,a,l,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,s){let o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new n(e,t,Rp.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var B0=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},U0=class{constructor(){this.queries=u1(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){let i=K(t),s=i.queries;i.queries=u1(),s.forEach((o,a)=>{for(let l of a.j_)l.onError(r)})})(this,new L(O.ABORTED,"Firestore shutting down"))}};function u1(){return new Er(n=>H1(n),Sc)}function RE(n,e){return P(this,null,function*(){let t=K(n),r=3,i=e.query,s=t.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new B0,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield t.onListen(i,!0);break;case 1:s.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(o){let a=dl(o,`Initialization of query '${Oa(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,s),s.j_.push(e),e.Z_(t.onlineState),s.z_&&e.X_(s.z_)&&PE(t)})}function NE(n,e){return P(this,null,function*(){let t=K(n),r=e.query,i=3,s=t.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function WH(n,e){let t=K(n),r=!1;for(let i of e){let s=i.query,o=t.queries.get(s);if(o){for(let a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&PE(t)}function KH(n,e,t){let r=K(n),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(t);r.queries.delete(e)}function PE(n){n.Y_.forEach(e=>{e.next()})}var $0,c1;(c1=$0||($0={})).ea="default",c1.Cache="cache";var Ec=class{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new tl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=tl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==$0.Cache}};var H0=class{constructor(e,t){this.aa=e,this.byteLength=t}ua(){return"metadata"in this.aa}};var Pp=class{constructor(e){this.serializer=e}Es(e){return yr(this.serializer,e)}ds(e){return e.metadata.exists?dR(this.serializer,e.document,!1):_t.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return ft(e)}},q0=class{constructor(e,t,r){this.ca=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=LR(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++t;let r=xe.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ha(e){let t=new Map,r=new Pp(this.serializer);for(let i of e)if(i.metadata.queries){let s=r.Es(i.metadata.name);for(let o of i.metadata.queries){let a=(t.get(o)||fe()).add(s);t.set(o,a)}}return t}complete(){return P(this,null,function*(){let e=yield kH(this.localStore,new Pp(this.serializer),this.documents,this.ca.id),t=this.ha(this.documents);for(let r of this.queries)yield OH(this.localStore,r,t.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Pa:this.collectionGroups,Ia:e}})}};function LR(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}var kp=class{constructor(e){this.key=e}},Op=class{constructor(e){this.key=e}},Fp=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=fe(),this.mutatedKeys=fe(),this.Aa=z1(e),this.Ra=new Rp(this.Aa)}get Va(){return this.Ta}ma(e,t){let r=t?t.fa:new Np,i=t?t.Ra:this.Ra,s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1,l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{let m=i.get(d),y=Ac(this.query,f)?f:null,E=!!m&&this.mutatedKeys.has(m.key),b=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),M=!1;m&&y?m.data.isEqual(y.data)?E!==b&&(r.track({type:3,doc:y}),M=!0):this.ga(m,y)||(r.track({type:2,doc:y}),M=!0,(l&&this.Aa(y,l)>0||c&&this.Aa(y,c)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),M=!0):m&&!y&&(r.track({type:1,doc:m}),M=!0,(l||c)&&(a=!0)),M&&(y?(o=o.add(y),s=b?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((d,f)=>function(y,E){let b=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee()}};return b(y)-b(E)}(d.type,f.type)||this.Aa(d.doc,f.doc)),this.pa(r),i=i!=null&&i;let a=t&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new tl(this.query,e.Ra,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Np,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=fe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let t=[];return e.forEach(r=>{this.da.has(r)||t.push(new Op(r))}),this.da.forEach(r=>{e.has(r)||t.push(new kp(r))}),t}ba(e){this.Ta=e.Ts,this.da=fe();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return tl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},z0=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},G0=class{constructor(e){this.key=e,this.va=!1}},W0=class{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Er(a=>H1(a),Sc),this.Ma=new Map,this.xa=new Set,this.Oa=new Ke(Q.comparator),this.Na=new Map,this.La=new vc,this.Ba={},this.ka=new Map,this.qa=Za.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function QH(n,e,t=!0){return P(this,null,function*(){let r=Zp(n),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield jR(r,e,t,!0),i})}function YH(n,e){return P(this,null,function*(){let t=Zp(n);yield jR(t,e,!0,!1)})}function jR(n,e,t,r){return P(this,null,function*(){let i=yield Ja(n.localStore,Zt(e)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t),a;return r&&(a=yield kE(n,e,s,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&Yp(n.remoteStore,i),a})}function kE(n,e,t,r,i){return P(this,null,function*(){n.Ka=(f,m,y)=>function(b,M,F,q){return P(this,null,function*(){let V=M.view.ma(F);V.ns&&(V=yield Cp(b.localStore,M.query,!1).then(({documents:C})=>M.view.ma(C,V)));let W=q&&q.targetChanges.get(M.targetId),se=q&&q.targetMismatches.get(M.targetId)!=null,J=M.view.applyChanges(V,b.isPrimaryClient,W,se);return K0(b,M.targetId,J.wa),J.snapshot})}(n,f,m,y);let s=yield Cp(n.localStore,e,!0),o=new Fp(e,s.Ts),a=o.ma(s.documents),l=pc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),c=o.applyChanges(a,n.isPrimaryClient,l);K0(n,t,c.wa);let d=new z0(e,t,o);return n.Fa.set(e,d),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),c.snapshot})}function ZH(n,e,t){return P(this,null,function*(){let r=K(n),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Sc(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Xa(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&el(r.remoteStore,i.targetId),nl(r,i.targetId)}).catch(es))):(nl(r,i.targetId),yield Xa(r.localStore,i.targetId,!0))})}function JH(n,e){return P(this,null,function*(){let t=K(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),el(t.remoteStore,r.targetId))})}function XH(n,e,t){return P(this,null,function*(){let r=LE(n);try{let i=yield function(o,a){let l=K(o),c=et.now(),d=a.reduce((y,E)=>y.add(E.key),fe()),f,m;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let E=on(),b=fe();return l.cs.getEntries(y,d).next(M=>{E=M,E.forEach((F,q)=>{q.isValidDocument()||(b=b.add(F))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,E)).next(M=>{f=M;let F=[];for(let q of a){let V=fH(q,f.get(q.key).overlayedDocument);V!=null&&F.push(new Qn(q.key,V,F1(V.value.mapValue),ut.exists(!0)))}return l.mutationQueue.addMutationBatch(y,c,F,a)}).next(M=>{m=M;let F=M.applyToLocalDocumentSet(f,b);return l.documentOverlayCache.saveOverlays(y,M.batchId,F)})}).then(()=>({batchId:m.batchId,changes:W1(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new Ke(he)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(r,i.batchId,t),yield oi(r,i.changes),yield ul(r.remoteStore)}catch(i){let s=dl(i,"Failed to persist write");t.reject(s)}})}function BR(n,e){return P(this,null,function*(){let t=K(n);try{let r=yield NH(t.localStore,e);e.targetChanges.forEach((i,s)=>{let o=t.Na.get(s);o&&(ne(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?ne(o.va):i.removedDocuments.size>0&&(ne(o.va),o.va=!1))}),yield oi(t,r,e)}catch(r){yield es(r)}})}function d1(n,e,t){let r=K(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Fa.forEach((s,o)=>{let a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let l=K(o);l.onlineState=a;let c=!1;l.queries.forEach((d,f)=>{for(let m of f.j_)m.Z_(a)&&(c=!0)}),c&&PE(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function e3(n,e,t){return P(this,null,function*(){let r=K(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new Ke(Q.comparator);o=o.insert(s,_t.newNoDocument(s,oe.min()));let a=fe().add(s),l=new fc(oe.min(),new Map,new Ke(he),o,a);yield BR(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),VE(r)}else yield Xa(r.localStore,e,!1).then(()=>nl(r,e,t)).catch(es)})}function t3(n,e){return P(this,null,function*(){let t=K(n),r=e.batch.batchId;try{let i=yield RH(t.localStore,e);FE(t,r,null),OE(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield oi(t,i)}catch(i){yield es(i)}})}function n3(n,e,t){return P(this,null,function*(){let r=K(n);try{let i=yield function(o,a){let l=K(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(ne(f!==null),d=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);FE(r,e,t),OE(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield oi(r,i)}catch(i){yield es(i)}})}function r3(n,e){return P(this,null,function*(){let t=K(n);ns(t.remoteStore)||B("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{let r=yield function(o){let a=K(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(t.localStore);if(r===-1)return void e.resolve();let i=t.ka.get(r)||[];i.push(e),t.ka.set(r,i)}catch(r){let i=dl(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}})}function OE(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function FE(n,e,t){let r=K(n),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function nl(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||UR(n,r)})}function UR(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(el(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),VE(n))}function K0(n,e,t){for(let r of t)r instanceof kp?(n.La.addReference(r.key,e),i3(n,r)):r instanceof Op?(B("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||UR(n,r.key)):ee()}function i3(n,e){let t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(B("SyncEngine","New document in limbo: "+t),n.xa.add(r),VE(n))}function VE(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new Q(xe.fromString(e)),r=n.qa.next();n.Na.set(r,new G0(t)),n.Oa=n.Oa.insert(t,r),Yp(n.remoteStore,new Ya(Zt(al(t.path)),r,"TargetPurposeLimboResolution",mn.oe))}}function oi(n,e,t){return P(this,null,function*(){let r=K(n),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,t).then(c=>{var d;if((c||t)&&r.isPrimaryClient){let f=c?!c.fromCache:(d=t?.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);let f=T0.Wi(l.targetId,c);s.push(f)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(l,c){return P(this,null,function*(){let d=K(l);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>N.forEach(c,m=>N.forEach(m.$i,y=>d.persistence.referenceDelegate.addReference(f,m.targetId,y)).next(()=>N.forEach(m.Ui,y=>d.persistence.referenceDelegate.removeReference(f,m.targetId,y)))))}catch(f){if(!ts(f))throw f;B("LocalStore","Failed to update sequence numbers: "+f)}for(let f of c){let m=f.targetId;if(!f.fromCache){let y=d.os.get(m),E=y.snapshotVersion,b=y.withLastLimboFreeSnapshotVersion(E);d.os=d.os.insert(m,b)}}})}(r.localStore,s))})}function s3(n,e){return P(this,null,function*(){let t=K(n);if(!t.currentUser.isEqual(e)){B("SyncEngine","User change. New user:",e.toKey());let r=yield TR(t.localStore,e);t.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new L(O.CANCELLED,o))})}),s.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield oi(t,r.hs)}})}function o3(n,e){let t=K(n),r=t.Na.get(e);if(r&&r.va)return fe().add(r.key);{let i=fe(),s=t.Ma.get(e);if(!s)return i;for(let o of s){let a=t.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function a3(n,e){return P(this,null,function*(){let t=K(n),r=yield Cp(t.localStore,e.query,!0),i=e.view.ba(r);return t.isPrimaryClient&&K0(t,e.targetId,i.wa),i})}function l3(n,e){return P(this,null,function*(){let t=K(n);return xR(t.localStore,e).then(r=>oi(t,r))})}function u3(n,e,t,r){return P(this,null,function*(){let i=K(n),s=yield function(a,l){let c=K(a),d=K(c.mutationQueue);return c.persistence.runTransaction("Lookup mutation documents","readonly",f=>d.Mn(f,l).next(m=>m?c.localDocuments.getDocuments(f,m):N.resolve(null)))}(i.localStore,e);s!==null?(t==="pending"?yield ul(i.remoteStore):t==="acknowledged"||t==="rejected"?(FE(i,e,r||null),OE(i,e),function(a,l){K(K(a).mutationQueue).On(l)}(i.localStore,e)):ee(),yield oi(i,s)):B("SyncEngine","Cannot apply mutation batch with id: "+e)})}function c3(n,e){return P(this,null,function*(){let t=K(n);if(Zp(t),LE(t),e===!0&&t.Qa!==!0){let r=t.sharedClientState.getAllActiveQueryTargets(),i=yield h1(t,r.toArray());t.Qa=!0,yield L0(t.remoteStore,!0);for(let s of i)Yp(t.remoteStore,s)}else if(e===!1&&t.Qa!==!1){let r=[],i=Promise.resolve();t.Ma.forEach((s,o)=>{t.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(nl(t,o),Xa(t.localStore,o,!0))),el(t.remoteStore,o)}),yield i,yield h1(t,r),function(o){let a=K(o);a.Na.forEach((l,c)=>{el(a.remoteStore,c)}),a.La.pr(),a.Na=new Map,a.Oa=new Ke(Q.comparator)}(t),t.Qa=!1,yield L0(t.remoteStore,!1)}})}function h1(n,e,t){return P(this,null,function*(){let r=K(n),i=[],s=[];for(let o of e){let a,l=r.Ma.get(o);if(l&&l.length!==0){a=yield Ja(r.localStore,Zt(l[0]));for(let c of l){let d=r.Fa.get(c),f=yield a3(r,d);f.snapshot&&s.push(f.snapshot)}}else{let c=yield MR(r.localStore,o);a=yield Ja(r.localStore,c),yield kE(r,$R(c),o,!1,a.resumeToken)}i.push(a)}return r.Ca.d_(s),i})}function $R(n){return $1(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function d3(n){return function(t){return K(K(t).persistence).Qi()}(K(n).localStore)}function h3(n,e,t,r){return P(this,null,function*(){let i=K(n);if(i.Qa)return void B("SyncEngine","Ignoring unexpected query state notification.");let s=i.Ma.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{let o=yield xR(i.localStore,q1(s[0])),a=fc.createSynthesizedRemoteEventForCurrentChange(e,t==="current",pt.EMPTY_BYTE_STRING);yield oi(i,o,a);break}case"rejected":yield Xa(i.localStore,e,!0),nl(i,e,r);break;default:ee()}})}function f3(n,e,t){return P(this,null,function*(){let r=Zp(n);if(r.Qa){for(let i of e){if(r.Ma.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){B("SyncEngine","Adding an already active target "+i);continue}let s=yield MR(r.localStore,i),o=yield Ja(r.localStore,s);yield kE(r,$R(s),o.targetId,!1,o.resumeToken),Yp(r.remoteStore,o)}for(let i of t)r.Ma.has(i)&&(yield Xa(r.localStore,i,!1).then(()=>{el(r.remoteStore,i),nl(r,i)}).catch(es))}})}function Zp(n){let e=K(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=BR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=o3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=e3.bind(null,e),e.Ca.d_=WH.bind(null,e.eventManager),e.Ca.$a=KH.bind(null,e.eventManager),e}function LE(n){let e=K(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=t3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=n3.bind(null,e),e}function p3(n,e,t){let r=K(n);(function(s,o,a){return P(this,null,function*(){try{let l=yield o.getMetadata();if(yield function(y,E){let b=K(y),M=ft(E.createTime);return b.persistence.runTransaction("hasNewerBundle","readonly",F=>b.Gr.getBundleMetadata(F,E.id)).then(F=>!!F&&F.createTime.compareTo(M)>=0)}(s.localStore,l))return yield o.close(),a._completeWith(function(y){return{taskState:"Success",documentsLoaded:y.totalDocuments,bytesLoaded:y.totalBytes,totalDocuments:y.totalDocuments,totalBytes:y.totalBytes}}(l)),Promise.resolve(new Set);a._updateProgress(LR(l));let c=new q0(l,s.localStore,o.serializer),d=yield o.Ua();for(;d;){let m=yield c.la(d);m&&a._updateProgress(m),d=yield o.Ua()}let f=yield c.complete();return yield oi(s,f.Ia,void 0),yield function(y,E){let b=K(y);return b.persistence.runTransaction("Save bundle","readwrite",M=>b.Gr.saveBundleMetadata(M,E))}(s.localStore,l),a._completeWith(f.progress),Promise.resolve(f.Pa)}catch(l){return Wn("SyncEngine",`Loading bundle failed with ${l}`),a._failWith(l),Promise.resolve(new Set)}})})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}var Q0=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return P(this,null,function*(){this.serializer=Mc(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,r){return null}Ha(t,r){return null}za(t){return bR(this.persistence,new Dp,t.initialUser,this.serializer)}Ga(t){return new Ep(Ip.Zr,this.serializer)}Wa(t){return new Sp}terminate(){return P(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var Vp=class n extends Q0{constructor(e,t,r){super(),this.Ja=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}initialize(e){return P(this,null,function*(){yield eg(n.prototype,this,"initialize").call(this,e),yield this.Ja.initialize(this,e),yield LE(this.Ja.syncEngine),yield ul(this.Ja.remoteStore),yield this.persistence.yi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))})}za(e){return bR(this.persistence,new Dp,e.initialUser,this.serializer)}ja(e,t){let r=this.persistence.referenceDelegate.garbageCollector;return new c0(r,e.asyncQueue,t)}Ha(e,t){let r=new Sw(t,this.persistence);return new Tw(e.asyncQueue,r)}Ga(e){let t=SE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Rn.withCacheSize(this.cacheSizeBytes):Rn.DEFAULT;return new b0(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,NR(),Yf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new Sp}},Y0=class n extends Vp{constructor(e,t){super(e,t,!1),this.Ja=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){return P(this,null,function*(){yield eg(n.prototype,this,"initialize").call(this,e);let t=this.Ja.syncEngine;this.sharedClientState instanceof rc&&(this.sharedClientState.syncEngine={no:u3.bind(null,t),ro:h3.bind(null,t),io:f3.bind(null,t),Qi:d3.bind(null,t),eo:l3.bind(null,t)},yield this.sharedClientState.start()),yield this.persistence.yi(r=>P(this,null,function*(){yield c3(this.Ja.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))})}Wa(e){let t=NR();if(!rc.D(t))throw new L(O.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");let r=SE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new rc(t,e.asyncQueue,r,e.clientId,e.initialUser)}},jE=(()=>{class n{initialize(t,r){return P(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>d1(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=s3.bind(null,this.syncEngine),yield L0(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new U0}()}createDatastore(t){let r=Mc(t.databaseInfo.databaseId),i=function(o){return new N0(o)}(t.databaseInfo);return function(o,a,l,c){return new O0(o,a,l,c)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,s,o,a,l){return new V0(i,s,o,a,l)}(this.localStore,this.datastore,t.asyncQueue,r=>d1(this.syncEngine,r,0),function(){return Ap.D()?new Ap:new x0}())}createSyncEngine(t,r){return function(s,o,a,l,c,d,f){let m=new W0(s,o,a,l,c,d);return f&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return P(this,null,function*(){var t,r;yield function(s){return P(this,null,function*(){let o=K(s);B("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield ll(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();function f1(n,e=10240){let t=0;return{read(){return P(this,null,function*(){if(t<n.byteLength){let i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})},cancel(){return P(this,null,function*(){})},releaseLock(){},closed:Promise.resolve()}}var rl=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):dt("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Z0=class{constructor(e,t){this.Xa=e,this.serializer=t,this.metadata=new Dt,this.buffer=new Uint8Array,this.eu=function(){return new TextDecoder("utf-8")}(),this.tu().then(r=>{r&&r.ua()?this.metadata.resolve(r.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r?.aa)}`))},r=>this.metadata.reject(r))}close(){return this.Xa.cancel()}getMetadata(){return P(this,null,function*(){return this.metadata.promise})}Ua(){return P(this,null,function*(){return yield this.getMetadata(),this.tu()})}tu(){return P(this,null,function*(){let e=yield this.nu();if(e===null)return null;let t=this.eu.decode(e),r=Number(t);isNaN(r)&&this.ru(`length string (${t}) is not valid number`);let i=yield this.iu(r);return new H0(JSON.parse(i),e.length+r)})}su(){return this.buffer.findIndex(e=>e===123)}nu(){return P(this,null,function*(){for(;this.su()<0&&!(yield this.ou()););if(this.buffer.length===0)return null;let e=this.su();e<0&&this.ru("Reached the end of bundle when a length string is expected.");let t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t})}iu(e){return P(this,null,function*(){for(;this.buffer.length<e;)(yield this.ou())&&this.ru("Reached the end of bundle when more is expected.");let t=this.eu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t})}ru(e){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${e}`)}ou(){return P(this,null,function*(){let e=yield this.Xa.read();if(!e.done){let t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done})}};var J0=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){return P(this,null,function*(){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new L(O.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;let t=yield function(i,s){return P(this,null,function*(){let o=K(i),a={documents:s.map(f=>mc(o.serializer,f))},l=yield o.Lo("BatchGetDocuments",o.serializer.databaseId,xe.emptyPath(),a,s.length),c=new Map;l.forEach(f=>{let m=_H(o.serializer,f);c.set(m.key.toString(),m)});let d=[];return s.forEach(f=>{let m=c.get(f.toString());ne(!!m),d.push(m)}),d})}(this.datastore,e);return t.forEach(r=>this.recordVersion(r)),t})}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ji(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){return P(this,null,function*(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;let e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,r)=>{let i=Q.fromPath(r);this.mutations.push(new cc(i,this.precondition(i)))}),yield function(r,i){return P(this,null,function*(){let s=K(r),o={writes:i.map(a=>gc(s.serializer,a))};yield s.Mo("Commit",s.serializer.databaseId,xe.emptyPath(),o)})}(this.datastore,this.mutations),this.committed=!0})}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ee();t=oe.min()}let r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new L(O.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){let t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(oe.min())?ut.exists(!1):ut.updateTime(t):ut.none()}preconditionForUpdate(e){let t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(oe.min()))throw new L(O.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ut.updateTime(t)}return ut.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};var X0=class{constructor(e,t,r,i,s){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=s,this._u=r.maxAttempts,this.t_=new wc(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go(()=>P(this,null,function*(){let e=new J0(this.datastore),t=this.cu(e);t&&t.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.lu(i)}))}).catch(r=>{this.lu(r)})}))}cu(e){try{let t=this.updateFunction(e);return!bc(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){let t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!rR(t)}return!1}};var eE=class{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=vt.UNAUTHENTICATED,this.clientId=Jf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,o=>P(this,null,function*(){B("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(B("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Dt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>P(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=dl(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function mw(n,e){return P(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),B("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>P(this,null,function*(){r.isEqual(i)||(yield TR(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function p1(n,e){return P(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield BE(n);B("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>l1(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>l1(e.remoteStore,i)),n._onlineComponents=e})}function BE(n){return P(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){B("FirestoreClient","Using user provided OfflineComponentProvider");try{yield mw(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===O.FAILED_PRECONDITION||i.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Wn("Error using user provided cache. Falling back to memory cache: "+t),yield mw(n,new Q0)}}else B("FirestoreClient","Using default OfflineComponentProvider"),yield mw(n,new Q0);return n._offlineComponents})}function Jp(n){return P(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(B("FirestoreClient","Using user provided OnlineComponentProvider"),yield p1(n,n._uninitializedComponentsProvider._online)):(B("FirestoreClient","Using default OnlineComponentProvider"),yield p1(n,new jE))),n._onlineComponents})}function HR(n){return BE(n).then(e=>e.persistence)}function UE(n){return BE(n).then(e=>e.localStore)}function qR(n){return Jp(n).then(e=>e.remoteStore)}function $E(n){return Jp(n).then(e=>e.syncEngine)}function m3(n){return Jp(n).then(e=>e.datastore)}function il(n){return P(this,null,function*(){let e=yield Jp(n),t=e.eventManager;return t.onListen=QH.bind(null,e.syncEngine),t.onUnlisten=ZH.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=YH.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=JH.bind(null,e.syncEngine),t})}function g3(n){return n.asyncQueue.enqueue(()=>P(this,null,function*(){let e=yield HR(n),t=yield qR(n);return e.setNetworkEnabled(!0),function(i){let s=K(i);return s.L_.delete(0),xc(s)}(t)}))}function y3(n){return n.asyncQueue.enqueue(()=>P(this,null,function*(){let e=yield HR(n),t=yield qR(n);return e.setNetworkEnabled(!1),function(i){return P(this,null,function*(){let s=K(i);s.L_.add(0),yield ll(s),s.q_.set("Offline")})}(t)}))}function v3(n,e){let t=new Dt;return n.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){return function(i,s,o){return P(this,null,function*(){try{let a=yield function(c,d){let f=K(c);return f.persistence.runTransaction("read document","readonly",m=>f.localDocuments.getDocument(m,d))}(i,s);a.isFoundDocument()?o.resolve(a):a.isNoDocument()?o.resolve(null):o.reject(new L(O.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){let l=dl(a,`Failed to get document '${s} from cache`);o.reject(l)}})}(yield UE(n),e,t)})),t.promise}function zR(n,e,t={}){let r=new Dt;return n.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){return function(s,o,a,l,c){let d=new rl({next:m=>{d.Za(),o.enqueueAndForget(()=>NE(s,f));let y=m.docs.has(a);!y&&m.fromCache?c.reject(new L(O.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&l&&l.source==="server"?c.reject(new L(O.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),f=new Ec(al(a.path),d,{includeMetadataChanges:!0,_a:!0});return RE(s,f)}(yield il(n),n.asyncQueue,e,t,r)})),r.promise}function _3(n,e){let t=new Dt;return n.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){return function(i,s,o){return P(this,null,function*(){try{let a=yield Cp(i,s,!0),l=new Fp(s,a.Ts),c=l.ma(a.documents),d=l.applyChanges(c,!1);o.resolve(d.snapshot)}catch(a){let l=dl(a,`Failed to execute query '${s} against cache`);o.reject(l)}})}(yield UE(n),e,t)})),t.promise}function GR(n,e,t={}){let r=new Dt;return n.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){return function(s,o,a,l,c){let d=new rl({next:m=>{d.Za(),o.enqueueAndForget(()=>NE(s,f)),m.fromCache&&l.source==="server"?c.reject(new L(O.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(m)},error:m=>c.reject(m)}),f=new Ec(a,d,{includeMetadataChanges:!0,_a:!0});return RE(s,f)}(yield il(n),n.asyncQueue,e,t,r)})),r.promise}function w3(n,e){let t=new rl(e);return n.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){return function(i,s){K(i).Y_.add(s),s.next()}(yield il(n),t)})),()=>{t.Za(),n.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){return function(i,s){K(i).Y_.delete(s)}(yield il(n),t)}))}}function E3(n,e,t,r){let i=function(o,a){let l;return l=typeof o=="string"?sR().encode(o):o,function(d,f){return new Z0(d,f)}(function(d,f){if(d instanceof Uint8Array)return f1(d,f);if(d instanceof ArrayBuffer)return f1(new Uint8Array(d),f);if(d instanceof ReadableStream)return d.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),a)}(t,Mc(e));n.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){p3(yield $E(n),i,r)}))}function I3(n,e){return n.asyncQueue.enqueue(()=>P(this,null,function*(){return function(r,i){let s=K(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.Gr.getNamedQuery(o,i))}(yield UE(n),e)}))}function WR(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var m1=new Map;function HE(n,e,t){if(!t)throw new L(O.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function qE(n,e,t,r){if(e===!0&&r===!0)throw new L(O.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function g1(n){if(!Q.isDocumentKey(n))throw new L(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function y1(n){if(Q.isDocumentKey(n))throw new L(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Xp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ee()}function Ne(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new L(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Xp(n);throw new L(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function KR(n,e){if(e<=0)throw new L(O.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}var Lp=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new L(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new L(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qE("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=WR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new L(O.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new L(O.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new L(O.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ro=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lp({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new L(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new L(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lp(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new gw;switch(r.type){case"firstParty":return new ww(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new L(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return P(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=m1.get(t);r&&(B("ComponentProvider","Removing Datastore"),m1.delete(t),r.terminate())}(this),Promise.resolve()}};function QR(n,e,t,r={}){var i;let s=(n=Ne(n,ro))._getSettings(),o=`${e}:${t}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Wn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=vt.MOCK_USER;else{a=eC(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new L(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new vt(c)}n._authCredentials=new yw(new Zf(a,l))}}var Nt=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},He=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},vr=class n extends Nt{constructor(e,t,r){super(e,t,al(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new He(this.firestore,null,new Q(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function zE(n,e,...t){if(n=Xe(n),HE("collection","path",e),n instanceof ro){let r=xe.fromString(e,...t);return y1(r),new vr(n,null,r)}{if(!(n instanceof He||n instanceof vr))throw new L(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(xe.fromString(e,...t));return y1(r),new vr(n.firestore,null,r)}}function YR(n,e){if(n=Ne(n,ro),HE("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new L(O.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Nt(n,null,function(r){return new Kn(xe.emptyPath(),r)}(e))}function Rc(n,e,...t){if(n=Xe(n),arguments.length===1&&(e=Jf.newId()),HE("doc","path",e),n instanceof ro){let r=xe.fromString(e,...t);return g1(r),new He(n,null,new Q(r))}{if(!(n instanceof He||n instanceof vr))throw new L(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(xe.fromString(e,...t));return g1(r),new He(n.firestore,n instanceof vr?n.converter:null,new Q(r))}}function GE(n,e){return n=Xe(n),e=Xe(e),(n instanceof He||n instanceof vr)&&(e instanceof He||e instanceof vr)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function WE(n,e){return n=Xe(n),e=Xe(e),n instanceof Nt&&e instanceof Nt&&n.firestore===e.firestore&&Sc(n._query,e._query)&&n.converter===e.converter}var jp=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new wc(this,"async_queue_retry"),this.Vu=()=>{let r=Yf();r&&B("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let t=Yf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=Yf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new Dt;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return P(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!ts(e))throw e;B("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw dt("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let i=j0.createAndSchedule(this,e,t,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&ee()}verifyOperationInProgress(){}wu(){return P(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};function tE(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(n,["next","error","complete"])}var nE=class{constructor(){this._progressObserver={},this._taskCompletionResolver=new Dt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}};var ZR=-1,tt=class extends ro{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new jp,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return P(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new jp(e),this._firestoreClient=void 0,yield e}})}};function Pt(n){if(n._terminated)throw new L(O.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||JR(n),n._firestoreClient}function JR(n){var e,t,r;let i=n._freezeSettings(),s=function(a,l,c,d){return new Aw(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,WR(d.experimentalLongPollingOptions),d.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new eE(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(a){let l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}}(n._componentsProvider))}function XR(n,e){Wn("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let t=n._freezeSettings();return tN(n,jE.provider,{build:r=>new Vp(r,t.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function eN(n){return P(this,null,function*(){Wn("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let e=n._freezeSettings();tN(n,jE.provider,{build:t=>new Y0(t,e.cacheSizeBytes)})})}function tN(n,e,t){if((n=Ne(n,tt))._firestoreClient||n._terminated)throw new L(O.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new L(O.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},JR(n)}function nN(n){if(n._initialized&&!n._terminated)throw new L(O.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");let e=new Dt;return n._queue.enqueueAndForgetEvenWhileRestricted(()=>P(this,null,function*(){try{yield function(r){return P(this,null,function*(){if(!zi.D())return Promise.resolve();let i=r+"main";yield zi.delete(i)})}(SE(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}})),e.promise}function rN(n){return function(t){let r=new Dt;return t.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){return r3(yield $E(t),r)})),r.promise}(Pt(n=Ne(n,tt)))}function iN(n){return g3(Pt(n=Ne(n,tt)))}function sN(n){return y3(Pt(n=Ne(n,tt)))}function oN(n,e){let t=Pt(n=Ne(n,tt)),r=new nE;return E3(t,n._databaseId,e,r),r}function aN(n,e){return I3(Pt(n=Ne(n,tt)),e).then(t=>t?new Nt(n,null,t.query):null)}var Ir=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(pt.fromBase64String(e))}catch(t){throw new L(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Yn=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new L(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var ii=class{constructor(e){this._methodName=e}};var io=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new L(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new L(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return he(this._lat,e._lat)||he(this._long,e._long)}};var Ic=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var D3=/^__.*__$/,rE=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Qn(e,this.data,this.fieldMask,t,this.fieldTransforms):new Zi(e,this.data,t,this.fieldTransforms)}},Bp=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Qn(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function lN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee()}}var Up=class n{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return $p(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(lN(this.Cu)&&D3.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},iE=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Mc(e)}Qu(e,t,r,i=!1){return new Up({Cu:e,methodName:t,qu:r,path:ht.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function lo(n){let e=n._freezeSettings(),t=Mc(n._databaseId);return new iE(n._databaseId,!!e.ignoreUndefinedProperties,t)}function em(n,e,t,r,i,s={}){let o=n.Qu(s.merge||s.mergeFields?2:0,e,t,i);YE("Data must be an object, but it was:",o,r);let a=dN(r,o),l,c;if(s.merge)l=new gn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){let d=[];for(let f of s.mergeFields){let m=uE(e,f,t);if(!o.contains(m))throw new L(O.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);fN(d,m)||d.push(m)}l=new gn(d),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new rE(new Bt(a),l,c)}var Dc=class n extends ii{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function uN(n,e,t){return new Up({Cu:3,qu:e.settings.qu,methodName:n._methodName,xu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}var sE=class n extends ii{_toFieldTransform(e){return new eo(e.path,new Qi)}isEqual(e){return e instanceof n}},oE=class n extends ii{constructor(e,t){super(e),this.Ku=t}_toFieldTransform(e){let t=uN(this,e,!0),r=this.Ku.map(s=>uo(s,t)),i=new ni(r);return new eo(e.path,i)}isEqual(e){return e instanceof n&&rg(this.Ku,e.Ku)}},aE=class n extends ii{constructor(e,t){super(e),this.Ku=t}_toFieldTransform(e){let t=uN(this,e,!0),r=this.Ku.map(s=>uo(s,t)),i=new ri(r);return new eo(e.path,i)}isEqual(e){return e instanceof n&&rg(this.Ku,e.Ku)}},lE=class n extends ii{constructor(e,t){super(e),this.$u=t}_toFieldTransform(e){let t=new Yi(e.serializer,Y1(e.serializer,this.$u));return new eo(e.path,t)}isEqual(e){return e instanceof n&&this.$u===e.$u}};function KE(n,e,t,r){let i=n.Qu(1,e,t);YE("Data must be an object, but it was:",i,r);let s=[],o=Bt.empty();ao(r,(l,c)=>{let d=ZE(e,l,t);c=Xe(c);let f=i.Nu(d);if(c instanceof Dc)s.push(d);else{let m=uo(c,f);m!=null&&(s.push(d),o.set(d,m))}});let a=new gn(s);return new Bp(o,a,i.fieldTransforms)}function QE(n,e,t,r,i,s){let o=n.Qu(1,e,t),a=[uE(e,r,t)],l=[i];if(s.length%2!=0)throw new L(O.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)a.push(uE(e,s[m])),l.push(s[m+1]);let c=[],d=Bt.empty();for(let m=a.length-1;m>=0;--m)if(!fN(c,a[m])){let y=a[m],E=l[m];E=Xe(E);let b=o.Nu(y);if(E instanceof Dc)c.push(y);else{let M=uo(E,b);M!=null&&(c.push(y),d.set(y,M))}}let f=new gn(c);return new Bp(d,f,o.fieldTransforms)}function cN(n,e,t,r=!1){return uo(t,n.Qu(r?4:3,e))}function uo(n,e){if(hN(n=Xe(n)))return YE("Unsupported field value:",e,n),dN(n,e);if(n instanceof ii)return function(r,i){if(!lN(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let l=uo(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=Xe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Y1(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=et.fromDate(r);return{timestampValue:Qa(i.serializer,s)}}if(r instanceof et){let s=new et(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Qa(i.serializer,s)}}if(r instanceof io)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ir)return{bytesValue:oR(i.serializer,r._byteString)};if(r instanceof He){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:CE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ic)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return DE(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Xp(r)}`)}(n,e)}function dN(n,e){let t={};return N1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ao(n,(r,i)=>{let s=uo(i,e.Mu(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function hN(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof et||n instanceof io||n instanceof Ir||n instanceof He||n instanceof ii||n instanceof Ic)}function YE(n,e,t){if(!hN(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=Xp(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function uE(n,e,t){if((e=Xe(e))instanceof Yn)return e._internalPath;if(typeof e=="string")return ZE(n,e);throw $p("Field path arguments must be of type string or ",n,!1,void 0,t)}var C3=new RegExp("[~\\*/\\[\\]]");function ZE(n,e,t){if(e.search(C3)>=0)throw $p(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Yn(...e.split("."))._internalPath}catch{throw $p(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function $p(n,e,t,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new L(O.INVALID_ARGUMENT,a+n+l)}function fN(n,e){return n.some(t=>t.isEqual(e))}var so=class{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new He(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new cE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(tm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},cE=class extends so{data(){return super.data()}};function tm(n,e){return typeof e=="string"?ZE(n,e):e instanceof Yn?e._internalPath:e._delegate._internalPath}function pN(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new L(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Cc=class{},oo=class extends Cc{};function ai(n,e,...t){let r=[];e instanceof Cc&&r.push(e),r=r.concat(t),function(s){let o=s.filter(l=>l instanceof dE).length,a=s.filter(l=>l instanceof Hp).length;if(o>1||o>0&&a>0)throw new L(O.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var Hp=class n extends oo{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return CN(e._query,t),new Nt(e.firestore,e.converter,Uw(e._query,t))}_parse(e){let t=lo(e.firestore);return function(s,o,a,l,c,d,f){let m;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new L(O.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){_1(f,d);let y=[];for(let E of f)y.push(v1(l,s,E));m={arrayValue:{values:y}}}else m=v1(l,s,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||_1(f,d),m=cN(a,o,f,d==="in"||d==="not-in");return be.create(c,d,m)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function mN(n,e,t){let r=e,i=tm("where",n);return Hp._create(i,r,t)}var dE=class n extends Cc{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Le.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let l of a)CN(o,l),o=Uw(o,l)}(e._query,t),new Nt(e.firestore,e.converter,Uw(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var hE=class n extends oo{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=function(i,s,o){if(i.startAt!==null)throw new L(O.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new L(O.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Js(s,o)}(e._query,this._field,this._direction);return new Nt(e.firestore,e.converter,function(i,s){let o=i.explicitOrderBy.concat([s]);return new Kn(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}};function gN(n,e="asc"){let t=e,r=tm("orderBy",n);return hE._create(r,t)}var qp=class n extends oo{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new n(e,t,r)}_apply(e){return new Nt(e.firestore,e.converter,lp(e._query,this._limit,this._limitType))}};function yN(n){return KR("limit",n),qp._create("limit",n,"F")}function vN(n){return KR("limitToLast",n),qp._create("limitToLast",n,"L")}var zp=class n extends oo{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=DN(e,this.type,this._docOrFields,this._inclusive);return new Nt(e.firestore,e.converter,function(i,s){return new Kn(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,t))}};function _N(...n){return zp._create("startAt",n,!0)}function wN(...n){return zp._create("startAfter",n,!1)}var Gp=class n extends oo{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=DN(e,this.type,this._docOrFields,this._inclusive);return new Nt(e.firestore,e.converter,function(i,s){return new Kn(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(e._query,t))}};function EN(...n){return Gp._create("endBefore",n,!1)}function IN(...n){return Gp._create("endAt",n,!0)}function DN(n,e,t,r){if(t[0]=Xe(t[0]),t[0]instanceof so)return function(s,o,a,l,c){if(!l)throw new L(O.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);let d=[];for(let f of Ua(s))if(f.field.isKeyField())d.push(Zs(o,l.key));else{let m=l.data.field(f.field);if(Kp(m))throw new L(O.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(m===null){let y=f.field.canonicalString();throw new L(O.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${y}' (used as the orderBy) does not exist.`)}d.push(m)}return new wr(d,c)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{let i=lo(n.firestore);return function(o,a,l,c,d,f){let m=o.explicitOrderBy;if(d.length>m.length)throw new L(O.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let y=[];for(let E=0;E<d.length;E++){let b=d[E];if(m[E].field.isKeyField()){if(typeof b!="string")throw new L(O.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof b}`);if(!EE(o)&&b.indexOf("/")!==-1)throw new L(O.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${b}' contains a slash.`);let M=o.path.child(xe.fromString(b));if(!Q.isDocumentKey(M))throw new L(O.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${M}' is not because it contains an odd number of segments.`);let F=new Q(M);y.push(Zs(a,F))}else{let M=cN(l,c,b);y.push(M)}}return new wr(y,f)}(n._query,n.firestore._databaseId,i,e,t,r)}}function v1(n,e,t){if(typeof(t=Xe(t))=="string"){if(t==="")throw new L(O.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!EE(e)&&t.indexOf("/")!==-1)throw new L(O.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(xe.fromString(t));if(!Q.isDocumentKey(r))throw new L(O.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Zs(n,new Q(r))}if(t instanceof He)return Zs(n,t._key);throw new L(O.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xp(t)}.`)}function _1(n,e){if(!Array.isArray(n)||n.length===0)throw new L(O.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function CN(n,e){let t=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new L(O.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new L(O.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var sl=class{convertValue(e,t="none"){switch(Ys(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Je(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Gi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ee()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return ao(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;let s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Je(o.doubleValue));return new Ic(s)}convertGeoPoint(e){return new io(Je(e.latitude),Je(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=_E(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ac(e));default:return null}}convertTimestamp(e){let t=ti(e);return new et(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=xe.fromString(e);ne(yR(r));let i=new Wi(r.get(1),r.get(3)),s=new Q(r.popFirst(5));return i.isEqual(t)||dt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}};function nm(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var fE=class extends sl{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ir(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new He(this.firestore,null,t)}};var ei=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Pn=class extends so{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Hi(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(tm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},Hi=class extends Pn{data(e={}){return super.data(e)}},Zn=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ei(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Hi(this._firestore,this._userDataWriter,r.key,r,new ei(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new L(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let l=new Hi(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ei(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let l=new Hi(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ei(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:b3(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function b3(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee()}}function JE(n,e){return n instanceof Pn&&e instanceof Pn?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Zn&&e instanceof Zn&&n._firestore===e._firestore&&WE(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function bN(n){n=Ne(n,He);let e=Ne(n.firestore,tt);return zR(Pt(e),n._key).then(t=>nI(e,n,t))}var si=class extends sl{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ir(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new He(this.firestore,null,t)}};function TN(n){n=Ne(n,He);let e=Ne(n.firestore,tt),t=Pt(e),r=new si(e);return v3(t,n._key).then(i=>new Pn(e,r,n._key,i,new ei(i!==null&&i.hasLocalMutations,!0),n.converter))}function SN(n){n=Ne(n,He);let e=Ne(n.firestore,tt);return zR(Pt(e),n._key,{source:"server"}).then(t=>nI(e,n,t))}function AN(n){n=Ne(n,Nt);let e=Ne(n.firestore,tt),t=Pt(e),r=new si(e);return pN(n._query),GR(t,n._query).then(i=>new Zn(e,r,n,i))}function MN(n){n=Ne(n,Nt);let e=Ne(n.firestore,tt),t=Pt(e),r=new si(e);return _3(t,n._query).then(i=>new Zn(e,r,n,i))}function xN(n){n=Ne(n,Nt);let e=Ne(n.firestore,tt),t=Pt(e),r=new si(e);return GR(t,n._query,{source:"server"}).then(i=>new Zn(e,r,n,i))}function XE(n,e,t){n=Ne(n,He);let r=Ne(n.firestore,tt),i=nm(n.converter,e,t);return hl(r,[em(lo(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,ut.none())])}function eI(n,e,t,...r){n=Ne(n,He);let i=Ne(n.firestore,tt),s=lo(i),o;return o=typeof(e=Xe(e))=="string"||e instanceof Yn?QE(s,"updateDoc",n._key,e,t,r):KE(s,"updateDoc",n._key,e),hl(i,[o.toMutation(n._key,ut.exists(!0))])}function RN(n){return hl(Ne(n.firestore,tt),[new Ji(n._key,ut.none())])}function NN(n,e){let t=Ne(n.firestore,tt),r=Rc(n),i=nm(n.converter,e);return hl(t,[em(lo(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,ut.exists(!1))]).then(()=>r)}function tI(n,...e){var t,r,i;n=Xe(n);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||tE(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(tE(e[o])){let f=e[o];e[o]=(t=f.next)===null||t===void 0?void 0:t.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,c,d;if(n instanceof He)c=Ne(n.firestore,tt),d=al(n._key.path),l={next:f=>{e[o]&&e[o](nI(c,n,f))},error:e[o+1],complete:e[o+2]};else{let f=Ne(n,Nt);c=Ne(f.firestore,tt),d=f._query;let m=new si(c);l={next:y=>{e[o]&&e[o](new Zn(c,m,f,y))},error:e[o+1],complete:e[o+2]},pN(n._query)}return function(m,y,E,b){let M=new rl(b),F=new Ec(y,M,E);return m.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){return RE(yield il(m),F)})),()=>{M.Za(),m.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){return NE(yield il(m),F)}))}}(Pt(c),d,a,l)}function PN(n,e){return w3(Pt(n=Ne(n,tt)),tE(e)?e:{next:e})}function hl(n,e){return function(r,i){let s=new Dt;return r.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){return XH(yield $E(r),i,s)})),s.promise}(Pt(n),e)}function nI(n,e,t){let r=t.docs.get(e._key),i=new si(n);return new Pn(n,i,e._key,r,new ei(t.hasPendingWrites,t.fromCache),e.converter)}var T3={maxAttempts:5};var Wp=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=lo(e)}set(e,t,r){this._verifyNotCommitted();let i=Ui(e,this._firestore),s=nm(i.converter,t,r),o=em(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,ut.none())),this}update(e,t,r,...i){this._verifyNotCommitted();let s=Ui(e,this._firestore),o;return o=typeof(t=Xe(t))=="string"||t instanceof Yn?QE(this._dataReader,"WriteBatch.update",s._key,t,r,i):KE(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(o.toMutation(s._key,ut.exists(!0))),this}delete(e){this._verifyNotCommitted();let t=Ui(e,this._firestore);return this._mutations=this._mutations.concat(new Ji(t._key,ut.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new L(O.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Ui(n,e){if((n=Xe(n)).firestore!==e)throw new L(O.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}var pE=class extends class{constructor(t,r){this._firestore=t,this._transaction=r,this._dataReader=lo(t)}get(t){let r=Ui(t,this._firestore),i=new fE(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||s.length!==1)return ee();let o=s[0];if(o.isFoundDocument())return new so(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new so(this._firestore,i,r._key,null,r.converter);throw ee()})}set(t,r,i){let s=Ui(t,this._firestore),o=nm(s.converter,r,i),a=em(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,i);return this._transaction.set(s._key,a),this}update(t,r,i,...s){let o=Ui(t,this._firestore),a;return a=typeof(r=Xe(r))=="string"||r instanceof Yn?QE(this._dataReader,"Transaction.update",o._key,r,i,s):KE(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(t){let r=Ui(t,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){let t=Ui(e,this._firestore),r=new si(this._firestore);return super.get(e).then(i=>new Pn(this._firestore,r,t._key,i._document,new ei(!1,!1),t.converter))}};function kN(n,e,t){n=Ne(n,tt);let r=Object.assign(Object.assign({},T3),t);return function(s){if(s.maxAttempts<1)throw new L(O.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){let l=new Dt;return s.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){let c=yield m3(s);new X0(s.asyncQueue,c,a,o,l).au()})),l.promise}(Pt(n),i=>e(new pE(n,i)),r)}function ON(){return new Dc("deleteField")}function FN(){return new sE("serverTimestamp")}function VN(...n){return new oE("arrayUnion",n)}function LN(...n){return new aE("arrayRemove",n)}function jN(n){return new lE("increment",n)}(function(e,t=!0){(function(i){ol=i})(rC),kl(new cs("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new tt(new vw(r.getProvider("auth-internal")),new Iw(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new L(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wi(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),mi(yx,"4.7.3",e),mi(yx,"4.7.3","esm2017")})();var S3="@firebase/firestore-compat",A3="0.3.38";function lI(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new L("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function BN(){if(typeof Uint8Array>"u")throw new L("unimplemented","Uint8Arrays are not available in this environment.")}function UN(){if(!P1())throw new L("unimplemented","Blobs are unavailable in Firestore in this environment.")}var rm=class n{constructor(e){this._delegate=e}static fromBase64String(e){return UN(),new n(Ir.fromBase64String(e))}static fromUint8Array(e){return BN(),new n(Ir.fromUint8Array(e))}toBase64(){return UN(),this._delegate.toBase64()}toUint8Array(){return BN(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};function rI(n){return M3(n,["next","error","complete"])}function M3(n,e){if(typeof n!="object"||n===null)return!1;let t=n;for(let r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}var iI=class{enableIndexedDbPersistence(e,t){return XR(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return eN(e._delegate)}clearIndexedDbPersistence(e){return nN(e._delegate)}},im=class{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Wi||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){let t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Wn("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},t),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,r={}){QR(this._delegate,e,t,r)}enableNetwork(){return iN(this._delegate)}disableNetwork(){return sN(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,qE("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return rN(this._delegate)}onSnapshotsInSync(e){return PN(this._delegate,e)}get app(){if(!this._appCompat)throw new L("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new ml(this,zE(this._delegate,e))}catch(t){throw Jt(t,"collection()","Firestore.collection()")}}doc(e){try{return new Dr(this,Rc(this._delegate,e))}catch(t){throw Jt(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new po(this,YR(this._delegate,e))}catch(t){throw Jt(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return kN(this._delegate,t=>e(new sm(this,t)))}batch(){return Pt(this._delegate),new om(new Wp(this._delegate,e=>hl(this._delegate,e)))}loadBundle(e){return oN(this._delegate,e)}namedQuery(e){return aN(this._delegate,e).then(t=>t?new po(this,t):null)}},fl=class extends sl{constructor(e){super(),this.firestore=e}convertBytes(e){return new rm(new Ir(e))}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return Dr.forKey(t,this.firestore,null)}};function x3(n){w1(n)}var sm=class{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new fl(e)}get(e){let t=co(e);return this._delegate.get(t).then(r=>new ho(this._firestore,new Pn(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){let i=co(e);return r?(lI("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){let s=co(e);return arguments.length===2?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){let t=co(e);return this._delegate.delete(t),this}},om=class{constructor(e){this._delegate=e}set(e,t,r){let i=co(e);return r?(lI("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){let s=co(e);return arguments.length===2?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){let t=co(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}},pl=class n{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){let r=new Hi(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new fo(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){let r=n.INSTANCES,i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(t);return s||(s=new n(e,new fl(e),t),i.set(t,s)),s}};pl.INSTANCES=new WeakMap;var Dr=class n{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new fl(e)}static forPath(e,t,r){if(e.length%2!==0)throw new L("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new n(t,new He(t._delegate,r,new Q(e)))}static forKey(e,t,r){return new n(t,new He(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new ml(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new ml(this.firestore,zE(this._delegate,e))}catch(t){throw Jt(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Xe(e),e instanceof He?GE(this._delegate,e):!1}set(e,t){t=lI("DocumentReference.set",t);try{return t?XE(this._delegate,e,t):XE(this._delegate,e)}catch(r){throw Jt(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return arguments.length===1?eI(this._delegate,e):eI(this._delegate,e,t,...r)}catch(i){throw Jt(i,"updateDoc()","DocumentReference.update()")}}delete(){return RN(this._delegate)}onSnapshot(...e){let t=$N(e),r=HN(e,i=>new ho(this.firestore,new Pn(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return tI(this._delegate,t,r)}get(e){let t;return e?.source==="cache"?t=TN(this._delegate):e?.source==="server"?t=SN(this._delegate):t=bN(this._delegate),t.then(r=>new ho(this.firestore,new Pn(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new n(this.firestore,e?this._delegate.withConverter(pl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function Jt(n,e,t){return n.message=n.message.replace(e,t),n}function $N(n){for(let e of n)if(typeof e=="object"&&!rI(e))return e;return{}}function HN(n,e){var t,r;let i;return rI(n[0])?i=n[0]:rI(n[1])?i=n[1]:typeof n[0]=="function"?i={next:n[0],error:n[1],complete:n[2]}:i={next:n[1],error:n[2],complete:n[3]},{next:s=>{i.next&&i.next(e(s))},error:(t=i.error)===null||t===void 0?void 0:t.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var ho=class{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Dr(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return JE(this._delegate,e._delegate)}},fo=class extends ho{data(e){let t=this._delegate.data(e);return this._delegate._converter||E1(t!==void 0,"Document in a QueryDocumentSnapshot should exist"),t}},po=class n{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new fl(e)}where(e,t,r){try{return new n(this.firestore,ai(this._delegate,mN(e,t,r)))}catch(i){throw Jt(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new n(this.firestore,ai(this._delegate,gN(e,t)))}catch(r){throw Jt(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new n(this.firestore,ai(this._delegate,yN(e)))}catch(t){throw Jt(t,"limit()","Query.limit()")}}limitToLast(e){try{return new n(this.firestore,ai(this._delegate,vN(e)))}catch(t){throw Jt(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new n(this.firestore,ai(this._delegate,_N(...e)))}catch(t){throw Jt(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new n(this.firestore,ai(this._delegate,wN(...e)))}catch(t){throw Jt(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new n(this.firestore,ai(this._delegate,EN(...e)))}catch(t){throw Jt(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new n(this.firestore,ai(this._delegate,IN(...e)))}catch(t){throw Jt(t,"endAt()","Query.endAt()")}}isEqual(e){return WE(this._delegate,e._delegate)}get(e){let t;return e?.source==="cache"?t=MN(this._delegate):e?.source==="server"?t=xN(this._delegate):t=AN(this._delegate),t.then(r=>new Nc(this.firestore,new Zn(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){let t=$N(e),r=HN(e,i=>new Nc(this.firestore,new Zn(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return tI(this._delegate,t,r)}withConverter(e){return new n(this.firestore,e?this._delegate.withConverter(pl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}},sI=class{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new fo(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}},Nc=class{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new po(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new fo(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new sI(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new fo(this._firestore,r))})}isEqual(e){return JE(this._delegate,e._delegate)}},ml=class n extends po{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){let e=this._delegate.parent;return e?new Dr(this.firestore,e):null}doc(e){try{return e===void 0?new Dr(this.firestore,Rc(this._delegate)):new Dr(this.firestore,Rc(this._delegate,e))}catch(t){throw Jt(t,"doc()","CollectionReference.doc()")}}add(e){return NN(this._delegate,e).then(t=>new Dr(this.firestore,t))}isEqual(e){return GE(this._delegate,e._delegate)}withConverter(e){return new n(this.firestore,e?this._delegate.withConverter(pl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function co(n){return Ne(n,He)}var oI=class n{constructor(...e){this._delegate=new Yn(...e)}static documentId(){return new n(ht.keyField().canonicalString())}isEqual(e){return e=Xe(e),e instanceof Yn?this._delegate._internalPath.isEqual(e._internalPath):!1}};var aI=class n{constructor(e){this._delegate=e}static serverTimestamp(){let e=FN();return e._methodName="FieldValue.serverTimestamp",new n(e)}static delete(){let e=ON();return e._methodName="FieldValue.delete",new n(e)}static arrayUnion(...e){let t=VN(...e);return t._methodName="FieldValue.arrayUnion",new n(t)}static arrayRemove(...e){let t=LN(...e);return t._methodName="FieldValue.arrayRemove",new n(t)}static increment(e){let t=jN(e);return t._methodName="FieldValue.increment",new n(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}};var R3={Firestore:im,GeoPoint:io,Timestamp:et,Blob:rm,Transaction:sm,WriteBatch:om,DocumentReference:Dr,DocumentSnapshot:ho,Query:po,QueryDocumentSnapshot:fo,QuerySnapshot:Nc,CollectionReference:ml,FieldPath:oI,FieldValue:aI,setLogLevel:x3,CACHE_SIZE_UNLIMITED:ZR};function N3(n,e){n.INTERNAL.registerComponent(new cs("firestore-compat",t=>{let r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},R3)))}function P3(n){N3(n,(e,t)=>new im(e,t,new iI)),n.registerVersion(S3,A3)}P3(qt);function k3(n,e=Bl){return new Ce(t=>{let r;return e!=null?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}function qN(n,e){return k3(n,e)}function O3(n,e){return qN(n,e).pipe(gs(void 0),Hl(),le(t=>{let[r,i]=t;return i.exists?r?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}}))}function dI(n,e){return qN(n,e).pipe(le(t=>({payload:t,type:"query"})))}var am=class{ref;afs;constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){let r=this.ref.collection(e),{ref:i,query:s}=QN(r,t);return new um(i,s,this.afs)}snapshotChanges(){return O3(this.ref,this.afs.schedulers.outsideAngular).pipe(sn)}valueChanges(e={}){return this.snapshotChanges().pipe(le(({payload:t})=>e.idField?de($({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return Te(this.ref.get(e)).pipe(sn)}};function lm(n,e){return dI(n,e).pipe(gs(void 0),Hl(),le(t=>{let[r,i]=t,s=i.payload.docChanges(),o=s.map(a=>({type:a.type,payload:a}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,l)=>{let c=s.find(f=>f.doc.ref.isEqual(a.ref)),d=r?.payload.docs.find(f=>f.ref.isEqual(a.ref));c&&JSON.stringify(c.doc.metadata)===JSON.stringify(a.metadata)||!c&&d&&JSON.stringify(d.metadata)===JSON.stringify(a.metadata)||o.push({type:"modified",payload:{oldIndex:l,newIndex:l,type:"modified",doc:a}})}),o}))}function zN(n,e,t){return lm(n,t).pipe(ms((r,i)=>F3(r,i.map(s=>s.payload),e),[]),Tg(),le(r=>r.map(i=>({type:i.type,payload:i}))))}function F3(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=V3(n,r))}),n}function uI(n,e,t,...r){let i=n.slice();return i.splice(e,t,...r),i}function V3(n,e){switch(e.type){case"added":if(!(n[e.newIndex]&&n[e.newIndex].doc.ref.isEqual(e.doc.ref)))return uI(n,e.newIndex,0,e);break;case"modified":if(n[e.oldIndex]==null||n[e.oldIndex].doc.ref.isEqual(e.doc.ref))if(e.oldIndex!==e.newIndex){let t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}else return uI(n,e.newIndex,1,e);break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return uI(n,e.oldIndex,1);break}return n}function GN(n){return(!n||n.length===0)&&(n=["added","removed","modified"]),n}var um=class{ref;query;afs;constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=lm(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe(le(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(gs(void 0),Hl(),At(([r,i])=>i.length>0||!r),le(([,r])=>r),sn)}auditTrail(e){return this.stateChanges(e).pipe(ms((t,r)=>[...t,...r],[]))}snapshotChanges(e){let t=GN(e);return zN(this.query,t,this.afs.schedulers.outsideAngular).pipe(sn)}valueChanges(e={}){return dI(this.query,this.afs.schedulers.outsideAngular).pipe(le(t=>t.payload.docs.map(r=>e.idField?de($({},r.data()),{[e.idField]:r.id}):r.data())),sn)}get(e){return Te(this.query.get(e)).pipe(sn)}add(e){return this.ref.add(e)}doc(e){return new am(this.ref.doc(e),this.afs)}},cI=class{query;afs;constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return!e||e.length===0?lm(this.query,this.afs.schedulers.outsideAngular).pipe(sn):lm(this.query,this.afs.schedulers.outsideAngular).pipe(le(t=>t.filter(r=>e.indexOf(r.type)>-1)),At(t=>t.length>0),sn)}auditTrail(e){return this.stateChanges(e).pipe(ms((t,r)=>[...t,...r],[]))}snapshotChanges(e){let t=GN(e);return zN(this.query,t,this.afs.schedulers.outsideAngular).pipe(sn)}valueChanges(e={}){return dI(this.query,this.afs.schedulers.outsideAngular).pipe(le(r=>r.payload.docs.map(i=>e.idField?$({[e.idField]:i.id},i.data()):i.data())),sn)}get(e){return Te(this.query.get(e)).pipe(sn)}},WN=new Y("angularfire2.enableFirestorePersistence"),KN=new Y("angularfire2.firestore.persistenceSettings"),L3=new Y("angularfire2.firestore.settings"),j3=new Y("angularfire2.firestore.use-emulator");function QN(n,e=t=>t){return{query:e(n),ref:n}}var Pc=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(t,r,i,s,o,a,l,c,d,f,m,y,E,b,M,F,q){this.schedulers=l;let V=qu(t,a,r),W=d;f&&iw(V,a,m,E,b,M,y,F),[this.firestore,this.persistenceEnabled$]=jf(`${V.name}.firestore`,"AngularFirestore",V.name,()=>{let se=a.runOutsideAngular(()=>V.firestore());if(s&&se.settings(s),W&&se.useEmulator(...W),i&&!ks(o)){let J=()=>{try{return Te(se.enablePersistence(c||void 0).then(()=>!0,()=>!1))}catch(C){return typeof console<"u"&&console.warn(C),ie(!1)}};return[se,a.runOutsideAngular(J)]}else return[se,ie(!1)]},[s,W,i])}collection(t,r){let i;typeof t=="string"?i=this.firestore.collection(t):i=t;let{ref:s,query:o}=QN(i,r),a=this.schedulers.ngZone.run(()=>s);return new um(a,o,this)}collectionGroup(t,r){let i=r||(o=>o),s=this.firestore.collectionGroup(t);return new cI(i(s),this)}doc(t){let r;typeof t=="string"?r=this.firestore.doc(t):r=t;let i=this.schedulers.ngZone.run(()=>r);return new am(i,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(r){return new(r||n)(j(Sa),j(Aa,8),j(WN,8),j(L3,8),j(nn),j(Ee),j(Ff),j(KN,8),j(j3,8),j(zu,8),j(J_,8),j(X_,8),j(ew,8),j(tw,8),j(nw,8),j(rw,8),j(Bs,8))};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),YN=(()=>{class n{constructor(){qt.registerVersion("angularfire",Us.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:WN,useValue:!0},{provide:KN,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ye({type:n});static \u0275inj=Qe({providers:[Pc]})}return n})();var pe=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(pe||{}),Cr="*";function JN(n,e){return{type:pe.Trigger,name:n,definitions:e,options:{}}}function hI(n,e=null){return{type:pe.Animate,styles:e,timings:n}}function XN(n,e=null){return{type:pe.Sequence,steps:n,options:e}}function mo(n){return{type:pe.Style,styles:n,offset:null}}function cm(n,e,t){return{type:pe.State,name:n,styles:e,options:t}}function fI(n,e,t=null){return{type:pe.Transition,expr:n,animation:e,options:t}}var rs=class{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},kc=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((t,r)=>t===null||r.totalTime>t.totalTime?r:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},dm="!";var eP=["toast-component",""];function B3(n,e){if(n&1){let t=uu();v(0,"button",5),me("click",function(){ru(t);let i=Qt();return iu(i.remove())}),v(1,"span",6),T(2,"\xD7"),w()()}}function U3(n,e){if(n&1&&(oa(0),T(1),aa()),n&2){let t=Qt(2);Se(),Ri("[",t.duplicatesCount+1,"]")}}function $3(n,e){if(n&1&&(v(0,"div"),T(1),An(2,U3,2,1,"ng-container",4),w()),n&2){let t=Qt();Hr(t.options.titleClass),$r("aria-label",t.title),Se(),Ri(" ",t.title," "),Se(),Ze("ngIf",t.duplicatesCount)}}function H3(n,e){if(n&1&&U(0,"div",7),n&2){let t=Qt();Hr(t.options.messageClass),Ze("innerHTML",t.message,hv)}}function q3(n,e){if(n&1&&(v(0,"div",8),T(1),w()),n&2){let t=Qt();Hr(t.options.messageClass),$r("aria-label",t.message),Se(),Ri(" ",t.message," ")}}function z3(n,e){if(n&1&&(v(0,"div"),U(1,"div",9),w()),n&2){let t=Qt();Se(),Rs("width",t.width+"%")}}function G3(n,e){if(n&1){let t=uu();v(0,"button",5),me("click",function(){ru(t);let i=Qt();return iu(i.remove())}),v(1,"span",6),T(2,"\xD7"),w()()}}function W3(n,e){if(n&1&&(oa(0),T(1),aa()),n&2){let t=Qt(2);Se(),Ri("[",t.duplicatesCount+1,"]")}}function K3(n,e){if(n&1&&(v(0,"div"),T(1),An(2,W3,2,1,"ng-container",4),w()),n&2){let t=Qt();Hr(t.options.titleClass),$r("aria-label",t.title),Se(),Ri(" ",t.title," "),Se(),Ze("ngIf",t.duplicatesCount)}}function Q3(n,e){if(n&1&&U(0,"div",7),n&2){let t=Qt();Hr(t.options.messageClass),Ze("innerHTML",t.message,hv)}}function Y3(n,e){if(n&1&&(v(0,"div",8),T(1),w()),n&2){let t=Qt();Hr(t.options.messageClass),$r("aria-label",t.message),Se(),Ri(" ",t.message," ")}}function Z3(n,e){if(n&1&&(v(0,"div"),U(1,"div",9),w()),n&2){let t=Qt();Se(),Rs("width",t.width+"%")}}var pI=class{_attachedHost;component;viewContainerRef;injector;constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){let e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},mI=class{_attachedPortal;_disposeFn;attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}},gI=class{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new ke;_activate=new ke;_manualClose=new ke;_resetTimeout=new ke;_countDuplicate=new ke;constructor(e){this._overlayRef=e}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}},gl=class{toastId;config;message;title;toastType;toastRef;_onTap=new ke;_onAction=new ke;constructor(e,t,r,i,s,o){this.toastId=e,this.config=t,this.message=r,this.title=i,this.toastType=s,this.toastRef=o,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}},tP={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},nP=new Y("ToastConfig"),yI=class extends mI{_hostDomElement;_componentFactoryResolver;_appRef;constructor(e,t,r){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=r}attachComponentPortal(e,t){let r=this._componentFactoryResolver.resolveComponentFactory(e.component),i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}},J3=(()=>{class n{_document=z(Ae);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vI=class{_portalHost;constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}},X3=(()=>{class n{_overlayContainer=z(J3);_componentFactoryResolver=z(Di);_appRef=z(Mn);_document=z(Ae);_paneElements=new Map;create(t,r){return this._createOverlayRef(this.getPaneElement(t,r))}getPaneElement(t="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[t]||(this._paneElements.get(r)[t]=this._createPaneElement(t,r)),this._paneElements.get(r)[t]}_createPaneElement(t,r){let i=this._document.createElement("div");return i.id="toast-container",i.classList.add(t),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(t){return new yI(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new vI(this._createPortalHost(t))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),is=(()=>{class n{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(t,r,i,s,o){this.overlay=r,this._injector=i,this.sanitizer=s,this.ngZone=o,this.toastrConfig=$($({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=$($({},t.default.iconClasses),t.config.iconClasses))}show(t,r,i={},s=""){return this._preBuildNotification(s,t,r,this.applyConfig(i))}success(t,r,i={}){let s=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(s,t,r,this.applyConfig(i))}error(t,r,i={}){let s=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(s,t,r,this.applyConfig(i))}info(t,r,i={}){let s=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(s,t,r,this.applyConfig(i))}warning(t,r,i={}){let s=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(s,t,r,this.applyConfig(i))}clear(t){for(let r of this.toasts)if(t!==void 0){if(r.toastId===t){r.toastRef.manualClose();return}}else r.toastRef.manualClose()}remove(t){let r=this._findToast(t);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){let i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(t="",r="",i,s){let{includeTitleDuplicates:o}=this.toastrConfig;for(let a of this.toasts){let l=o&&a.title===t;if((!o||l)&&a.message===r)return a.toastRef.onDuplicate(i,s),a}return null}applyConfig(t={}){return $($({},this.toastrConfig),t)}_findToast(t){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===t)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(t,r,i,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,r,i,s)):this._buildNotification(t,r,i,s)}_buildNotification(t,r,i,s){if(!s.toastComponent)throw new Error("toastComponent required");let o=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&o!==null)return o;this.previousToastMessage=r;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));let l=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let c=r;r&&s.enableHtml&&(c=this.sanitizer.sanitize(hn.HTML,r));let d=new gI(l),f=new gl(this.index,s,c,i,t,d),m=[{provide:gl,useValue:f}],y=Mt.create({providers:m,parent:this._injector}),E=new pI(s.toastComponent,y),b=l.attach(E,s.newestOnTop);d.componentInstance=b.instance;let M={toastId:this.index,title:i||"",message:r||"",toastRef:d,onShown:d.afterActivate(),onHidden:d.afterClosed(),onTap:f.onTap(),onAction:f.onAction(),portal:b};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{M.toastRef.activate()})),this.toasts.push(M),M}static \u0275fac=function(r){return new(r||n)(j(nP),j(X3),j(Mt),j(Jv),j(Ee))};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),eq=(()=>{class n{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";state;get displayStyle(){if(this.state.value==="inactive")return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.ngZone=i,this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=de($({},this.state),{value:"active"}),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(this.width===0||this.width===100||!this.options.timeOut)return;let t=new Date().getTime(),r=this.hideTime-t;this.width=r/this.options.timeOut*100,this.options.progressAnimation==="increasing"&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=de($({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){this.state.value!=="removed"&&(clearTimeout(this.timeout),this.state=de($({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){this.state.value!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state.value!=="removed"&&this.options.disableTimeOut!=="extendedTimeOut"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state.value==="removed"||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),r)):this.timeout=setTimeout(()=>t(),r)}outsideInterval(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),r)):this.intervalId=setInterval(()=>t(),r)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}static \u0275fac=function(r){return new(r||n)(X(is),X(gl),X(Ee))};static \u0275cmp=Fe({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(r,i){r&1&&me("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),r&2&&(xv("@flyInOut",i.state),Hr(i.toastClasses),Rs("display",i.displayStyle))},standalone:!0,features:[cu],attrs:eP,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(r,i){r&1&&An(0,B3,3,0,"button",0)(1,$3,3,5,"div",1)(2,H3,1,3,"div",2)(3,q3,2,4,"div",3)(4,z3,2,2,"div",4),r&2&&(Ze("ngIf",i.options.closeButton),Se(),Ze("ngIf",i.title),Se(),Ze("ngIf",i.message&&i.options.enableHtml),Se(),Ze("ngIf",i.message&&!i.options.enableHtml),Se(),Ze("ngIf",i.options.progressBar))},dependencies:[Qr],encapsulation:2,data:{animation:[JN("flyInOut",[cm("inactive",mo({opacity:0})),cm("active",mo({opacity:1})),cm("removed",mo({opacity:0})),fI("inactive => active",hI("{{ easeTime }}ms {{ easing }}")),fI("active => removed",hI("{{ easeTime }}ms {{ easing }}"))])]}})}return n})(),tq=de($({},tP),{toastComponent:eq}),nq=(n={})=>Ch([{provide:nP,useValue:{default:tq,config:n}}]),rP=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[nq(t)]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ye({type:n});static \u0275inj=Qe({})}return n})();var rq=(()=>{class n{toastrService;toastPackage;appRef;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";get displayStyle(){if(this.state==="inactive")return"none"}state="inactive";timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.appRef=i,this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(this.width===0||this.width===100||!this.options.timeOut)return;let t=new Date().getTime(),r=this.hideTime-t;this.width=r/this.options.timeOut*100,this.options.progressAnimation==="increasing"&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=new Date().getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){this.state!=="removed"&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){this.state!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state!=="removed"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state==="removed"||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}static \u0275fac=function(r){return new(r||n)(X(is),X(gl),X(Mn))};static \u0275cmp=Fe({type:n,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(r,i){r&1&&me("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),r&2&&(Hr(i.toastClasses),Rs("display",i.displayStyle))},standalone:!0,features:[cu],attrs:eP,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(r,i){r&1&&An(0,G3,3,0,"button",0)(1,K3,3,5,"div",1)(2,Q3,1,3,"div",2)(3,Y3,2,4,"div",3)(4,Z3,2,2,"div",4),r&2&&(Ze("ngIf",i.options.closeButton),Se(),Ze("ngIf",i.title),Se(),Ze("ngIf",i.message&&i.options.enableHtml),Se(),Ze("ngIf",i.message&&!i.options.enableHtml),Se(),Ze("ngIf",i.options.progressBar))},dependencies:[Qr],encapsulation:2})}return n})(),uZ=de($({},tP),{toastComponent:rq});var Ut=(()=>{class n{constructor(t,r,i,s){this.afs=t,this.fireauth=r,this.toastr=i,this.router=s,this.currentUserSignal=Ms(null),this.fireauth.onAuthStateChanged(a=>P(this,null,function*(){if(a){let c=yield this.afs.doc(`users/${a.uid}`).ref.get();if(c.exists){let d=c.data(),f={uid:a.uid,username:a.displayName||"Unknown",email:a.email||"",roles:d.roles||{}};this.currentUserSignal.set(f),sessionStorage.setItem("currentUser",JSON.stringify(f))}}else this.currentUserSignal.set(null),sessionStorage.removeItem("currentUser")}));let o=sessionStorage.getItem("currentUser");o&&this.currentUserSignal.set(JSON.parse(o))}isAuthenticated(){return this.currentUserSignal()!==null}getCurrentUser(){return this.currentUserSignal()}login(t,r){return P(this,null,function*(){try{let i=yield this.fireauth.signInWithEmailAndPassword(t,r);if(i.user){let o=yield this.afs.doc(`users/${i.user.uid}`).ref.get();if(o.exists){let a=o.data(),l={uid:i.user.uid,username:i.user.displayName||"Unknown",email:i.user.email||t,roles:a.roles||{}};this.currentUserSignal.set(l),sessionStorage.setItem("currentUser",JSON.stringify(l)),this.toastr.success("Welcome"),this.router.navigate(["/products/prod-details"])}else console.error("No user data found in Firestore.")}}catch(i){console.error("Login failed:",i),this.toastr.error("Login failed. Please check your credentials and try again."),this.router.navigate(["/login"])}})}signup(t,r,i,s){return P(this,null,function*(){try{let o=yield this.fireauth.createUserWithEmailAndPassword(t,s);o.user&&(yield this.updateUserData({uid:o.user.uid,email:t,roles:{subscriber:!0}}),this.showSuccessMessage(r,i))}catch(o){throw this.handleError(o),o}})}updateUserData(t){return P(this,null,function*(){let r=this.afs.doc(`users/${t.uid}`),i={uid:t.uid,email:t.email,roles:t.roles||{subscriber:!0}};yield r.set(i,{merge:!0})})}assignRole(t,r){return P(this,null,function*(){let i=this.afs.collection("users").doc(t),s=yield i.get().toPromise();if(s?.exists){let o=s.data();o.roles||(o.roles={}),o.roles[r]=!0,yield i.update(o)}else console.error(`User document with UID: ${t} does not exist.`)})}logout(){this.fireauth.signOut().then(()=>{this.currentUserSignal.set(null),sessionStorage.removeItem("currentUser"),this.router.navigate(["/login"]),this.toastr.info("You logged out from the website")}).catch(t=>{console.error("Logout Error:",t),this.toastr.error("Error during logout. Please try again.")})}showSuccessMessage(t,r){this.toastr.success(`Registration of ${t} with contact number ${r} completed successfully! You logged in as this user`),this.router.navigate(["/login"])}handleError(t){this.toastr.error(`Error: ${t.message}`),console.error("Signup Error:",t)}static{this.\u0275fac=function(r){return new(r||n)(j(Pc),j(zu),j(is),j(Rt))}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var sP=(()=>{class n{constructor(t,r){this.auth=t,this.toastr=r,this.email="",this.password=""}ngOnInit(){}login(){return P(this,null,function*(){if(!this.email||!this.password){this.toastr.warning("Please enter a valid Email and Password");return}try{yield this.auth.login(this.email,this.password),this.email="",this.password=""}catch(t){console.error("Login error:",t),this.toastr.error("Login failed. Please try again.")}})}static{this.\u0275fac=function(r){return new(r||n)(X(Ut),X(is))}}static{this.\u0275cmp=Fe({type:n,selectors:[["app-login"]],decls:16,vars:2,consts:[[1,"colorlib-work"],[1,"colorlib-narrow-content"],[1,"row"],[1,"col-md-6","col-md-offset-3","col-md-pull-3"],[1,"colorlib-heading"],[1,"col-md-5"],["method","post","action","#","id","contactform"],[1,"form-group"],["type","text","name","Email","placeholder","Email *",1,"form-control",3,"ngModelChange","ngModel"],["type","password","name","password","placeholder","Password *",1,"form-control",3,"ngModelChange","ngModel"],["type","submit","value","Submit",1,"btn","btn-primary","btn-send-message",3,"click"],[1,"col-md-7"]],template:function(r,i){r&1&&(v(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),T(5,"Login"),w()()(),v(6,"div",2)(7,"div",5)(8,"form",6)(9,"div",7)(10,"input",8),zr("ngModelChange",function(o){return Ni(i.email,o)||(i.email=o),o}),w()(),v(11,"div",7)(12,"input",9),zr("ngModelChange",function(o){return Ni(i.password,o)||(i.password=o),o}),w()(),v(13,"div",7)(14,"input",10),me("click",function(){return i.login()}),w()()()(),U(15,"div",11),w()()()),r&2&&(Se(10),qr("ngModel",i.email),Se(2),qr("ngModel",i.password))},dependencies:[Ta,Ca,Pf,ba,$u,js]})}}return n})();function iq(n,e){n&1&&(oa(0),v(1,"a",13),T(2,"Bone Health"),w(),v(3,"a",13),T(4,"Women's Health"),w(),v(5,"a",13),T(6,"Men's Health"),w(),v(7,"a",13),T(8,"Nerve Health"),w(),v(9,"a",13),T(10,"GI Health"),w(),v(11,"a",13),T(12,"Renal Health"),w(),v(13,"a",13),T(14,"Immunomodulator"),w(),v(15,"a",13),T(16,"Sleepcare"),w(),aa())}function sq(n,e){n&1&&(v(0,"a",14),T(1,"Bone Health"),w(),v(2,"a",14),T(3,"Women's Health"),w(),v(4,"a",14),T(5,"Men's Health"),w(),v(6,"a",14),T(7,"Nerve Health"),w(),v(8,"a",14),T(9,"GI Health"),w(),v(10,"a",14),T(11,"Renal Health"),w(),v(12,"a",14),T(13,"Immunomodulator"),w(),v(14,"a",14),T(15,"Sleepcare"),w())}var oP=(()=>{class n{constructor(t,r,i){this.auth=t,this.router=r,this.document=i,this.currentUser=null}ngOnInit(){this.router.routeReuseStrategy.shouldReuseRoute=()=>!1}reload(){this.document.location.reload()}static{this.\u0275fac=function(r){return new(r||n)(X(Ut),X(Rt),X(Ae))}}static{this.\u0275cmp=Fe({type:n,selectors:[["app-products"]],decls:19,vars:2,consts:[["notLoggedIn",""],[1,"colorlib-work"],[1,"colorlib-narrow-content"],[1,"row"],[1,"col-md-6","col-md-offset-3","col-md-pull-3"],[1,"heading-meta"],[1,"colorlib-heading"],[1,"col-md-2"],[1,"col-md-8"],[1,"list-group"],["href","#","aria-current","true",1,"list-group-item","list-group-item-action","active"],[4,"ngIf","ngIfElse"],[1,"col-md-1"],["routerLink","/products/prod-details",1,"list-group-item","list-group-item-action"],["routerLink","/promotions",1,"list-group-item","list-group-item-action"]],template:function(r,i){if(r&1&&(v(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"span",5),T(5,"Products"),w(),v(6,"h2",6),T(7,"Our Products"),w()()(),v(8,"div",3),U(9,"div",7),v(10,"div",8)(11,"div",9)(12,"a",10)(13,"b"),T(14,"Medical Channel"),w()(),An(15,iq,17,0,"ng-container",11)(16,sq,16,0,"ng-template",null,0,rA),w()(),U(18,"div",12),w()()()),r&2){let s=tA(17);Se(15),Ze("ngIf",i.currentUser)("ngIfElse",s)}},dependencies:[Qr,rn]})}}return n})();function oq(n,e){n&1&&(v(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"span",5),T(5,"Home"),w(),v(6,"h2",6),T(7,"After login"),w()()(),v(8,"div",3)(9,"div",7)(10,"h1",8),T(11,"Please "),v(12,"a",9),T(13,"login"),w(),T(14," to view our products and"),U(15,"br"),T(16,"latest promotions."),w()()()()())}function aq(n,e){n&1&&(v(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"span",5),T(5,"Home"),w(),v(6,"h2",6),T(7,"You Logged In"),w()()(),v(8,"div",3)(9,"div",7)(10,"h1",8),T(11,"Please "),v(12,"a",10),T(13,"Click Here"),w(),T(14," to view our products and"),U(15,"br"),T(16,"latest promotions."),w()()()()())}var aP=(()=>{class n{constructor(t,r){this.auth=t,this.document=r,this.currentUser=null}ngOnInit(){}reload(){let t=sessionStorage.getItem("currentUser");this.document.location.reload()}static{this.\u0275fac=function(r){return new(r||n)(X(Ut),X(Ae))}}static{this.\u0275cmp=Fe({type:n,selectors:[["app-promotions"]],decls:2,vars:2,consts:[["class","colorlib-work",4,"ngIf"],[1,"colorlib-work"],[1,"colorlib-narrow-content"],[1,"row"],[1,"col-md-6","col-md-offset-3","col-md-pull-3"],[1,"heading-meta"],[1,"colorlib-heading"],[1,"col-md-12",2,"text-align","center"],[2,"padding","10% 0px"],["routerLink","/login"],["routerLink","/products"]],template:function(r,i){r&1&&An(0,oq,17,0,"div",0)(1,aq,17,0,"div",0),r&2&&(Ze("ngIf",!i.currentUser),Se(),Ze("ngIf",i.currentUser))},dependencies:[Qr,rn]})}}return n})();var lP=(()=>{class n{constructor(t,r,i){this.auth=t,this.toastr=r,this.document=i,this.email="",this.username="",this.contactno="",this.password=""}ngOnInit(){}signup(){if(!this.email){this.toastr.warning("Please enter a valid Email");return}if(!this.password){this.toastr.warning("Please enter a valid Password");return}this.auth.signup(this.email,this.username,this.contactno,this.password).then(()=>{this.toastr.success("Signup successful!"),this.clearFields(),this.auth.logout()}).catch(t=>{console.error("Signup Error:",t),this.toastr.error("Signup failed. Please try again.")})}clearFields(){this.email="",this.username="",this.contactno="",this.password=""}static{this.\u0275fac=function(r){return new(r||n)(X(Ut),X(is),X(Ae))}}static{this.\u0275cmp=Fe({type:n,selectors:[["app-signup"]],decls:20,vars:4,consts:[[1,"colorlib-work"],[1,"colorlib-narrow-content"],[1,"row"],[1,"col-md-6","col-md-offset-3","col-md-pull-3"],[1,"colorlib-heading"],[1,"col-md-5"],["method","post","action","#","id","contactform"],[1,"form-group"],["type","text","name","name","placeholder","Name *",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","email","placeholder","Email *",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","contactno","placeholder","Contact No *",1,"form-control",3,"ngModelChange","ngModel"],["type","password","name","password","placeholder","Password *",1,"form-control",3,"ngModelChange","ngModel"],["type","submit","value","Submit",1,"btn","btn-primary","btn-send-message",3,"click"],[1,"col-md-7"]],template:function(r,i){r&1&&(v(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),T(5,"Add New User"),w()()(),v(6,"div",2)(7,"div",5)(8,"form",6)(9,"div",7)(10,"input",8),zr("ngModelChange",function(o){return Ni(i.username,o)||(i.username=o),o}),w()(),v(11,"div",7)(12,"input",9),zr("ngModelChange",function(o){return Ni(i.email,o)||(i.email=o),o}),w()(),v(13,"div",7)(14,"input",10),zr("ngModelChange",function(o){return Ni(i.contactno,o)||(i.contactno=o),o}),w()(),v(15,"div",7)(16,"input",11),zr("ngModelChange",function(o){return Ni(i.password,o)||(i.password=o),o}),w()(),v(17,"div",7)(18,"input",12),me("click",function(){return i.signup()}),w()()()(),U(19,"div",13),w()()()),r&2&&(Se(10),qr("ngModel",i.username),Se(2),qr("ngModel",i.email),Se(2),qr("ngModel",i.contactno),Se(2),qr("ngModel",i.password))},dependencies:[Ta,Ca,Pf,ba,$u,js]})}}return n})();var uP=(()=>{class n{constructor(){}ngOnInit(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=Fe({type:n,selectors:[["app-team-work"]],decls:46,vars:0,consts:[[1,"colorlib-about"],[1,"colorlib-narrow-content"],[1,"row","row-bottom-padded-md"],[1,"col-md-6"],["data-animate-effect","fadeInLeft",1,"about-img","animate-box",2,"background-image","url(assets/images/career.jpg)"],["data-animate-effect","fadeInLeft",1,"col-md-6","animate-box"],[1,"about-desc"],[1,"heading-meta"],[1,"colorlib-heading"],["id","colorlib-counter","data-stellar-background-ratio","0.5",1,"colorlib-counters",2,"background-image","url(assets/images/consumers.jpg)"],[1,"overlay"],[1,"row"],[1,"col-md-3","text-center","animate-box"],[1,"icon"],["src","assets/images/ico-tube.svg",2,"width","70%","margin-top","0%"],["data-from","0","data-to","15","data-speed","5000","data-refresh-interval","50",1,"colorlib-counter","js-counter"],[1,"colorlib-counter-label"],["src","assets/images/ico-medical-pills.svg",2,"width","60%","margin-top","5%"],["data-from","0","data-to","28","data-speed","5000","data-refresh-interval","50",1,"colorlib-counter","js-counter"],["src","assets/images/ico-retail.svg",2,"width","60%","margin-top","0%"],["data-from","0","data-to","16","data-speed","5000","data-refresh-interval","50",1,"colorlib-counter","js-counter"],["src","assets/images/ico-medical.svg",2,"width","50%","margin-top","0%"],["data-from","0","data-to","12","data-speed","5000","data-refresh-interval","50",1,"colorlib-counter","js-counter"]],template:function(r,i){r&1&&(v(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),U(4,"div",4),w(),v(5,"div",5)(6,"div",6)(7,"span",7),T(8,"Home"),w(),v(9,"h2",8),T(10,"Teamwork"),w(),v(11,"p"),T(12,"We firmly believe that development of people or employee's positive working cultrue will yield benefits to both communities and organization as well."),w()()()()()(),v(13,"div",9),U(14,"div",10),v(15,"div",1),U(16,"div",11),v(17,"div",11)(18,"div",12)(19,"span",13)(20,"i"),U(21,"img",14),w()(),U(22,"span",15),v(23,"span",16),T(24,"Upcoming Products"),w()(),v(25,"div",12)(26,"span",13)(27,"i"),U(28,"img",17),w()(),U(29,"span",18),v(30,"span",16),T(31,"Products"),w()(),v(32,"div",12)(33,"span",13)(34,"i"),U(35,"img",19),w()(),U(36,"span",20),v(37,"span",16),T(38,"Medical Channel"),w()(),v(39,"div",12)(40,"span",13)(41,"i"),U(42,"img",21),w()(),U(43,"span",22),v(44,"span",16),T(45,"Retail Channel"),w()()()()())}})}}return n})();var _I=(()=>{class n{constructor(t,r,i){this.firestore=t,this.auth=r,this.router=i}canActivate(t,r){let i=t.data.role,s=this.auth.getCurrentUser();return s?this.firestore.collection("users").doc(s.uid).valueChanges().pipe(In(1),le(o=>o&&o.roles&&o.roles[i]?(console.log("Access granted for role:",i),!0):(console.warn("Access denied. Missing role:",i),this.router.navigate(["/access-denied"]),!1)),Ln(o=>(console.error("Error fetching user data:",o),this.router.navigate(["/access-denied"]),ie(!1)))):(console.warn("No user is logged in. Redirecting to login."),this.router.navigate(["/login"]),ie(!1))}static{this.\u0275fac=function(r){return new(r||n)(j(Pc),j(Ut),j(Rt))}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var cP=(()=>{class n{constructor(t){this.auth=t,this.currentUser=null}ngOnInit(){}static{this.\u0275fac=function(r){return new(r||n)(X(Ut))}}static{this.\u0275cmp=Fe({type:n,selectors:[["app-productdetails"]],decls:2,vars:0,template:function(r,i){r&1&&(v(0,"p"),T(1,"productdetails works!"),w())}})}}return n})();var dP=(()=>{class n{constructor(t){this.document=t}ngOnInit(){}reload(){this.document.location.reload()}static{this.\u0275fac=function(r){return new(r||n)(X(Ae))}}static{this.\u0275cmp=Fe({type:n,selectors:[["app-access-denied"]],decls:6,vars:0,consts:[["routerLink","/home",3,"click"]],template:function(r,i){r&1&&(v(0,"h1"),T(1,"Access Denied"),w(),v(2,"p"),T(3,"You do not have permission to access this page."),w(),v(4,"a",0),me("click",function(){return i.reload()}),T(5,"Return to Home"),w())},dependencies:[rn]})}}return n})();var lq=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:YM},{path:"about-us",component:CM},{path:"products",component:oP},{path:"promotions",component:aP},{path:"products/prod-details",component:cP,canActivate:[_I],data:{role:"subscriber"}},{path:"contact",component:QM},{path:"career",component:TM},{path:"team-work",component:uP},{path:"login",component:sP},{path:"signup",component:lP,canActivate:[_I],data:{role:"admin"}},{path:"approve",component:bM},{path:"access-denied",component:dP},{path:"**",redirectTo:""}],hP=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ye({type:n})}static{this.\u0275inj=Qe({imports:[V_.forRoot(lq,{onSameUrlNavigation:"reload",scrollPositionRestoration:"enabled"}),V_]})}}return n})();function uq(n,e){n&1&&(v(0,"li",32)(1,"a",33),T(2,"Add User"),w()())}function cq(n,e){if(n&1){let t=uu();v(0,"li",32)(1,"a",34),me("click",function(){ru(t);let i=Qt();return iu(i.logOut())}),T(2,"Logout"),w()()}}var fP=(()=>{class n{constructor(t,r,i,s){this.router=t,this.auth=r,this.document=i,this.changeDetector=s,this.title="yassh",this.currentUser=null}ngOnInit(){this.currentUser=this.auth.currentUserSignal(),this.router.routeReuseStrategy.shouldReuseRoute=()=>!1,this.loadUserFromSession()}loadUserFromSession(){let t=sessionStorage.getItem("currentUser");t&&(this.currentUser=JSON.parse(t))}reload(){this.document.location.reload(),this.loadUserFromSession()}adminOnly(){return this.currentUser&&this.currentUser.roles?this.currentUser.roles.admin===!0:!1}logOut(){this.auth.logout()}static{this.\u0275fac=function(r){return new(r||n)(X(Rt),X(Ut),X(Ae),X(dr))}}static{this.\u0275cmp=Fe({type:n,selectors:[["app-root"]],decls:114,vars:2,consts:[["id","colorlib-page"],["href","#",1,"js-colorlib-nav-toggle","colorlib-nav-toggle"],["id","colorlib-aside","role","complementary",1,"border","js-fullheight"],["id","colorlib-logo",3,"click"],["routerLink","/home"],["src","assets/images/logo.jpg",1,"img-responsive"],["id","colorlib-main-menu","role","navigation"],["routerLinkActive","colorlib-active",3,"click"],["routerLink","/about-us"],["routerLink","/products"],["routerLink","/promotions"],["routerLink","/contact"],["routerLinkActive","colorlib-active",4,"ngIf"],[1,"colorlib-footer"],["href","#"],[1,"icon-facebook2"],[1,"icon-twitter2"],[1,"icon-instagram"],[1,"icon-linkedin2"],["id","colorlib-main"],["id","get-in-touch",1,"colorlib-bg-color"],[1,"colorlib-narrow-content","ft"],[1,"row"],[1,"col-md-4"],[1,"colorlib-lead"],[3,"click"],["routerLink","/contact",1,"btn","btn-primary","btn-learn"],[1,"col-md-2"],[2,"margin-bottom","10px"],[2,"margin-bottom","10px",3,"click"],["routerLink","/career"],["routerLink","/team-work"],["routerLinkActive","colorlib-active"],["routerLink","/signup"],["routerLink","/login",3,"click"]],template:function(r,i){r&1&&(v(0,"div",0)(1,"a",1),U(2,"i"),w(),v(3,"aside",2)(4,"h1",3),me("click",function(){return i.reload()}),v(5,"a",4),U(6,"img",5),w()(),v(7,"nav",6)(8,"ul")(9,"li",7),me("click",function(){return i.reload()}),v(10,"a",4),T(11,"Home"),w()(),v(12,"li",7),me("click",function(){return i.reload()}),v(13,"a",8),T(14,"About Us"),w()(),v(15,"li",7),me("click",function(){return i.reload()}),v(16,"a",9),T(17,"Products"),w()(),v(18,"li",7),me("click",function(){return i.reload()}),v(19,"a",10),T(20,"Promotions"),w()(),v(21,"li",7),me("click",function(){return i.reload()}),v(22,"a",11),T(23,"Contact"),w()(),An(24,uq,3,0,"li",12)(25,cq,3,0,"li",12),w()(),v(26,"div",13)(27,"p")(28,"small"),T(29,`\xA9 Copyright \xA9 2022
`),w()(),v(30,"ul")(31,"li")(32,"a",14),U(33,"i",15),w()(),v(34,"li")(35,"a",14),U(36,"i",16),w()(),v(37,"li")(38,"a",14),U(39,"i",17),w()(),v(40,"li")(41,"a",14),U(42,"i",18),w()()()()(),v(43,"div",19),U(44,"router-outlet"),v(45,"div",20)(46,"div",21)(47,"div",22)(48,"div",23)(49,"h2"),T(50,"Get in Touch!"),w(),v(51,"p",24),T(52,"50, Kallang Pudding Road, 05-01 A AMA Building, Singapore 349326"),w(),v(53,"p",25),me("click",function(){return i.reload()}),v(54,"a",26),T(55,"Contact Us"),w()()(),v(56,"div",27)(57,"h4",28),T(58,"Medical Channel"),w(),v(59,"ul")(60,"li",25),me("click",function(){return i.reload()}),v(61,"a",10),T(62,"Bone Health"),w()(),v(63,"li",25),me("click",function(){return i.reload()}),v(64,"a",10),T(65,"Women's Health"),w()(),v(66,"li",25),me("click",function(){return i.reload()}),v(67,"a",10),T(68,"Men's Health"),w()(),v(69,"li",25),me("click",function(){return i.reload()}),v(70,"a",10),T(71,"Nerve Health"),w()(),v(72,"li",25),me("click",function(){return i.reload()}),v(73,"a",10),T(74,"GI Health"),w()(),v(75,"li",25),me("click",function(){return i.reload()}),v(76,"a",10),T(77,"Renal Health"),w()(),v(78,"li",25),me("click",function(){return i.reload()}),v(79,"a",10),T(80,"Immunomodulator"),w()(),v(81,"li",25),me("click",function(){return i.reload()}),v(82,"a",10),T(83,"Sleepcare"),w()()()(),v(84,"div",27)(85,"h4",29),me("click",function(){return i.reload()}),v(86,"a",10),T(87,"Retail Channel"),w()()(),v(88,"div",27)(89,"h4",28),T(90,"Sitemap"),w(),v(91,"ul")(92,"li",25),me("click",function(){return i.reload()}),v(93,"a",8),T(94,"About Us"),w()(),v(95,"li",25),me("click",function(){return i.reload()}),v(96,"a",8),T(97,"- Vision"),w()(),v(98,"li",25),me("click",function(){return i.reload()}),v(99,"a",8),T(100,"- Mission"),w()(),v(101,"li",25),me("click",function(){return i.reload()}),v(102,"a",8),T(103,"- Our Core Values"),w()()()(),v(104,"div",27)(105,"h4",28),T(106,"Others"),w(),v(107,"ul")(108,"li",25),me("click",function(){return i.reload()}),v(109,"a",30),T(110,"Career"),w()(),v(111,"li",25),me("click",function(){return i.reload()}),v(112,"a",31),T(113,"Teamwork"),w()()()()()()()()()),r&2&&(Se(24),Ze("ngIf",i.adminOnly()),Se(),Ze("ngIf",i.currentUser))},dependencies:[Qr,R_,rn,wM]})}}return n})();var hm={production:!0,firebase:{apiKey:"AIzaSyBaOiWBiDdpcA9Eb97GBIe3SJrj_yKUh3A",authDomain:"yassh-pharma.firebaseapp.com",projectId:"yassh-pharma",storageBucket:"yassh-pharma.firebasestorage.app",messagingSenderId:"700089433286",appId:"1:700089433286:web:d8187b474f9beefae72bc7",measurementId:"G-TYRJG33QLX"}};function pP(n){return new H(3e3,!1)}function dq(){return new H(3100,!1)}function hq(){return new H(3101,!1)}function fq(n){return new H(3001,!1)}function pq(n){return new H(3003,!1)}function mq(n){return new H(3004,!1)}function gq(n,e){return new H(3005,!1)}function yq(){return new H(3006,!1)}function vq(){return new H(3007,!1)}function _q(n,e){return new H(3008,!1)}function wq(n){return new H(3002,!1)}function Eq(n,e,t,r,i){return new H(3010,!1)}function Iq(){return new H(3011,!1)}function Dq(){return new H(3012,!1)}function Cq(){return new H(3200,!1)}function bq(){return new H(3202,!1)}function Tq(){return new H(3013,!1)}function Sq(n){return new H(3014,!1)}function Aq(n){return new H(3015,!1)}function Mq(n){return new H(3016,!1)}function xq(n,e){return new H(3404,!1)}function Rq(n){return new H(3502,!1)}function Nq(n){return new H(3503,!1)}function Pq(){return new H(3300,!1)}function kq(n){return new H(3504,!1)}function Oq(n){return new H(3301,!1)}function Fq(n,e){return new H(3302,!1)}function Vq(n){return new H(3303,!1)}function Lq(n,e){return new H(3400,!1)}function jq(n){return new H(3401,!1)}function Bq(n){return new H(3402,!1)}function Uq(n,e){return new H(3505,!1)}function ss(n){switch(n.length){case 0:return new rs;case 1:return n[0];default:return new kc(n)}}function AP(n,e,t=new Map,r=new Map){let i=[],s=[],o=-1,a=null;if(e.forEach(l=>{let c=l.get("offset"),d=c==o,f=d&&a||new Map;l.forEach((m,y)=>{let E=y,b=m;if(y!=="offset")switch(E=n.normalizePropertyName(E,i),b){case dm:b=t.get(y);break;case Cr:b=r.get(y);break;default:b=n.normalizeStyleValue(y,E,b,i);break}f.set(E,b)}),d||s.push(f),a=f,o=c}),i.length)throw Rq(i);return s}function $I(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&wI(t,"start",n)));break;case"done":n.onDone(()=>r(t&&wI(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&wI(t,"destroy",n)));break}}function wI(n,e,t){let r=t.totalTime,i=!!t.disabled,s=HI(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,r??n.totalTime,i),o=n._data;return o!=null&&(s._data=o),s}function HI(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function vn(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function mP(n){let e=n.indexOf(":"),t=n.substring(1,e),r=n.slice(e+1);return[t,r]}var $q=typeof document>"u"?null:document.documentElement;function qI(n){let e=n.parentNode||n.host||null;return e===$q?null:e}function Hq(n){return n.substring(1,6)=="ebkit"}var yo=null,gP=!1;function qq(n){yo||(yo=zq()||{},gP=yo.style?"WebkitAppearance"in yo.style:!1);let e=!0;return yo.style&&!Hq(n)&&(e=n in yo.style,!e&&gP&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in yo.style)),e}function zq(){return typeof document<"u"?document.body:null}function MP(n,e){for(;e;){if(e===n)return!0;e=qI(e)}return!1}function xP(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let r=n.querySelector(e);return r?[r]:[]}var zI=(()=>{class n{validateStyleProperty(t){return qq(t)}containsElement(t,r){return MP(t,r)}getParentElement(t){return qI(t)}query(t,r,i){return xP(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],l){return new rs(i,s)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac})}}return n})(),wo=class{static{this.NOOP=new zI}},Eo=class{};var Gq=1e3,RP="{{",Wq="}}",NP="ng-enter",TI="ng-leave",fm="ng-trigger",vm=".ng-trigger",yP="ng-animating",SI=".ng-animating";function li(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:AI(parseFloat(e[1]),e[2])}function AI(n,e){switch(e){case"s":return n*Gq;default:return n}}function _m(n,e,t){return n.hasOwnProperty("duration")?n:Kq(n,e,t)}function Kq(n,e,t){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,s=0,o="";if(typeof n=="string"){let a=n.match(r);if(a===null)return e.push(pP(n)),{duration:0,delay:0,easing:""};i=AI(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(s=AI(parseFloat(l),a[4]));let c=a[5];c&&(o=c)}else i=n;if(!t){let a=!1,l=e.length;i<0&&(e.push(dq()),a=!0),s<0&&(e.push(hq()),a=!0),a&&e.splice(l,0,pP(n))}return{duration:i,delay:s,easing:o}}function Qq(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function br(n,e,t){e.forEach((r,i)=>{let s=GI(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r})}function _o(n,e){e.forEach((t,r)=>{let i=GI(r);n.style[i]=""})}function Oc(n){return Array.isArray(n)?n.length==1?n[0]:XN(n):n}function Yq(n,e,t){let r=e.params||{},i=PP(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(fq(s))})}var MI=new RegExp(`${RP}\\s*(.+?)\\s*${Wq}`,"g");function PP(n){let e=[];if(typeof n=="string"){let t;for(;t=MI.exec(n);)e.push(t[1]);MI.lastIndex=0}return e}function Vc(n,e,t){let r=`${n}`,i=r.replace(MI,(s,o)=>{let a=e[o];return a==null&&(t.push(pq(o)),a=""),a.toString()});return i==r?n:i}var Zq=/-+([a-z0-9])/g;function GI(n){return n.replace(Zq,(...e)=>e[1].toUpperCase())}function Jq(n,e){return n===0||e===0}function Xq(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,WI(n,a)))}}return e}function yn(n,e,t){switch(e.type){case pe.Trigger:return n.visitTrigger(e,t);case pe.State:return n.visitState(e,t);case pe.Transition:return n.visitTransition(e,t);case pe.Sequence:return n.visitSequence(e,t);case pe.Group:return n.visitGroup(e,t);case pe.Animate:return n.visitAnimate(e,t);case pe.Keyframes:return n.visitKeyframes(e,t);case pe.Style:return n.visitStyle(e,t);case pe.Reference:return n.visitReference(e,t);case pe.AnimateChild:return n.visitAnimateChild(e,t);case pe.AnimateRef:return n.visitAnimateRef(e,t);case pe.Query:return n.visitQuery(e,t);case pe.Stagger:return n.visitStagger(e,t);default:throw mq(e.type)}}function WI(n,e){return window.getComputedStyle(n)[e]}var ez=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),wm=class extends Eo{normalizePropertyName(e,t){return GI(e)}normalizeStyleValue(e,t,r,i){let s="",o=r.toString().trim();if(ez.has(t)&&r!==0&&r!=="0")if(typeof r=="number")s="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(gq(e,r))}return o+s}};var Em="*";function tz(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(r=>nz(r,t,e)):t.push(n),t}function nz(n,e,t){if(n[0]==":"){let l=rz(n,t);if(typeof l=="function"){e.push(l);return}n=l}let r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return t.push(Aq(n)),e;let i=r[1],s=r[2],o=r[3];e.push(vP(i,o));let a=i==Em&&o==Em;s[0]=="<"&&!a&&e.push(vP(o,i))}function rz(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(Mq(n)),"* => *"}}var pm=new Set(["true","1"]),mm=new Set(["false","0"]);function vP(n,e){let t=pm.has(n)||mm.has(n),r=pm.has(e)||mm.has(e);return(i,s)=>{let o=n==Em||n==i,a=e==Em||e==s;return!o&&t&&typeof i=="boolean"&&(o=i?pm.has(n):mm.has(n)),!a&&r&&typeof s=="boolean"&&(a=s?pm.has(e):mm.has(e)),o&&a}}var kP=":self",iz=new RegExp(`s*${kP}s*,?`,"g");function OP(n,e,t,r){return new xI(n).build(e,t,r)}var _P="",xI=class{constructor(e){this._driver=e}build(e,t,r){let i=new RI(t);return this._resetContextStyleTimingState(i),yn(this,Oc(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=_P,e.collectedStyles=new Map,e.collectedStyles.set(_P,new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0,s=[],o=[];return e.name.charAt(0)=="@"&&t.errors.push(yq()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==pe.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(d=>{l.name=d,s.push(this.visitState(l,t))}),l.name=c}else if(a.type==pe.Transition){let l=this.visitTransition(a,t);r+=l.queryCount,i+=l.depCount,o.push(l)}else t.errors.push(vq())}),{type:pe.Trigger,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){let r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{PP(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&t.errors.push(_q(e.name,[...s.values()]))}return{type:pe.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let r=yn(this,Oc(e.animation),t),i=tz(e.expr,t.errors);return{type:pe.Transition,matchers:i,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:vo(e.options)}}visitSequence(e,t){return{type:pe.Sequence,steps:e.steps.map(r=>yn(this,r,t)),options:vo(e.options)}}visitGroup(e,t){let r=t.currentTime,i=0,s=e.steps.map(o=>{t.currentTime=r;let a=yn(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:pe.Group,steps:s,options:vo(e.options)}}visitAnimate(e,t){let r=lz(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:mo({});if(s.type==pe.Keyframes)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;let c={};r.easing&&(c.easing=r.easing),o=mo(c)}t.currentTime+=r.duration+r.delay;let l=this.visitStyle(o,t);l.isEmptyStep=a,i=l}return t.currentAnimateTimings=null,{type:pe.Animate,timings:r,style:i,options:null}}visitStyle(e,t){let r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===Cr?r.push(a):t.errors.push(wq(a)):r.push(new Map(Object.entries(a)));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s)){for(let l of a.values())if(l.toString().indexOf(RP)>=0){s=!0;break}}}),{type:pe.Style,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){let r=t.currentAnimateTimings,i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,l)=>{let c=t.collectedStyles.get(t.currentQuerySelector),d=c.get(l),f=!0;d&&(s!=i&&s>=d.startTime&&i<=d.endTime&&(t.errors.push(Eq(l,d.startTime,d.endTime,s,i)),f=!1),s=d.startTime),f&&c.set(l,{startTime:s,endTime:i}),t.options&&Yq(a,t.options,t.errors)})})}visitKeyframes(e,t){let r={type:pe.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(Iq()),r;let i=1,s=0,o=[],a=!1,l=!1,c=0,d=e.steps.map(F=>{let q=this._makeStyleAst(F,t),V=q.offset!=null?q.offset:az(q.styles),W=0;return V!=null&&(s++,W=q.offset=V),l=l||W<0||W>1,a=a||W<c,c=W,o.push(W),q});l&&t.errors.push(Dq()),a&&t.errors.push(Cq());let f=e.steps.length,m=0;s>0&&s<f?t.errors.push(bq()):s==0&&(m=i/(f-1));let y=f-1,E=t.currentTime,b=t.currentAnimateTimings,M=b.duration;return d.forEach((F,q)=>{let V=m>0?q==y?1:m*q:o[q],W=V*M;t.currentTime=E+b.delay+W,b.duration=W,this._validateStyleAst(F,t),F.offset=V,r.styles.push(F)}),r}visitReference(e,t){return{type:pe.Reference,animation:yn(this,Oc(e.animation),t),options:vo(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:pe.AnimateChild,options:vo(e.options)}}visitAnimateRef(e,t){return{type:pe.AnimateRef,animation:this.visitReference(e.animation,t),options:vo(e.options)}}visitQuery(e,t){let r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;let[s,o]=sz(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,vn(t.collectedStyles,t.currentQuerySelector,new Map);let a=yn(this,Oc(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:pe.Query,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:vo(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(Tq());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:_m(e.timings,t.errors,!0);return{type:pe.Stagger,animation:yn(this,Oc(e.animation),t),timings:r,options:null}}};function sz(n){let e=!!n.split(/\s*,\s*/).find(t=>t==kP);return e&&(n=n.replace(iz,"")),n=n.replace(/@\*/g,vm).replace(/@\w+/g,t=>vm+"-"+t.slice(1)).replace(/:animating/g,SI),[n,e]}function oz(n){return n?$({},n):null}var RI=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function az(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function lz(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let s=_m(n,e).duration;return EI(s,0,"")}let t=n;if(t.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=EI(0,0,"");return s.dynamic=!0,s.strValue=t,s}let i=_m(t,e);return EI(i.duration,i.delay,i.easing)}function vo(n){return n?(n=$({},n),n.params&&(n.params=oz(n.params))):n={},n}function EI(n,e,t){return{duration:n,delay:e,easing:t}}function KI(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}var Lc=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},uz=1,cz=":enter",dz=new RegExp(cz,"g"),hz=":leave",fz=new RegExp(hz,"g");function FP(n,e,t,r,i,s=new Map,o=new Map,a,l,c=[]){return new NI().buildKeyframes(n,e,t,r,i,s,o,a,l,c)}var NI=class{buildKeyframes(e,t,r,i,s,o,a,l,c,d=[]){c=c||new Lc;let f=new PI(e,t,c,i,s,d,[]);f.options=l;let m=l.delay?li(l.delay):0;f.currentTimeline.delayNextStep(m),f.currentTimeline.setStyles([o],null,f.errors,l),yn(this,r,f);let y=f.timelines.filter(E=>E.containsAnimation());if(y.length&&a.size){let E;for(let b=y.length-1;b>=0;b--){let M=y[b];if(M.element===t){E=M;break}}E&&!E.allowOnlyTimelineStyles()&&E.setStyles([a],null,f.errors,l)}return y.length?y.map(E=>E.buildKeyframes()):[KI(t,[],[],[],0,m,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let r=t.subInstructions.get(t.element);if(r){let i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){let r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(let i of e){let s=i?.delay;if(s){let o=typeof s=="number"?s:li(Vc(s,i?.params??{},t.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime,o=r.duration!=null?li(r.duration):null,a=r.delay!=null?li(r.delay):null;return o!==0&&e.forEach(l=>{let c=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),yn(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let r=t.subContextCount,i=t,s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),s.delay!=null)){i.previousNode.type==pe.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Im);let o=li(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>yn(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let r=[],i=t.currentTimeline.currentTime,s=e.options&&e.options.delay?li(e.options.delay):0;e.steps.forEach(o=>{let a=t.createSubContext(e.options);s&&a.delayNextStep(s),yn(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let r=e.strValue,i=t.params?Vc(r,t.params,t.errors):r;return _m(i,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());let s=e.style;s.type==pe.Keyframes?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){let r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?li(i.delay):0;s&&(t.previousNode.type===pe.Style||r==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Im);let o=r,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,d)=>{t.currentQueryIndex=d;let f=t.createSubContext(e.options,c);s&&f.delayNextStep(s),c===t.element&&(l=f.currentTimeline),yn(this,e.animation,f),f.currentTimeline.applyStylesToKeyframe();let m=f.currentTimeline.currentTime;o=Math.max(o,m)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1),l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime;break}let d=t.currentTimeline;l&&d.delayNextStep(l);let f=d.currentTime;yn(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-f+(i.startTime-r.currentTimeline.startTime)}},Im={},PI=class n{constructor(e,t,r,i,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Im,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Dm(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=li(r.duration)),r.delay!=null&&(i.delay=li(r.delay));let s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=Vc(s[a],o,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){let i=t||this.element,s=new n(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Im,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){let i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new kI(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(dz,"."+this._enterClassName),e=e.replace(fz,"."+this._leaveClassName);let l=r!=1,c=this._driver.query(this.element,e,l);r!==0&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!s&&a.length==0&&o.push(Sq(t)),a}},Dm=class n{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=uz,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Cr),this._currentKeyframe.set(t,Cr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);let s=i&&i.params||{},o=pz(e,this._globalTimelineStyles);for(let[a,l]of o){let c=Vc(l,s,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Cr),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{let i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((d,f)=>{d===dm?e.add(f):d===Cr&&t.add(f)}),r||c.set("offset",l/this.duration),i.push(c)});let s=[...e.values()],o=[...t.values()];if(r){let a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return KI(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}},kI=class extends Dm{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){let s=[],o=r+t,a=t/o,l=new Map(e[0]);l.set("offset",0),s.push(l);let c=new Map(e[0]);c.set("offset",wP(a)),s.push(c);let d=e.length-1;for(let f=1;f<=d;f++){let m=new Map(e[f]),y=m.get("offset"),E=t+y*r;m.set("offset",wP(E/o)),s.push(m)}r=o,t=0,i="",e=s}return KI(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}};function wP(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function pz(n,e){let t=new Map,r;return n.forEach(i=>{if(i==="*"){r??=e.keys();for(let s of r)t.set(s,Cr)}else for(let[s,o]of i)t.set(s,o)}),t}function EP(n,e,t,r,i,s,o,a,l,c,d,f,m){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:d,totalTime:f,errors:m}}var II={},Cm=class{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return mz(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,o,a,l,c,d){let f=[],m=this.ast.options&&this.ast.options.params||II,y=a&&a.params||II,E=this.buildStyles(r,y,f),b=l&&l.params||II,M=this.buildStyles(i,b,f),F=new Set,q=new Map,V=new Map,W=i==="void",se={params:VP(b,m),delay:this.ast.options?.delay},J=d?[]:FP(e,t,this.ast.animation,s,o,E,M,se,c,f),C=0;return J.forEach(_=>{C=Math.max(_.duration+_.delay,C)}),f.length?EP(t,this._triggerName,r,i,W,E,M,[],[],q,V,C,f):(J.forEach(_=>{let I=_.element,S=vn(q,I,new Set);_.preStyleProps.forEach(R=>S.add(R));let A=vn(V,I,new Set);_.postStyleProps.forEach(R=>A.add(R)),I!==t&&F.add(I)}),EP(t,this._triggerName,r,i,W,E,M,J,[...F.values()],q,V,C))}};function mz(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}function VP(n,e){let t=$({},e);return Object.entries(n).forEach(([r,i])=>{i!=null&&(t[r]=i)}),t}var OI=class{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){let r=new Map,i=VP(e,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((o,a)=>{o&&(o=Vc(o,i,t));let l=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,l,o,t),r.set(a,o)})}),r}};function gz(n,e,t){return new FI(n,e,t)}var FI=class{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{let s=i.options&&i.options.params||{};this.states.set(i.name,new OI(i.style,s,r))}),IP(this.states,"true","1"),IP(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new Cm(e,i,this.states))}),this.fallbackTransition=yz(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}};function yz(n,e,t){let r=[(o,a)=>!0],i={type:pe.Sequence,steps:[],options:null},s={type:pe.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new Cm(n,s,e)}function IP(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var vz=new Lc,VI=class{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){let r=[],i=[],s=OP(this._driver,t,r,i);if(r.length)throw Nq(r);i.length&&void 0,this._animations.set(e,s)}_buildPlayer(e,t,r){let i=e.element,s=AP(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){let i=[],s=this._animations.get(e),o,a=new Map;if(s?(o=FP(this._driver,t,s,NP,TI,new Map,new Map,r,vz,i),o.forEach(d=>{let f=vn(a,d.element,new Map);d.postStyleProps.forEach(m=>f.set(m,null))})):(i.push(Pq()),o=[]),i.length)throw kq(i);a.forEach((d,f)=>{d.forEach((m,y)=>{d.set(y,this._driver.computeStyle(f,y,Cr))})});let l=o.map(d=>{let f=a.get(d.element);return this._buildPlayer(d,new Map,f)}),c=ss(l);return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw Oq(e);return t}listen(e,t,r,i){let s=HI(t,"","","");return $I(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let o=i[0]||{};this.create(e,t,o);return}let s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},DP="ng-animate-queued",_z=".ng-animate-queued",DI="ng-animate-disabled",wz=".ng-animate-disabled",Ez="ng-star-inserted",Iz=".ng-star-inserted",Dz=[],LP={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Cz={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Jn="__ng_removed",jc=class{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=Tz(i),r){let s=e,{value:o}=s,a=QD(s,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let r=this.options.params;Object.keys(t).forEach(i=>{r[i]==null&&(r[i]=t[i])})}}},Fc="void",CI=new jc(Fc),LI=class{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,kn(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw Fq(r,t);if(r==null||r.length==0)throw Vq(t);if(!Sz(r))throw Lq(r,t);let s=vn(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);let a=vn(this._engine.statesByElement,e,new Map);return a.has(t)||(kn(e,fm),kn(e,fm+"-"+t),a.set(t,CI)),()=>{this._engine.afterFlush(()=>{let l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw jq(e);return t}trigger(e,t,r,i=!0){let s=this._getTrigger(t),o=new Bc(this.id,t,e),a=this._engine.statesByElement.get(e);a||(kn(e,fm),kn(e,fm+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t),c=new jc(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=CI),!(c.value===Fc)&&l.value===c.value){if(!xz(l.params,c.params)){let b=[],M=s.matchStyles(l.value,l.params,b),F=s.matchStyles(c.value,c.params,b);b.length?this._engine.reportError(b):this._engine.afterFlush(()=>{_o(e,M),br(e,F)})}return}let m=vn(this._engine.playersByElement,e,[]);m.forEach(b=>{b.namespaceId==this.id&&b.triggerName==t&&b.queued&&b.destroy()});let y=s.matchTransition(l.value,c.value,e,c.params),E=!1;if(!y){if(!i)return;y=s.fallbackTransition,E=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:y,fromState:l,toState:c,player:o,isFallbackTransition:E}),E||(kn(e,DP),o.onStart(()=>{yl(e,DP)})),o.onDone(()=>{let b=this.players.indexOf(o);b>=0&&this.players.splice(b,1);let M=this._engine.playersByElement.get(e);if(M){let F=M.indexOf(o);F>=0&&M.splice(F,1)}}),this.players.push(o),m.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let r=this._engine.driver.query(e,vm,!0);r.forEach(i=>{if(i[Jn])return;let s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){let s=this._engine.statesByElement.get(e),o=new Map;if(s){let a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){let d=this.trigger(e,c,Fc,i);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&ss(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){let i=new Set;t.forEach(s=>{let o=s.name;if(i.has(o))return;i.add(o);let l=this._triggers.get(o).fallbackTransition,c=r.get(o)||CI,d=new jc(Fc),f=new Bc(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:d,player:f,isFallbackTransition:!0})})}}removeNode(e,t){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){let s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{let s=e[Jn];(!s||s===LP)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){kn(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){let l=HI(s,r.triggerName,r.fromState.value,r.toState.value);l._data=e,$I(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{let s=r.transition.ast.depCount,o=i.transition.ast.depCount;return s==0||o==0?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},jI=class{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){let r=new LI(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){let l=i.get(a);if(l){let c=r.indexOf(l);r.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}}return t}trigger(e,t,r,i){if(gm(t)){let s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!gm(t))return;let s=t[Jn];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){let o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),kn(e,DI)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),yl(e,DI))}removeNode(e,t,r){if(gm(t)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);let s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[Jn]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return gm(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,vm,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,SI,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ss(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[Jn];if(t&&t.setForRemoval){if(e[Jn]=LP,t.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(DI)&&this.markElementAsDisabled(e,!1),this.driver.query(e,wz,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];kn(i,Ez)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],t.length?ss(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw Bq(e)}_flushAnimations(e,t){let r=new Lc,i=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,d=new Set;this.disabledNodes.forEach(te=>{d.add(te);let re=this.driver.query(te,_z,!0);for(let ae=0;ae<re.length;ae++)d.add(re[ae])});let f=this.bodyNode,m=Array.from(this.statesByElement.keys()),y=TP(m,this.collectedEnterElements),E=new Map,b=0;y.forEach((te,re)=>{let ae=NP+b++;E.set(re,ae),te.forEach(De=>kn(De,ae))});let M=[],F=new Set,q=new Set;for(let te=0;te<this.collectedLeaveElements.length;te++){let re=this.collectedLeaveElements[te],ae=re[Jn];ae&&ae.setForRemoval&&(M.push(re),F.add(re),ae.hasAnimation?this.driver.query(re,Iz,!0).forEach(De=>F.add(De)):q.add(re))}let V=new Map,W=TP(m,Array.from(F));W.forEach((te,re)=>{let ae=TI+b++;V.set(re,ae),te.forEach(De=>kn(De,ae))}),e.push(()=>{y.forEach((te,re)=>{let ae=E.get(re);te.forEach(De=>yl(De,ae))}),W.forEach((te,re)=>{let ae=V.get(re);te.forEach(De=>yl(De,ae))}),M.forEach(te=>{this.processLeaveNode(te)})});let se=[],J=[];for(let te=this._namespaceList.length-1;te>=0;te--)this._namespaceList[te].drainQueuedTransitions(t).forEach(ae=>{let De=ae.player,ct=ae.element;if(se.push(De),this.collectedEnterElements.length){let rt=ct[Jn];if(rt&&rt.setForMove){if(rt.previousTriggersValues&&rt.previousTriggersValues.has(ae.triggerName)){let Tr=rt.previousTriggersValues.get(ae.triggerName),Xt=this.statesByElement.get(ae.element);if(Xt&&Xt.has(ae.triggerName)){let Sr=Xt.get(ae.triggerName);Sr.value=Tr,Xt.set(ae.triggerName,Sr)}}De.destroy();return}}let wn=!f||!this.driver.containsElement(f,ct),nt=V.get(ct),qe=E.get(ct),ze=this._buildInstruction(ae,r,qe,nt,wn);if(ze.errors&&ze.errors.length){J.push(ze);return}if(wn){De.onStart(()=>_o(ct,ze.fromStyles)),De.onDestroy(()=>br(ct,ze.toStyles)),i.push(De);return}if(ae.isFallbackTransition){De.onStart(()=>_o(ct,ze.fromStyles)),De.onDestroy(()=>br(ct,ze.toStyles)),i.push(De);return}let ci=[];ze.timelines.forEach(rt=>{rt.stretchStartingKeyframe=!0,this.disabledNodes.has(rt.element)||ci.push(rt)}),ze.timelines=ci,r.append(ct,ze.timelines);let Mm={instruction:ze,player:De,element:ct};o.push(Mm),ze.queriedElements.forEach(rt=>vn(a,rt,[]).push(De)),ze.preStyleProps.forEach((rt,Tr)=>{if(rt.size){let Xt=l.get(Tr);Xt||l.set(Tr,Xt=new Set),rt.forEach((Sr,di)=>Xt.add(di))}}),ze.postStyleProps.forEach((rt,Tr)=>{let Xt=c.get(Tr);Xt||c.set(Tr,Xt=new Set),rt.forEach((Sr,di)=>Xt.add(di))})});if(J.length){let te=[];J.forEach(re=>{te.push(Uq(re.triggerName,re.errors))}),se.forEach(re=>re.destroy()),this.reportError(te)}let C=new Map,_=new Map;o.forEach(te=>{let re=te.element;r.has(re)&&(_.set(re,re),this._beforeAnimationBuild(te.player.namespaceId,te.instruction,C))}),i.forEach(te=>{let re=te.element;this._getPreviousPlayers(re,!1,te.namespaceId,te.triggerName,null).forEach(De=>{vn(C,re,[]).push(De),De.destroy()})});let I=M.filter(te=>SP(te,l,c)),S=new Map;bP(S,this.driver,q,c,Cr).forEach(te=>{SP(te,l,c)&&I.push(te)});let R=new Map;y.forEach((te,re)=>{bP(R,this.driver,new Set(te),l,dm)}),I.forEach(te=>{let re=S.get(te),ae=R.get(te);S.set(te,new Map([...re?.entries()??[],...ae?.entries()??[]]))});let D=[],_n=[],ui={};o.forEach(te=>{let{element:re,player:ae,instruction:De}=te;if(r.has(re)){if(d.has(re)){ae.onDestroy(()=>br(re,De.toStyles)),ae.disabled=!0,ae.overrideTotalTime(De.totalTime),i.push(ae);return}let ct=ui;if(_.size>1){let nt=re,qe=[];for(;nt=nt.parentNode;){let ze=_.get(nt);if(ze){ct=ze;break}qe.push(nt)}qe.forEach(ze=>_.set(ze,ct))}let wn=this._buildAnimation(ae.namespaceId,De,C,s,R,S);if(ae.setRealPlayer(wn),ct===ui)D.push(ae);else{let nt=this.playersByElement.get(ct);nt&&nt.length&&(ae.parentPlayer=ss(nt)),i.push(ae)}}else _o(re,De.fromStyles),ae.onDestroy(()=>br(re,De.toStyles)),_n.push(ae),d.has(re)&&i.push(ae)}),_n.forEach(te=>{let re=s.get(te.element);if(re&&re.length){let ae=ss(re);te.setRealPlayer(ae)}}),i.forEach(te=>{te.parentPlayer?te.syncPlayerEvents(te.parentPlayer):te.destroy()});for(let te=0;te<M.length;te++){let re=M[te],ae=re[Jn];if(yl(re,TI),ae&&ae.hasAnimation)continue;let De=[];if(a.size){let wn=a.get(re);wn&&wn.length&&De.push(...wn);let nt=this.driver.query(re,SI,!0);for(let qe=0;qe<nt.length;qe++){let ze=a.get(nt[qe]);ze&&ze.length&&De.push(...ze)}}let ct=De.filter(wn=>!wn.destroyed);ct.length?Az(this,re,ct):this.processLeaveNode(re)}return M.length=0,D.forEach(te=>{this.players.push(te),te.onDone(()=>{te.destroy();let re=this.players.indexOf(te);this.players.splice(re,1)}),te.play()}),D}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(o=a)}else{let a=this.playersByElement.get(e);if(a){let l=!s||s==Fc;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||o.push(c)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){let i=t.triggerName,s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:i;for(let l of t.timelines){let c=l.element,d=c!==s,f=vn(r,c,[]);this._getPreviousPlayers(c,d,o,a,t.toState).forEach(y=>{let E=y.getRealPlayer();E.beforeDestroy&&E.beforeDestroy(),y.destroy(),f.push(y)})}_o(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){let a=t.triggerName,l=t.element,c=[],d=new Set,f=new Set,m=t.timelines.map(E=>{let b=E.element;d.add(b);let M=b[Jn];if(M&&M.removedBeforeQueried)return new rs(E.duration,E.delay);let F=b!==l,q=Mz((r.get(b)||Dz).map(C=>C.getRealPlayer())).filter(C=>{let _=C;return _.element?_.element===b:!1}),V=s.get(b),W=o.get(b),se=AP(this._normalizer,E.keyframes,V,W),J=this._buildPlayer(E,se,q);if(E.subTimeline&&i&&f.add(b),F){let C=new Bc(e,a,b);C.setRealPlayer(J),c.push(C)}return J});c.forEach(E=>{vn(this.playersByQueriedElement,E.element,[]).push(E),E.onDone(()=>bz(this.playersByQueriedElement,E.element,E))}),d.forEach(E=>kn(E,yP));let y=ss(m);return y.onDestroy(()=>{d.forEach(E=>yl(E,yP)),br(l,t.toStyles)}),f.forEach(E=>{vn(i,E,[]).push(y)}),y}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new rs(e.duration,e.delay)}},Bc=class{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new rs,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>$I(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){vn(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function bz(n,e,t){let r=n.get(e);if(r){if(r.length){let i=r.indexOf(t);r.splice(i,1)}r.length==0&&n.delete(e)}return r}function Tz(n){return n??null}function gm(n){return n&&n.nodeType===1}function Sz(n){return n=="start"||n=="done"}function CP(n,e){let t=n.style.display;return n.style.display=e??"none",t}function bP(n,e,t,r,i){let s=[];t.forEach(l=>s.push(CP(l)));let o=[];r.forEach((l,c)=>{let d=new Map;l.forEach(f=>{let m=e.computeStyle(c,f,i);d.set(f,m),(!m||m.length==0)&&(c[Jn]=Cz,o.push(c))}),n.set(c,d)});let a=0;return t.forEach(l=>CP(l,s[a++])),o}function TP(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let r=1,i=new Set(e),s=new Map;function o(a){if(!a)return r;let l=s.get(a);if(l)return l;let c=a.parentNode;return t.has(c)?l=c:i.has(c)?l=r:l=o(c),s.set(a,l),l}return e.forEach(a=>{let l=o(a);l!==r&&t.get(l).push(a)}),t}function kn(n,e){n.classList?.add(e)}function yl(n,e){n.classList?.remove(e)}function Az(n,e,t){ss(t).onDone(()=>n.processLeaveNode(e))}function Mz(n){let e=[];return jP(n,e),e}function jP(n,e){for(let t=0;t<n.length;t++){let r=n[t];r instanceof kc?jP(r.players,e):e.push(r)}}function xz(n,e){let t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){let s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}function SP(n,e,t){let r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}var vl=class{constructor(e,t,r){this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new jI(e.body,t,r),this._timelineEngine=new VI(e.body,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){let o=e+"-"+i,a=this._triggerCache[o];if(!a){let l=[],c=[],d=OP(this._driver,s,l,c);if(l.length)throw xq(i,l);c.length&&void 0,a=gz(i,d,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if(r.charAt(0)=="@"){let[s,o]=mP(r),a=i;this._timelineEngine.command(s,t,o,a)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if(r.charAt(0)=="@"){let[o,a]=mP(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function Rz(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=bI(e[0]),e.length>1&&(r=bI(e[e.length-1]))):e instanceof Map&&(t=bI(e)),t||r?new BI(n,t,r):null}var BI=class n{static{this.initialStylesByElement=new WeakMap}constructor(e,t,r){this._element=e,this._startStyles=t,this._endStyles=r,this._state=0;let i=n.initialStylesByElement.get(e);i||n.initialStylesByElement.set(e,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&br(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(br(this._element,this._initialStyles),this._endStyles&&(br(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(_o(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(_o(this._element,this._endStyles),this._endStyles=null),br(this._element,this._initialStyles),this._state=3)}};function bI(n){let e=null;return n.forEach((t,r)=>{Nz(r)&&(e=e||new Map,e.set(r,t))}),e}function Nz(n){return n==="display"||n==="position"}var bm=class{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:WI(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Tm=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return MP(e,t)}getParentElement(e){return qI(e)}query(e,t,r){return xP(e,t,r)}computeStyle(e,t,r){return WI(e,t)}animate(e,t,r,i,s,o=[]){let a=i==0?"both":"forwards",l={duration:r,delay:i,fill:a};s&&(l.easing=s);let c=new Map,d=o.filter(y=>y instanceof bm);Jq(r,i)&&d.forEach(y=>{y.currentSnapshot.forEach((E,b)=>c.set(b,E))});let f=Qq(t).map(y=>new Map(y));f=Xq(e,f,c);let m=Rz(e,f);return new bm(e,f,l,m)}};var ym="@",BP="@.disabled",Sm=class{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){t.charAt(0)==ym&&t==BP?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},UI=class extends Sm{constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){t.charAt(0)==ym?t.charAt(1)=="."&&t==BP?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if(t.charAt(0)==ym){let i=Pz(e),s=t.slice(1),o="";return s.charAt(0)!=ym&&([s,o]=kz(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{let l=a._data||-1;this.factory.scheduleListenerCallback(l,r,a)})}return this.delegate.listen(e,t,r)}};function Pz(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function kz(n){let e=n.indexOf("."),t=n.substring(0,e),r=n.slice(e+1);return[t,r]}var Am=class{constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(i,s)=>{s?.removeChild(null,i)}}createRenderer(e,t){let r="",i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let c=this._rendererCache,d=c.get(i);if(!d){let f=()=>c.delete(i);d=new Sm(r,i,this.engine,f),c.set(i,d)}return d}let s=t.id,o=t.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(s,o,e,c.name,c)};return t.data.animation.forEach(a),new UI(this,o,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(s=>{let[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),i.push([t,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var Fz=(()=>{class n extends vl{constructor(t,r,i){super(t,r,i)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(r){return new(r||n)(j(Ae),j(wo),j(Eo))}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac})}}return n})();function Vz(){return new wm}function Lz(n,e,t){return new Am(n,e,t)}var $P=[{provide:Eo,useFactory:Vz},{provide:vl,useClass:Fz},{provide:Ci,useFactory:Lz,deps:[nf,vl,Ee]}],UP=[{provide:wo,useFactory:()=>new Tm},{provide:lv,useValue:"BrowserAnimations"},...$P],jz=[{provide:wo,useClass:zI},{provide:lv,useValue:"NoopAnimations"},...$P],HP=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?jz:UP}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ye({type:n})}static{this.\u0275inj=Qe({providers:UP,imports:[sf]})}}return n})();var qP=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ye({type:n,bootstrap:[fP]})}static{this.\u0275inj=Qe({providers:[Ut],imports:[sf,hP,KM,Xh,hx.initializeApp(hm.firebase),fx,YN,rP.forRoot({closeButton:!0}),HP]})}}return n})();hm.production&&void 0;RA().bootstrapModule(qP).catch(n=>console.error(n));
